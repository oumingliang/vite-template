var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,n=(t,l,o)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o,r=(e,r)=>{for(var a in r||(r={}))t.call(r,a)&&n(e,a,r[a]);if(l)for(var a of l(r))o.call(r,a)&&n(e,a,r[a]);return e};import{x as a}from"./xe-utils.b1404dac.js";import{w as i,h as s,r as c,d,c as u,i as p,n as m,a as f,b as h,e as g,f as v,T as b,p as x,o as w,g as y,j as C,k as S,l as T,m as R,q as O}from"./element-plus.5517972d.js";const E={size:null,zIndex:100,version:0,emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,checkboxConfig:{strict:!0},validConfig:{showMessage:!0,message:"default"},sortConfig:{showIcon:!0},filterConfig:{showIcon:!0},treeConfig:{children:"children",hasChild:"hasChild",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{modes:["insert","covering"]},exportConfig:{modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},areaConfig:{selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{enabled:!0,gt:60},scrollY:{enabled:!0,mode:"wheel",gt:100}},export:{types:{}},icon:{TABLE_SORT_ASC:"vxe-icon--caret-top",TABLE_SORT_DESC:"vxe-icon--caret-bottom",TABLE_FILTER_NONE:"vxe-icon--funnel",TABLE_FILTER_MATCH:"vxe-icon--funnel",TABLE_EDIT:"vxe-icon--edit-outline",TABLE_HELP:"vxe-icon--question",TABLE_TREE_LOADED:"vxe-icon--refresh roll",TABLE_TREE_OPEN:"vxe-icon--caret-right rotate90",TABLE_TREE_CLOSE:"vxe-icon--caret-right",TABLE_EXPAND_LOADED:"vxe-icon--refresh roll",TABLE_EXPAND_OPEN:"vxe-icon--arrow-right rotate90",TABLE_EXPAND_CLOSE:"vxe-icon--arrow-right",BUTTON_DROPDOWN:"vxe-icon--arrow-bottom",BUTTON_LOADING:"vxe-icon--refresh roll",SELECT_LOADED:"vxe-icon--refresh roll",SELECT_OPEN:"vxe-icon--caret-bottom rotate180",SELECT_CLOSE:"vxe-icon--caret-bottom",PAGER_JUMP_PREV:"vxe-icon--d-arrow-left",PAGER_JUMP_NEXT:"vxe-icon--d-arrow-right",PAGER_PREV_PAGE:"vxe-icon--arrow-left",PAGER_NEXT_PAGE:"vxe-icon--arrow-right",PAGER_JUMP_MORE:"vxe-icon--more",INPUT_CLEAR:"vxe-icon--close",INPUT_PWD:"vxe-icon--eye-slash",INPUT_SHOW_PWD:"vxe-icon--eye",INPUT_PREV_NUM:"vxe-icon--caret-top",INPUT_NEXT_NUM:"vxe-icon--caret-bottom",INPUT_DATE:"vxe-icon--calendar",INPUT_SEARCH:"vxe-icon--search",MODAL_ZOOM_IN:"vxe-icon--square",MODAL_ZOOM_OUT:"vxe-icon--zoomout",MODAL_CLOSE:"vxe-icon--close",MODAL_INFO:"vxe-icon--info",MODAL_SUCCESS:"vxe-icon--success",MODAL_WARNING:"vxe-icon--warning",MODAL_ERROR:"vxe-icon--error",MODAL_QUESTION:"vxe-icon--question",MODAL_LOADING:"vxe-icon--refresh roll",TOOLBAR_TOOLS_REFRESH:"vxe-icon--refresh",TOOLBAR_TOOLS_REFRESH_LOADING:"vxe-icon--refresh roll",TOOLBAR_TOOLS_IMPORT:"vxe-icon--upload",TOOLBAR_TOOLS_EXPORT:"vxe-icon--download",TOOLBAR_TOOLS_PRINT:"vxe-icon--print",TOOLBAR_TOOLS_ZOOM_IN:"vxe-icon--zoomin",TOOLBAR_TOOLS_ZOOM_OUT:"vxe-icon--zoomout",TOOLBAR_TOOLS_CUSTOM:"vxe-icon--menu",FORM_PREFIX:"vxe-icon--question",FORM_SUFFIX:"vxe-icon--question",FORM_FOLDING:"vxe-icon--arrow-top rotate180",FORM_UNFOLDING:"vxe-icon--arrow-top"},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},tooltip:{trigger:"hover",theme:"dark",leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},titleAsterisk:!0},input:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},toolbar:{},button:{},radio:{},checkbox:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,storageKey:"VXE_MODAL_POSITION"},list:{scrollY:{enabled:!0,gt:100}},i18n:e=>e};let k=0,I=1;function $(e,t){return`[vxe-table] ${E.i18n(e,t)}`}function M(e){return function(t,l){const o=$(t,l);return console[e](o),o}}function D(e){return e&&!1!==e.enabled}function L(e){return null==e||""===e}function N(e){const t=e.name,l=a.lastIndexOf(t,"."),o=t.substring(l+1,t.length);return{filename:t.substring(0,l),type:o}}function F(){return I=E.zIndex+k++,I}function P(){return I}const A=M("warn"),V=M("error");function H(e){return!isNaN(parseFloat(""+e))}function _(e){return e&&e.children&&e.children.length>0}function j(e){return e?a.toValueString(E.translate?E.translate(""+e):e):""}function z(e,t){return""+(L(e)?t?E.emptyCell:"":e)}function B(e){return""===e||a.eqNull(e)}const W={},q={mixin:e=>(a.each(e,((e,t)=>q.add(t,e))),q),get:e=>W[e]||[],add(e,t){if(t){let l=W[e];l||(l=W[e]=[]),l.push(t)}return q},delete(e,t){const l=W[e];l&&(t?a.remove(l,(e=>e===t)):delete W[e])}};class Y{constructor(e,t,{renderHeader:l,renderCell:o,renderFooter:n,renderData:r}={}){const i=e.xegrid,s=t.formatter,c=!a.isBoolean(t.visible)||t.visible;if(Object.assign(this,{type:t.type,property:t.field,title:t.title,width:t.width,minWidth:t.minWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:s,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:be(t.filters),filterMultiple:!a.isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:t.filterRender,treeNode:t.treeNode,cellType:t.cellType,cellRender:t.cellRender,editRender:t.editRender,contentRender:t.contentRender,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,params:t.params,id:t.colId||a.uniqueId("col_"),parentId:null,visible:c,halfVisible:!1,defaultVisible:c,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:l||t.renderHeader,renderCell:o||t.renderCell,renderFooter:n||t.renderFooter,renderData:r,slots:t.slots}),i){const{computeProxyOpts:e}=i.getComputeMaps(),t=e.value;t.beforeColumn&&t.beforeColumn({$grid:i,column:this})}}getTitle(){return j(this.title||("seq"===this.type?E.i18n("vxe.table.seqTitle"):""))}getKey(){return this.property||(this.type?`type=${this.type}`:null)}update(e,t){"filters"!==e&&("field"===e?this.property=t:this[e]=t)}}const U={},G=a.browse();function X(e){return U[e]||(U[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),U[e]}function Z(e,t,l){if(e){const o=e.parentNode;if(l.top+=e.offsetTop,l.left+=e.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(l.top-=o.scrollTop,l.left-=o.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return Z(e.offsetParent,t,l)}return l}function K(e){return e&&/^\d+(px)?$/.test(e)}function J(e){return e&&/^\d+%$/.test(e)}function Q(e,t){return e&&e.className&&e.className.match&&e.className.match(X(t))}function ee(e,t){e&&Q(e,t)&&(e.className=e.className.replace(X(t),""))}function te(e,t){e&&!Q(e,t)&&(ee(e,t),e.className=`${e.className} ${t}`)}function le(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function oe(e){return e?e.offsetHeight:0}function ne(e){if(e){const t=getComputedStyle(e);return a.toNumber(t.paddingTop)+a.toNumber(t.paddingBottom)}return 0}function re(e,t){e&&(e.scrollTop=t)}function ae(e,t){e&&(e.scrollLeft=t)}function ie(e,t){const l="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==l&&e.setAttribute("title",l)}function se(e,t,l,o){let n,r=e.target;for(;r&&r.nodeType&&r!==document;){if(l&&Q(r,l)&&(!o||o(r)))n=r;else if(r===t)return{flag:!l||!!n,container:t,targetElem:n};r=r.parentNode}return{flag:!1}}function ce(e,t){return Z(e,t,{left:0,top:0})}function de(e){const t=e.getBoundingClientRect(),l=t.top,o=t.left,{scrollTop:n,scrollLeft:r,visibleHeight:a,visibleWidth:i}=le();return{boundingTop:l,top:n+l,boundingLeft:o,left:r+o,visibleHeight:a,visibleWidth:i}}function ue(){return a.uniqueId("row_")}function pe(e){const{props:t}=e,{rowId:l}=t;return l||"_XID"}function me(e,t){const l=a.get(t,pe(e));return l?encodeURIComponent(l):""}const fe=(e,t)=>t?a.isString(t)?e.getColumnByField(t):t:null;function he(e){if(e){const t=getComputedStyle(e);return a.toNumber(t.paddingLeft)+a.toNumber(t.paddingRight)}return 0}function ge(e){if(e){const t=getComputedStyle(e),l=a.toNumber(t.marginLeft),o=a.toNumber(t.marginRight);return e.offsetWidth+l+o}return 0}function ve(e,t){return e.querySelector(".vxe-cell"+t)}function be(e){return e&&a.isArray(e)?e.map((({label:e,value:t,data:l,resetValue:o,checked:n})=>({label:e,value:t,data:l,resetValue:o,checked:!!n,_checked:!!n}))):e}function xe(e,t){return a.get(e,t.property)}function we(e,t,l){return a.set(e,t.property,l)}function ye(e,t){return e?a.isFunction(e)?e(t):e:""}function Ce(e){return e&&(e.constructor===Y||e instanceof Y)}function Se(e,t){Object.keys(e).forEach((l=>{i((()=>e[l]),(e=>{t.update(l,e)}))}))}function Te(e,t,l,o){const{reactData:n}=e,{staticColumns:r}=n,i=t.parentNode,s=o?o.column:null,c=s?s.children:r;i&&c&&(c.splice(a.arrayIndexOf(i.children,t),0,l),n.staticColumns=r.slice(0))}function Re(e,t){const{reactData:l}=e,{staticColumns:o}=l,n=a.findTree(o,(e=>e.id===t.id),{children:"children"});n&&n.items.splice(n.index,1),l.staticColumns=o.slice(0)}function Oe(e,t,l){for(let o=0;o<e.length;o++){const{row:n,col:r,rowspan:a,colspan:i}=e[o];if(r>-1&&n>-1&&a&&i){if(n===t&&r===l)return{rowspan:a,colspan:i};if(t>=n&&t<n+a&&l>=r&&l<r+i)return{rowspan:0,colspan:0}}}}function Ee(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}const ke={transfer:!0};function Ie(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function $e(e){switch(e.name){case"input":case"textarea":case"$input":case"$textarea":return"input"}return"change"}function Me(e,t,l){const{dateConfig:o={}}=t;return a.toDateString(function(e,t){return e&&t.valueFormat?a.toStringDate(e,t.valueFormat):e}(e,t),o.labelFormat||l)}function De(e){return`vxe-${e.replace("$","")}`}function Le({name:e}){return c(De(e))}function Ne(e,t,l){const{$panel:o}=e;o.changeOption({},t,l)}function Fe(e){let{name:t,attrs:l}=e;return"input"===t&&(l=Object.assign({type:"text"},l)),l}function Pe(e){const{name:t,immediate:l,props:o}=e;if(!l){if("$input"===t){const{type:e}=o||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return l}function Ae(e,t,l,o){return a.assign({immediate:Pe(e)},ke,o,e.props,{modelValue:l})}function Ve(e,t,l,o){return a.assign({},ke,o,e.props,{modelValue:l})}function He(e,t,l,o){return a.assign({},ke,o,e.props,{modelValue:l})}function _e(e,t){return"cell"===t.$type||Pe(e)}function je(e,t,l){const{placeholder:o}=e;return[s("span",{class:"vxe-cell--label"},o&&L(l)?[s("span",{class:"vxe-cell--placeholder"},z(j(o),1))]:z(l,1))]}function ze(e,t,l,o){const{events:n}=e,r=Ie(e),i=$e(e),s=i===r,c={};return n&&a.objectEach(n,((e,l)=>{c[Ee(l)]=function(...l){e(t,...l)}})),l&&(c[Ee(r)]=function(e){l(e),s&&o&&o(e),n&&n[r]&&n[r](t,e)}),!s&&o&&(c[Ee(i)]=function(...e){o(...e),n&&n[i]&&n[i](t,...e)}),c}function Be(e,t,l,o){const{events:n}=e,r=Ie(e),i=$e(e),s={};return a.objectEach(n,((e,l)=>{s[Ee(l)]=function(...l){e(t,...l)}})),l&&(s[Ee(r)]=function(e){l(e),n&&n[r]&&n[r](t,e)}),o&&(s[Ee(i)]=function(...e){o(...e),n&&n[i]&&n[i](t,...e)}),s}function We(e,t){const{$table:l,row:o,column:n}=t,{name:r}=e,{model:a}=n,i=_e(e,t);return Be(e,t,(e=>{i?we(o,n,e):(a.update=!0,a.value=e)}),(e=>{if(i||"$input"!==r&&"$textarea"!==r)l.updateStatus(t);else{const o=e.value;a.update=!0,a.value=o,l.updateStatus(t,o)}}))}function qe(e,t,l){return Be(e,t,(e=>{l.data=e}),(()=>{Ne(t,!a.eqNull(l.data),l)}))}function Ye(e,t){const{$form:l,data:o,property:n}=t;return Be(e,t,(e=>{a.set(o,n,e)}),(()=>{l.updateStatus(t)}))}function Ue(e,t){const{$table:l,row:o,column:n}=t,{model:r}=n;return ze(e,t,(l=>{const a=l.target.value;_e(e,t)?we(o,n,a):(r.update=!0,r.value=a)}),(e=>{const o=e.target.value;l.updateStatus(t,o)}))}function Ge(e,t,l){return ze(e,t,(e=>{l.data=e.target.value}),(()=>{Ne(t,!a.eqNull(l.data),l)}))}function Xe(e,t){const{$form:l,data:o,property:n}=t;return ze(e,t,(e=>{const t=e.target.value;a.set(o,n,t)}),(()=>{l.updateStatus(t)}))}function Ze(e,t){const{row:l,column:o}=t,{name:n}=e,a=_e(e,t)?xe(l,o):o.model.value;return[s(n,r(r(r({class:`vxe-default-${n}`},Fe(e)),{value:a}),Ue(e,t)))]}function Ke(e,t){const{row:l,column:o}=t,n=xe(l,o);return[s(Le(e),r(r({},Ae(e,0,n)),We(e,t)))]}function Je(e,t){return[s("vxe-button",r(r({},Ae(e,0,null)),Be(e,t)))]}function Qe(e,t,l){const{optionGroups:o,optionGroupProps:n={}}=e,r=n.options||"options",a=n.label||"label";return o.map(((o,n)=>s("optgroup",{key:n,label:o[a]},l(o[r],e,t))))}function et(e,t,l){const{optionProps:o={}}=t,{row:n,column:r}=l,a=o.label||"label",i=o.value||"value",c=o.disabled||"disabled",d=_e(t,l)?xe(n,r):r.model.value;return e.map(((e,t)=>s("option",{key:t,value:e[i],disabled:e[c],selected:e[i]==d},e[a])))}function tt({option:e,row:t,column:l}){const{data:o}=e;return a.get(t,l.property)==o}function lt(e,t){return[s("select",r(r({class:"vxe-default-select"},Fe(e)),Ue(e,t)),e.optionGroups?Qe(e,t,et):et(e.options,e,t))]}function ot(e,t){const{row:l,column:o}=t,{options:n,optionProps:a,optionGroups:i,optionGroupProps:c}=e,d=xe(l,o);return[s(Le(e),r(r({},Ae(e,0,d,{options:n,optionProps:a,optionGroups:i,optionGroupProps:c})),We(e,t)))]}function nt(e,{row:t,column:l}){const{props:o={},options:n,optionGroups:r,optionProps:i={},optionGroupProps:s={}}=e,c=a.get(t,l.property);let d;const u=i.label||"label",p=i.value||"value";return L(c)?"":a.map(o.multiple?c:[c],r?e=>{const t=s.options||"options";for(let l=0;l<r.length&&(d=a.find(r[l][t],(t=>t[p]==e)),!d);l++);return d?d[u]:e}:e=>(d=a.find(n,(t=>t[p]==e)),d?d[u]:e)).join(", ")}function rt(e,t){const{data:l,property:o}=t,{name:n}=e,i=Fe(e),c=a.get(l,o);return[s(n,r(r(r({class:`vxe-default-${n}`},i),{value:!i||"input"!==n||"submit"!==i.type&&"reset"!==i.type?c:null}),Xe(e,t)))]}function at(e,t){const{data:l,property:o}=t,n=a.get(l,o);return[s(Le(e),r(r({},He(e,0,n)),Ye(e,t)))]}function it(e,t){return[s(c("vxe-button"),r(r({},He(e,0,null)),Be(e,t)))]}function st(e,t,l){const{data:o,property:n}=l,{optionProps:r={}}=t,i=r.label||"label",c=r.value||"value",d=r.disabled||"disabled",u=a.get(o,n);return e.map(((e,t)=>s("option",{key:t,value:e[c],disabled:e[d],selected:e[c]==u},e[i])))}function ct(e){const{row:t,column:l,options:o}=e;return o.original?xe(t,l):nt(l.editRender||l.cellRender,e)}function dt(e,t){const{name:l,options:o,optionProps:n={}}=e,{data:i,property:d}=t,u=n.label||"label",p=n.value||"value",m=n.disabled||"disabled",f=a.get(i,d),h=De(l);return[s(c(`${h}-group`),r(r({},He(e,0,f)),Ye(e,t)),{default:()=>o.map(((e,t)=>s(c(h),{key:t,label:e[p],content:e[u],disabled:e[m]})))})]}const ut={input:{autofocus:"input",renderEdit:Ze,renderDefault:Ze,renderFilter:function(e,t){const{column:l}=t,{name:o}=e,n=Fe(e);return l.filters.map(((l,a)=>s(o,r(r(r({key:a,class:`vxe-default-${o}`},n),{value:l.data}),Ge(e,t,l)))))},filterMethod:tt,renderItemContent:rt},textarea:{autofocus:"textarea",renderEdit:Ze,renderItemContent:rt},select:{renderEdit:lt,renderDefault:lt,renderCell:(e,t)=>je(e,0,nt(e,t)),renderFilter(e,t){const{column:l}=t;return l.filters.map(((l,o)=>s("select",r(r({key:o,class:"vxe-default-select"},Fe(e)),Ge(e,t,l)),e.optionGroups?Qe(e,t,et):et(e.options,e,t))))},filterMethod:tt,renderItemContent:(e,t)=>[s("select",r(r({class:"vxe-default-select"},Fe(e)),Xe(e,t)),e.optionGroups?Qe(e,t,st):st(e.options,e,t))],cellExportMethod:ct},$input:{autofocus:".vxe-input--inner",renderEdit:Ke,renderCell(e,t){const{props:l={}}=e,{row:o,column:n}=t,r=l.digits||E.input.digits;let i=a.get(o,n.property);if(i)switch(l.type){case"date":case"week":case"month":case"year":i=function(e,t){return Me(e,t,E.i18n(`vxe.input.date.labelFormat.${t.type}`))}(i,l);break;case"float":i=a.toFixed(a.floor(i,r),r)}return je(e,0,i)},renderDefault:Ke,renderFilter:function(e,t){const{column:l}=t;return l.filters.map(((l,o)=>{const n=l.data;return s(Le(e),r(r({key:o},Ve(e,0,n)),qe(e,t,l)))}))},filterMethod:tt,renderItemContent:at},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:at},$button:{renderDefault:Je,renderItemContent:it},$buttons:{renderDefault:function(e,t){return e.children.map((e=>Je(e,t)[0]))},renderItemContent:function(e,t){return e.children.map((e=>it(e,t)[0]))}},$select:{autofocus:".vxe-input--inner",renderEdit:ot,renderDefault:ot,renderCell:(e,t)=>je(e,0,nt(e,t)),renderFilter(e,t){const{column:l}=t,{options:o,optionProps:n,optionGroups:a,optionGroupProps:i}=e;return l.filters.map(((l,c)=>{const d=l.data;return s(Le(e),r(r({key:c},Ve(e,0,d,{options:o,optionProps:n,optionGroups:a,optionGroupProps:i})),qe(e,t,l)))}))},filterMethod:tt,renderItemContent(e,t){const{data:l,property:o}=t,{options:n,optionProps:i,optionGroups:c,optionGroupProps:d}=e,u=a.get(l,o);return[s(Le(e),r(r({},He(e,0,u,{options:n,optionProps:i,optionGroups:c,optionGroupProps:d})),Ye(e,t)))]},cellExportMethod:ct},$radio:{autofocus:".vxe-radio--input",renderItemContent:dt},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:dt},$switch:{autofocus:".vxe-switch--button",renderEdit:Ke,renderDefault:Ke,renderItemContent:at}},pt={mixin:e=>(a.each(e,((e,t)=>pt.add(t,e))),pt),get:e=>ut[e]||null,add(e,t){if(e&&t){const l=ut[e];l?Object.assign(l,t):ut[e]=t}return pt},delete:e=>(delete ut[e],pt)};class mt{constructor(){this.store={}}mixin(e){return Object.assign(this.store,e),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){return this.store[e]=t,this}delete(e){delete this.store[e]}forEach(e){a.objectEach(this.store,e)}}const ft=new mt,ht=new mt,gt=new mt,vt=new mt,bt=e=>a.merge(E,e);function xt(e,t){const l=[];return a.objectEach(e,((e,o)=>{0!==e&&e!==t||l.push(o)})),l}const wt=[];function yt(e,t){return e&&e.install&&-1===wt.indexOf(e)&&(e.install(Rt,t),wt.push(e)),Rt}function Ct(e,t){return E.i18n(e,t)}function St(e,t){return e?a.toValueString(E.translate?E.translate(e,t):e):""}const Tt=new class{get zIndex(){return P()}get nextZIndex(){return F()}get exportTypes(){return xt(E.export.types,1)}get importTypes(){return xt(E.export.types,2)}},Rt={v:"v4",setup:bt,interceptor:q,renderer:pt,commands:ft,formats:gt,menus:ht,hooks:vt,config:Tt,use:yt,t:Ct,_t:St},Ot={install(){}};var Et=d({name:"VxeTableFilter",props:{filterStore:Object},setup(e){const t=p("$xetable",{}),{reactData:l,internalData:o}=t,{computeFilterOpts:n}=t.getComputeMaps(),r=u((()=>{const{filterStore:t}=e;return t&&t.options.some((e=>e.checked))})),a=e=>{const{filterStore:o,scrollXLoad:r,scrollYLoad:a}=l,i=n.value,{column:s}=o,{property:c}=s,d=[],u=[];s.filters.forEach((e=>{e.checked&&(d.push(e.value),u.push(e.data))})),o.visible=!1;const p=t.getCheckedFilters();i.remote||(t.handleTableData(!0),t.checkSelectionStatus()),t.dispatchEvent("filter-change",{column:s,property:c,values:d,datas:u,filters:p,filterList:p},e),t.updateFooter(),(r||a)&&(t.clearScroll(),a&&t.updateScrollYSpace()),t.closeFilter(),m((()=>{t.recalculate(),t.updateCellAreas()}))},i=t=>{const{filterStore:l}=e;l.options.forEach((e=>{e.checked=e._checked})),a(t)},c=(l,o,n)=>{const{filterStore:r}=e;r.options.forEach((e=>{e._checked=!1})),n._checked=o,t.checkFilterOptions(),i(l)},d=l=>{const{filterStore:o}=e;t.handleClearFilter(o.column),a(l)},f=(e,l,o)=>{o._checked=l,t.checkFilterOptions()},h=(t,l,o)=>{const{filterStore:n}=e;n.multiple?f(0,l,o):c(t,l,o)},g=(t,l)=>{const{filterStore:o}=e;o.multiple?((t,l)=>{const{filterStore:o}=e;o.options.forEach((e=>{e._checked=l,e.checked=l})),o.isAllSelected=l,o.isIndeterminate=!1})(0,l):d(t)},v={changeRadioOption:c,changeMultipleOption:f,changeAllOption:g,changeOption:h,confirmFilter:i,resetFilter:d};return()=>{const{filterStore:n}=e,{initStore:a}=l,{column:c}=n,u=c?c.filterRender:null,p=u?Rt.renderer.get(u.name):null;return s("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",p&&p.className?p.className:"",{"is--animat":t.props.animat,"is--multiple":n.multiple,"is--active":n.visible}],style:n.style},a.filter?((l,n)=>{const{filterStore:r}=e,{column:a,multiple:i,maxHeight:c}=r,{slots:d}=a,u=d?d.filter:null,p=Object.assign({},o._currFilterParams,{$panel:v,$table:t});return u?[s("div",{class:"vxe-table--filter-template"},t.callSlot(u,p))]:n&&n.renderFilter?[s("div",{class:"vxe-table--filter-template"},n.renderFilter(l,p))]:[s("ul",{class:"vxe-table--filter-header"},[s("li",{class:["vxe-table--filter-option",{"is--checked":i?r.isAllSelected:!r.options.some((e=>e._checked)),"is--indeterminate":i&&r.isIndeterminate}],title:E.i18n(i?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{g(e,!r.isAllSelected)}},(i?[s("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})]:[]).concat([s("span",{class:"vxe-checkbox--label"},E.i18n("vxe.table.allFilter"))]))]),s("ul",{class:"vxe-table--filter-body",style:c?{maxHeight:`${c}px`}:{}},r.options.map((e=>s("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{h(t,!e._checked,e)}},(i?[s("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})]:[]).concat([s("span",{class:"vxe-checkbox--label"},z(e.label,1))])))))]})(u,p).concat((()=>{const{filterStore:t}=e,{column:l,multiple:o}=t,n=r.value,a=l.filterRender,c=a?Rt.renderer.get(a.name):null,u=!n&&!t.isAllSelected&&!t.isIndeterminate;return!o||c&&!1===c.showFilterFooter?[]:[s("div",{class:"vxe-table--filter-footer"},[s("button",{class:{"is--disabled":u},disabled:u,onClick:i},E.i18n("vxe.table.confirmFilter")),s("button",{onClick:d},E.i18n("vxe.table.resetFilter"))])]})()):[])}}});const kt=["setFilter","clearFilter","getCheckedFilters"],It={setupTable(e){const{reactData:t,internalData:l}=e,{refTableBody:o,refTableFilter:n}=e.getRefMaps(),{computeFilterOpts:i}=e.getComputeMaps(),s={checkFilterOptions(){const{filterStore:e}=t;e.isAllSelected=e.options.every((e=>e._checked)),e.isIndeterminate=!e.isAllSelected&&e.options.some((e=>e._checked))},triggerFilterEvent(r,a,i){const{initStore:s,filterStore:c}=t;if(c.column===a&&c.visible)c.visible=!1;else{const{target:t,pageX:d}=r,{visibleWidth:u}=le(),{filters:p,filterMultiple:f,filterRender:h}=a,g=h?Rt.renderer.get(h.name):null,v=a.filterRecoverMethod||(g?g.filterRecoverMethod:null);l._currFilterParams=i,Object.assign(c,{multiple:f,options:p,column:a,style:null}),c.options.forEach((t=>{const{_checked:l,checked:o}=t;t._checked=o,o||l===o||v&&v({option:t,column:a,$table:e})})),this.checkFilterOptions(),c.visible=!0,s.filter=!0,m((()=>{const e=o.value.$el,l=n.value,r=l?l.$el:null;let i=0,s=0,p=null,m=null;r&&(i=r.offsetWidth,s=r.offsetHeight,p=r.querySelector(".vxe-table--filter-header"),m=r.querySelector(".vxe-table--filter-footer"));const f=i/2,h=e.clientWidth-i-10;let g,v;const b={top:`${t.offsetTop+t.offsetParent.offsetTop+t.offsetHeight+8}px`};let x=null;if(s>=e.clientHeight&&(x=e.clientHeight-(m?m.offsetHeight:0)-(p?p.offsetHeight:0)),"left"===a.fixed?g=t.offsetLeft+t.offsetParent.offsetLeft-f:"right"===a.fixed?v=t.offsetParent.offsetWidth-t.offsetLeft+(t.offsetParent.offsetParent.offsetWidth-t.offsetParent.offsetLeft)-a.renderWidth-f:g=t.offsetLeft+t.offsetParent.offsetLeft-f-e.scrollLeft,g){const e=d+i-f+10-u;e>0&&(g-=e),b.left=`${Math.min(h,Math.max(10,g))}px`}else if(v){const e=d+i-f+10-u;e>0&&(v+=e),b.right=`${Math.max(10,v)}px`}c.style=b,c.maxHeight=x}))}},handleClearFilter(t){if(t){const{filters:l,filterRender:o}=t;if(l){const n=o?Rt.renderer.get(o.name):null,r=t.filterResetMethod||(n?n.filterResetMethod:null);l.forEach((e=>{e._checked=!1,e.checked=!1,r||(e.data=a.clone(e.resetValue,!0))})),r&&r({options:l,column:t,$table:e})}}}};return r(r({},{setFilter(t,l){const o=fe(e,t);return o&&o.filters&&l&&(o.filters=be(l)),m()},clearFilter(o){const{filterStore:n}=t,{tableFullColumn:r}=l,a=i.value;let c;return o?(c=fe(e,o),c&&s.handleClearFilter(c)):r.forEach(s.handleClearFilter),o&&c===n.column||Object.assign(n,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),a.remote?m():e.updateData()},getCheckedFilters(){const{tableFullColumn:e}=l,t=[];return e.filter((e=>{const{property:l,filters:o}=e,n=[],r=[];o&&o.length&&(o.forEach((e=>{e.checked&&(n.push(e.value),r.push(e.data))})),n.length&&t.push({column:e,property:l,values:n,datas:r}))})),t}}),s)},setupGrid:e=>e.extendTableMethods(kt)};let $t;const Mt=f({modals:[]}),Dt=h(d({setup:()=>()=>{const{modals:e}=Mt;return s("div",{class:"vxe-dynamics--modal"},e.map((e=>s(c("vxe-modal"),e))))}}));const Lt={Panel:Et,install(e){Rt.hooks.add("$tableFilter",It),Dt.component(Et.name,Et),e.component(Et.name,Et)}};var Nt=d({name:"VxeTableContextMenu",setup(e,t){const l=a.uniqueId(),o=p("$xetable",{}),{reactData:n}=o,r=g(),i={refElem:r},c={xID:l,props:e,context:t,getRefMaps:()=>i};return c.renderVN=()=>{const{ctxMenuStore:e}=n,{computeMenuOpts:t}=o.getComputeMaps(),l=t.value;return s(b,{to:"body",disabled:!1},[s("div",{ref:r,class:["vxe-table--context-menu-wrapper",l.className,{"is--visible":e.visible}],style:e.style},e.list.map(((t,l)=>t.every((e=>!1===e.visible))?v():s("ul",{class:"vxe-context-menu--option-wrapper",key:l},t.map(((t,n)=>{const r=t.children&&t.children.length;return!1===t.visible?null:s("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${l}_${n}`},[s("a",{class:"vxe-context-menu--link",onClick(e){o.ctxMenuLinkEvent(e,t)},onMouseover(e){o.ctxMenuMouseoverEvent(e,t)},onMouseout(e){o.ctxMenuMouseoutEvent(e,t)}},[s("i",{class:["vxe-context-menu--link-prefix",t.prefixIcon]}),s("span",{class:"vxe-context-menu--link-content"},j(t.name)),s("i",{class:["vxe-context-menu--link-suffix",r?t.suffixIcon||"suffix--haschild":t.suffixIcon]})]),r?s("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map(((r,a)=>!1===r.visible?null:s("li",{class:[r.className,{"link--disabled":r.disabled,"link--active":r===e.selectChild}],key:`${l}_${n}_${a}`},[s("a",{class:"vxe-context-menu--link",onClick(e){o.ctxMenuLinkEvent(e,r)},onMouseover(e){o.ctxMenuMouseoverEvent(e,t,r)},onMouseout(e){o.ctxMenuMouseoutEvent(e,t)}},[s("i",{class:["vxe-context-menu--link-prefix",r.prefixIcon]}),s("span",{class:"vxe-context-menu--link-content"},j(r.name))])])))):null])}))))))])},c},render(){return this.renderVN()}});const Ft="F2",Pt="Escape",At="Enter",Vt="Tab",Ht="Delete",_t="Backspace",jt=" ",zt="ContextMenu",Bt="ArrowUp",Wt="ArrowDown",qt="ArrowLeft",Yt="ArrowRight",Ut="PageUp",Gt="PageDown",Xt={" ":"Spacebar",Apps:zt,Del:Ht,Up:Bt,Down:Wt,Left:qt,Right:Yt},Zt=G.firefox?"DOMMouseScroll":"mousewheel",Kt=[],Jt=(e,t)=>{const{key:l}=e;return t=t.toLowerCase(),!!l&&(t===l.toLowerCase()||!(!Xt[l]||Xt[l].toLowerCase()!==t))};function Qt(e){const t=e.type===Zt;Kt.forEach((({type:l,cb:o})=>{e.cancelBubble||(l===e.type||t&&"mousewheel"===l)&&o(e)}))}const el={on(e,t,l){Kt.push({comp:e,type:t,cb:l})},off(e,t){a.remove(Kt,(l=>l.comp===e&&l.type===t))},trigger:Qt,eqKeypad(e,t){const{key:l}=e;return t.toLowerCase()===l.toLowerCase()}};G.isDoc&&(G.msie||(document.addEventListener("copy",Qt,!1),document.addEventListener("cut",Qt,!1),document.addEventListener("paste",Qt,!1)),document.addEventListener("keydown",Qt,!1),document.addEventListener("contextmenu",Qt,!1),window.addEventListener("mousedown",Qt,!1),window.addEventListener("blur",Qt,!1),window.addEventListener("resize",Qt,!1),window.addEventListener(Zt,a.throttle(Qt,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const tl=["closeMenu"],ll={setupTable(e){const{xID:t,props:l,reactData:o,internalData:n}=e,{refElem:i,refTableFilter:s,refTableMenu:c}=e.getRefMaps(),{computeMouseOpts:d,computeIsMenu:u,computeMenuOpts:p}=e.getComputeMaps();let f={},h={};const g=(t,l,r)=>{const{ctxMenuStore:a}=o,i=u.value,s=p.value,d=s[l],h=s.visibleMethod;if(d){const{options:l,disabled:o}=d;o?t.preventDefault():i&&l&&l.length&&(r.options=l,e.preventEvent(t,"event.showMenu",r,(()=>{if(!h||h(r)){t.preventDefault(),e.updateZindex();const{scrollTop:o,scrollLeft:i,visibleHeight:s,visibleWidth:d}=le();let u=t.clientY+o,p=t.clientX+i;const f=()=>{n._currMenuParams=r,Object.assign(a,{visible:!0,list:l,selected:null,selectChild:null,showChild:!1,style:{zIndex:n.tZindex,top:`${u}px`,left:`${p}px`}}),m((()=>{const e=c.value.getRefMaps().refElem.value,t=e.clientHeight,l=e.clientWidth,{boundingTop:n,boundingLeft:r}=de(e),m=r+l-d;n+t-s>-10&&(a.style.top=`${Math.max(o+2,u-t-2)}px`),m>-10&&(a.style.left=`${Math.max(i+2,p-l-2)}px`)}))},{keyboard:h,row:g,column:v}=r;h&&g&&v?e.scrollToRow(g,v).then((()=>{const t=e.getCell(g,v);if(t){const{boundingTop:e,boundingLeft:l}=de(t);u=e+o+Math.floor(t.offsetHeight/2),p=l+i+Math.floor(t.offsetWidth/2)}f()})):f()}else f.closeMenu()})))}e.closeFilter()};return f={closeMenu:()=>(Object.assign(o.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),m())},h={moveCtxMenu(e,t,l,o,n,r){let i;const s=a.findIndexOf(r,(e=>t[l]===e));if(o)n&&_(t.selected)?t.showChild=!0:(t.showChild=!1,t.selectChild=null);else if(Jt(e,Bt)){for(let e=s-1;e>=0;e--)if(!1!==r[e].visible){i=r[e];break}t[l]=i||r[r.length-1]}else if(Jt(e,Wt)){for(let e=s+1;e<r.length;e++)if(!1!==r[e].visible){i=r[e];break}t[l]=i||r[0]}else t[l]&&(Jt(e,At)||Jt(e,jt))&&h.ctxMenuLinkEvent(e,t[l])},handleGlobalContextmenuEvent(r){const{mouseConfig:a,menuConfig:u}=l,{editStore:m,ctxMenuStore:h}=o,{visibleColumn:v}=n,b=s.value,x=c.value,w=d.value,y=p.value,C=i.value,{selected:S}=m,T=["header","body","footer"];if(u){if(h.visible&&x&&se(r,x.getRefMaps().refElem.value).flag)return void r.preventDefault();if(n._keyCtx){const t="body",l={type:t,$table:e,keyboard:!0,columns:v.slice(0),$event:r};if(a&&w.area){const o=e.getActiveCellArea();if(o&&o.row&&o.column)return l.row=o.row,l.column=o.column,void g(r,t,l)}else if(a&&w.selected&&S.row&&S.column)return l.row=S.row,l.column=S.column,void g(r,t,l)}for(let l=0;l<T.length;l++){const o=T[l],n=se(r,C,`vxe-${o}--column`,(e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===t)),a={type:o,$table:e,columns:v.slice(0),$event:r};if(n.flag){const t=n.targetElem,l=e.getColumnNode(t),i=l?l.item:null;let s=`${o}-`;if(i&&Object.assign(a,{column:i,columnIndex:e.getColumnIndex(i),cell:t}),"body"===o){const l=e.getRowNode(t.parentNode),o=l?l.item:null;s="",o&&(a.row=o,a.rowIndex=e.getRowIndex(o))}const c=`${s}cell-menu`;return g(r,o,a),void e.dispatchEvent(c,a,r)}if(se(r,C,`vxe-table--${o}-wrapper`,(e=>e.getAttribute("xid")===t)).flag)return void("cell"===y.trigger?r.preventDefault():g(r,o,a))}}b&&!se(r,b.$el).flag&&e.closeFilter(),f.closeMenu()},ctxMenuMouseoverEvent(e,t,l){const n=e.currentTarget,{ctxMenuStore:r}=o;e.preventDefault(),e.stopPropagation(),r.selected=t,r.selectChild=l,l||(r.showChild=_(t),r.showChild&&m((()=>{const e=n.nextElementSibling;if(e){const{boundingTop:t,boundingLeft:l,visibleHeight:o,visibleWidth:r}=de(n),a=t+n.offsetHeight;let i="",s="";l+n.offsetWidth+e.offsetWidth>r-10&&(i="auto",s=`${n.offsetWidth}px`);let c="",d="";a+e.offsetHeight>o-10&&(c="auto",d="0"),e.style.left=i,e.style.right=s,e.style.top=c,e.style.bottom=d}})))},ctxMenuMouseoutEvent(e,t){const{ctxMenuStore:l}=o;t.children||(l.selected=null),l.selectChild=null},ctxMenuLinkEvent(t,l){if(!l.disabled&&(l.code||!l.children||!l.children.length)){const o=Rt.menus.get(l.code),r=Object.assign({},n._currMenuParams,{menu:l,$table:e,$event:t});o&&o(r,t),e.dispatchEvent("menu-click",r,t),f.closeMenu()}}},r(r({},f),h)},setupGrid:e=>e.extendTableMethods(tl)},ol={Panel:Nt,install(e){Rt.hooks.add("$tableMenu",ll),Dt.component(Nt.name,Nt),e.component(Nt.name,Nt)}},nl=["insert","insertAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getActiveRecord","getSelectedCell","clearActived","clearSelected","isActiveByRow","setActiveRow","setActiveCell","setSelectCell"],rl={setupTable(e){const{props:t,reactData:l,internalData:o}=e,{refElem:n}=e.getRefMaps(),{computeMouseOpts:i,computeEditOpts:s,computeCheckboxOpts:c,computeSYOpts:d,computeTreeOpts:u}=e.getComputeMaps();let p={},f={};const h=(e,t)=>{const{model:l,editRender:o}=t;o&&(l.value=xe(e,t),l.update=!1)},g=(e,t)=>{const{model:l,editRender:o}=t;o&&l.update&&(we(e,t,l.value),l.update=!1,l.value=null)},v=()=>{const e=n.value;if(e){const t=e.querySelector(".col--selected");t&&ee(t,"col--selected")}};function b(){const{editStore:e,tableColumn:t}=l,o=s.value,{actived:n}=e,{row:r,column:a}=n;(r||a)&&("row"===o.mode?t.forEach((e=>g(r,e))):g(r,a))}return p={insert:e=>p.insertAt(e,null),insertAt(n,r){const{treeConfig:i}=t,{mergeList:s,editStore:c,scrollYLoad:u}=l,{afterFullData:p,tableFullData:f}=o,h=d.value;a.isArray(n)||(n=[n]);const g=n.map((t=>e.defineField(Object.assign({},t))));if(r)if(-1===r)p.push(...g),f.push(...g),s.forEach((e=>{const{row:t,rowspan:l}=e;t+l>p.length&&(e.rowspan=l+g.length)}));else{if(i)throw new Error($("vxe.error.noTree",["insert"]));const t=e.findRowIndexOf(p,r);if(-1===t)throw new Error(V("vxe.error.unableInsert"));p.splice(t,0,...g),f.splice(e.findRowIndexOf(f,r),0,...g),s.forEach((e=>{const{row:l,rowspan:o}=e;l>t?e.row=l+g.length:l+o>t&&(e.rowspan=o+g.length)}))}else p.unshift(...g),f.unshift(...g),s.forEach((e=>{const{row:t}=e;t>0&&(e.row=t+g.length)}));return c.insertList.unshift(...g),l.scrollYLoad=!i&&h.gt>-1&&h.gt<f.length,e.updateFooter(),e.updateCache(),e.handleTableData(),e.updateAfterDataIndex(),e.checkSelectionStatus(),u&&e.updateScrollYSpace(),m().then((()=>(e.updateCellAreas(),e.recalculate()))).then((()=>({row:g.length?g[g.length-1]:null,rows:g})))},remove(n){const{treeConfig:r}=t,{mergeList:i,editStore:s,selection:u,scrollYLoad:f}=l,{afterFullData:h,tableFullData:g}=o,v=c.value,b=d.value,{actived:x,removeList:w,insertList:y}=s,{checkField:C}=v;let S=[];return n?a.isArray(n)||(n=[n]):n=g,n.forEach((t=>{e.isInsertByRow(t)||w.push(t)})),C||n.forEach((t=>{const l=e.findRowIndexOf(u,t);l>-1&&u.splice(l,1)})),g===n?(n=S=g.slice(0),o.tableFullData=[],o.afterFullData=[],e.clearMergeCells()):n.forEach((t=>{const l=e.findRowIndexOf(g,t);if(l>-1){const e=g.splice(l,1);S.push(e[0])}const o=e.findRowIndexOf(h,t);o>-1&&(i.forEach((e=>{const{row:t,rowspan:l}=e;t>o?e.row=t-1:t+l>o&&(e.rowspan=l-1)})),h.splice(o,1))})),x.row&&e.findRowIndexOf(n,x.row)>-1&&p.clearActived(),n.forEach((t=>{const l=e.findRowIndexOf(y,t);l>-1&&y.splice(l,1)})),l.scrollYLoad=!r&&b.gt>-1&&b.gt<g.length,e.updateFooter(),e.updateCache(),e.handleTableData(),e.updateAfterDataIndex(),e.checkSelectionStatus(),f&&e.updateScrollYSpace(),m().then((()=>(e.updateCellAreas(),e.recalculate()))).then((()=>({row:S.length?S[S.length-1]:null,rows:S})))},removeCheckboxRow:()=>p.remove(e.getCheckboxRecords()).then((t=>(e.clearCheckboxRow(),t))),removeRadioRow(){const t=e.getRadioRecord();return p.remove(t||[]).then((t=>(e.clearRadioRow(),t)))},removeCurrentRow(){const t=e.getCurrentRecord();return p.remove(t||[]).then((t=>(e.clearCurrentRow(),t)))},getRecordset:()=>({insertRecords:p.getInsertRecords(),removeRecords:p.getRemoveRecords(),updateRecords:p.getUpdateRecords()}),getInsertRecords(){const{editStore:t}=l,{tableFullData:n}=o,r=t.insertList,a=[];return r.length&&n.forEach((t=>{e.findRowIndexOf(r,t)>-1&&a.push(t)})),a},getRemoveRecords(){const{editStore:e}=l;return e.removeList},getUpdateRecords(){const{keepSource:l,treeConfig:n}=t,{tableFullData:r}=o,i=u.value;return l?(b(),n?a.filterTree(r,(t=>e.isUpdateByRow(t)),i):r.filter((t=>e.isUpdateByRow(t)))):[]},getActiveRecord(){const{editStore:t}=l,{afterFullData:r}=o,a=n.value,{args:i,row:s}=t.actived;return i&&e.findRowIndexOf(r,s)>-1&&a.querySelectorAll(".vxe-body--column.col--actived").length?Object.assign({},i):null},getSelectedCell(){const{editStore:e}=l,{args:t,column:o}=e.selected;return t&&o?Object.assign({},t):null},clearActived(t){const{editStore:o}=l,{actived:n}=o,{row:r,column:a}=n;return(r||a)&&(b(),n.args=null,n.row=null,n.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:r,rowIndex:e.getRowIndex(r),$rowIndex:e.getVMRowIndex(r),column:a,columnIndex:e.getColumnIndex(a),$columnIndex:e.getVMColumnIndex(a)},t||null)),(e.clearValidate?e.clearValidate():m()).then((()=>e.recalculate()))},clearSelected(){const{editStore:e}=l,{selected:t}=e;return t.row=null,t.column=null,v(),m()},isActiveByRow(e){const{editStore:t}=l;return t.actived.row===e},setActiveRow(t){const{visibleColumn:l}=o;return e.setActiveCell(t,a.find(l,(e=>D(e.editRender))))},setActiveCell(t,l){const n=a.isString(l)?e.getColumnByField(l):l;return t&&n&&D(n.editRender)?e.scrollToRow(t,n).then((()=>{const l=e.getCell(t,n);return l&&(f.handleActived({row:t,rowIndex:e.getRowIndex(t),column:n,columnIndex:e.getColumnIndex(n),cell:l,$table:e}),o._lastCallTime=Date.now()),m()})):m()},setSelectCell(t,n){const{tableData:r}=l,{visibleColumn:i}=o,c=s.value,d=a.isString(n)?e.getColumnByField(n):n;if(t&&d&&"manual"!==c.trigger){const l=e.findRowIndexOf(r,t);if(l>-1&&d){const o=e.getCell(t,d),n={row:t,rowIndex:l,column:d,columnIndex:i.indexOf(d),cell:o};e.handleSelected(n,{})}}return m()}},f={handleActived(o,n){const{mouseConfig:r}=t,{editStore:a,tableColumn:i}=l,c=s.value,{mode:d,activeMethod:u}=c,{actived:g}=a,{row:v,column:b}=o,{editRender:x}=b,w=o.cell=o.cell||e.getCell(v,b);if(D(x)&&w){if(g.row!==v||"cell"===d&&g.column!==b){let t="edit-disabled";u&&!u(o)||(r&&(p.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),p.clearActived(n),t="edit-actived",b.renderHeight=w.offsetHeight,g.args=o,g.row=v,g.column=b,"row"===d?i.forEach((e=>h(v,e))):h(v,b),m((()=>{f.handleFocus(o,n)}))),e.dispatchEvent(t,{row:v,rowIndex:e.getRowIndex(v),$rowIndex:e.getVMRowIndex(v),column:b,columnIndex:e.getColumnIndex(b),$columnIndex:e.getVMColumnIndex(b)},n)}else{const{column:t}=g;if(r&&(p.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),t!==b){const{model:l}=t;l.update&&we(v,t,l.value),e.clearValidate&&e.clearValidate()}b.renderHeight=w.offsetHeight,g.args=o,g.column=b,setTimeout((()=>{f.handleFocus(o,n)}))}e.focus()}return m()},handleFocus(t){const{row:l,column:o,cell:n}=t,{editRender:r}=o;if(D(r)){const t=pt.get(r.name),{autofocus:a,autoselect:i}=r;let s;if(a&&(s=n.querySelector(a)),!s&&t&&t.autofocus&&(s=n.querySelector(t.autofocus)),s){if(s.focus(),i)s.select();else if(G.msie){const e=s.createTextRange();e.collapse(!1),e.select()}}else e.scrollToRow(l,o)}},handleSelected(o,n){const{mouseConfig:r}=t,{editStore:a}=l,c=i.value,d=s.value,{actived:u,selected:h}=a,{row:g,column:v}=o,b=r&&c.selected;return!b||h.row===g&&h.column===v||(u.row!==g||"cell"===d.mode&&u.column!==v)&&(p.clearActived(n),p.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),h.args=o,h.row=g,h.column=v,b&&f.addCellSelectedClass(),e.focus()),m()},addCellSelectedClass(){const{editStore:t}=l,{selected:o}=t,{row:n,column:r}=o;if(v(),n&&r){const t=e.getCell(n,r);t&&te(t,"col--selected")}}},r(r({},p),f)},setupGrid:e=>e.extendTableMethods(nl)},al={install(){Rt.hooks.add("$tableEdit",rl)}};function il(e){const t=p("xesize",null),l=u((()=>e.size||(t?t.value:null)));return x("xesize",l),l}var sl=d({name:"VxeButton",props:{type:String,className:String,size:{type:String,default:()=>E.button.size||E.size},name:[String,Number],content:String,placement:String,status:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:()=>E.button.transfer}},emits:["click","dropdown-click"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),r=il(e),i=f({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),c={showTime:null},d=g(),p=g(),h=g(),v={refElem:d},x={xID:n,props:e,context:t,reactData:i,internalData:c,getRefMaps:()=>v};let C={};const S=u((()=>{const{type:t}=e;return!!t&&["submit","reset","button"].indexOf(t)>-1})),T=u((()=>{const{type:t}=e;return t&&"text"===t?t:"button"})),R=()=>m().then((()=>{const{transfer:t,placement:l}=e,{panelIndex:o}=i,n=p.value,r=h.value;if(r&&n){const e=n.offsetHeight,a=n.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,d=5,u={zIndex:o},{boundingTop:p,boundingLeft:f,visibleHeight:h,visibleWidth:g}=de(n);let v="bottom";if(t){let t=f+a-c,o=p+e;"top"===l?(v="top",o=p-s):l||(o+s+d>h&&(v="top",o=p-s),o<d&&(v="bottom",o=p+e)),t+c+d>g&&(t-=t+c+d-g),t<d&&(t=d),Object.assign(u,{left:`${t}px`,right:"auto",top:`${o}px`,minWidth:`${a}px`})}else"top"===l?(v="top",u.bottom=`${e}px`):l||p+e+s>h&&p-e-s>d&&(v="top",u.bottom=`${e}px`);return i.panelStyle=u,i.panelPlacement=v,m()}})),O=e=>{C.dispatchEvent("click",{$event:e},e)},k=e=>{0===e.button&&e.stopPropagation()},I=e=>{const t=e.currentTarget,l=h.value,{flag:o,targetElem:n}=se(e,t,"vxe-button");o&&(l&&(l.dataset.active="N"),i.showPanel=!1,setTimeout((()=>{l&&"Y"===l.dataset.active||(i.animatVisible=!1)}),350),C.dispatchEvent("dropdown-click",{name:n.getAttribute("name"),$event:e},e))},$=()=>{const e=h.value;e.dataset.active="Y",i.animatVisible=!0,setTimeout((()=>{"Y"===e.dataset.active&&(i.showPanel=!0,i.panelIndex<P()&&(i.panelIndex=F()),R(),setTimeout((()=>{i.showPanel&&R()}),50))}),20)},M=()=>{const e=h.value;e.dataset.active="Y",i.inited||(i.inited=!0),c.showTime=setTimeout((()=>{"Y"===e.dataset.active?$():i.animatVisible=!1}),250)},D=()=>{const e=h.value;clearTimeout(c.showTime),e?(e.dataset.active="N",setTimeout((()=>{"Y"!==e.dataset.active&&(i.showPanel=!1,setTimeout((()=>{"Y"!==e.dataset.active&&(i.animatVisible=!1)}),350))}),100)):(i.animatVisible=!1,i.showPanel=!1)},L=()=>{D()},N=()=>{const{content:t,icon:o,loading:n}=e,r=[];return n?r.push(s("i",{class:["vxe-button--loading-icon",E.icon.BUTTON_LOADING]})):o&&r.push(s("i",{class:["vxe-button--icon",o]})),l.default?r.push(s("span",{class:"vxe-button--content"},l.default({}))):t&&r.push(s("span",{class:"vxe-button--content"},j(t))),r};C={dispatchEvent(e,t,l){o(e,Object.assign({$button:x,$event:l},t))},focus:()=>(p.value.focus(),m()),blur:()=>(p.value.blur(),m())},Object.assign(x,C),w((()=>{el.on(x,"mousewheel",(e=>{const t=h.value;i.showPanel&&!se(e,t).flag&&D()}))})),y((()=>{el.off(x,"mousewheel")}));return x.renderVN=()=>{const{className:t,transfer:o,type:n,round:a,circle:c,destroyOnClose:u,status:m,name:f,disabled:g,loading:v}=e,{inited:x,showPanel:w}=i,y=S.value,C=T.value,R=r.value;return l.dropdowns?s("div",{ref:d,class:["vxe-button--dropdown",t,{[`size--${R}`]:R,"is--active":w}]},[s("button",{ref:p,class:["vxe-button",`type--${C}`,{[`size--${R}`]:R,[`theme--${m}`]:m,"is--round":a,"is--circle":c,"is--disabled":g||v,"is--loading":v}],name:f,type:y?n:"button",disabled:g||v,onMouseenter:M,onMouseleave:L,onClick:O},N().concat([s("i",{class:`vxe-button--dropdown-arrow ${E.icon.BUTTON_DROPDOWN}`})])),s(b,{to:"body",disabled:!o||!x},[s("div",{ref:h,class:["vxe-button--dropdown-panel",{[`size--${R}`]:R,"animat--leave":i.animatVisible,"animat--enter":w}],placement:i.panelPlacement,style:i.panelStyle},x?[s("div",{class:"vxe-button--dropdown-wrapper",onMousedown:k,onClick:I,onMouseenter:$,onMouseleave:L},u&&!w?[]:l.dropdowns({}))]:[])])]):s("button",{ref:p,class:["vxe-button",`type--${C}`,{[`size--${R}`]:R,[`theme--${m}`]:m,"is--round":a,"is--circle":c,"is--disabled":g||v,"is--loading":v}],name:f,type:y?n:"button",disabled:g||v,onClick:O},N())},x},render(){return this.renderVN()}});const cl=[],dl=[];var ul=d({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>E.modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>E.modal.duration},message:[Number,String],content:[Number,String],cancelButtonText:{type:String,default:()=>E.modal.cancelButtonText},confirmButtonText:{type:String,default:()=>E.modal.confirmButtonText},lockView:{type:Boolean,default:()=>E.modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>E.modal.mask},maskClosable:{type:Boolean,default:()=>E.modal.maskClosable},escClosable:{type:Boolean,default:()=>E.modal.escClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>E.modal.showHeader},showFooter:{type:Boolean,default:()=>E.modal.showFooter},showZoom:Boolean,showClose:{type:Boolean,default:()=>E.modal.showClose},dblclickZoom:{type:Boolean,default:()=>E.modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>E.modal.minWidth},minHeight:{type:[Number,String],default:()=>E.modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:E.modal.marginSize},fullscreen:Boolean,remember:{type:Boolean,default:()=>E.modal.remember},destroyOnClose:{type:Boolean,default:()=>E.modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>E.modal.showTitleOverflow},transfer:{type:Boolean,default:()=>E.modal.transfer},storage:{type:Boolean,default:()=>E.modal.storage},storageKey:{type:String,default:()=>E.modal.storageKey},animat:{type:Boolean,default:()=>E.modal.animat},size:{type:String,default:()=>E.modal.size||E.size},beforeHideMethod:{type:Function,default:()=>E.modal.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),c=il(e),d=f({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!1}),p=g(),h=g(),v=g(),x=g(),y={refElem:p},C={xID:n,props:e,context:t,reactData:d,getRefMaps:()=>y};let S={};const T=u((()=>"message"===e.type)),R=()=>h.value,O=()=>{const{width:t,height:l}=e,o=R();return o.style.width=t?H(t)?`${t}px`:t:"",o.style.height=l?H(l)?`${l}px`:l:"",m()},k=()=>{const{zIndex:t}=e,{modalZindex:l}=d;t?d.modalZindex=t:l<P()&&(d.modalZindex=F())},I=()=>m().then((()=>{const{position:t}=e,l=a.toNumber(e.marginSize),o=R(),n=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight,i="center"===t,{top:s,left:c}=a.isString(t)?{top:t,left:t}:Object.assign({},t),d=i||"center"===s;let u="",p="";p=c&&!(i||"center"===c)?isNaN(c)?c:`${c}px`:`${Math.max(l,n/2-o.offsetWidth/2)}px`,u=s&&!d?isNaN(s)?s:`${s}px`:`${Math.max(l,r/2-o.offsetHeight/2)}px`,o.style.top=u,o.style.left=p})),$=()=>{m((()=>{let e=0;dl.forEach((t=>{const l=t.getBox();e+=a.toNumber(t.props.top),t.reactData.modalTop=e,e+=l.clientHeight}))}))},M=()=>{dl.indexOf(C)>-1&&a.remove(dl,(e=>e===C)),$()},D=t=>{const{remember:l,beforeHideMethod:n}=e,{visible:r}=d,i=T.value,s={type:t};return r&&Promise.resolve(n?n(s):null).then((e=>{a.isError(e)||(i&&M(),d.contentVisible=!1,l||(d.zoomLocat=null),a.remove(cl,(e=>e===C)),S.dispatchEvent("before-hide",s),setTimeout((()=>{d.visible=!1,o("update:modelValue",!1),S.dispatchEvent("hide",s)}),200))})).catch((e=>e)),m()},L=e=>{const t="close";S.dispatchEvent(t,{type:t},e),D(t)},N=e=>{const t="confirm";S.dispatchEvent(t,{type:t},e),D(t)},A=e=>{const t="cancel";S.dispatchEvent(t,{type:t},e),D(t)},_=e=>{const t=E.version,l=a.toStringJSON(localStorage.getItem(e)||"");return l&&l._v===t?l:{_v:t}},z=()=>{const{id:t,remember:l,storage:o,storageKey:n}=e,{zoomLocat:r}=d;if(t&&l&&o){const e=R(),l=_(n);l[t]=[e.style.left,e.style.top,e.style.width,e.style.height].concat(r?[r.left,r.top,r.width,r.height]:[]).map((e=>e?a.toNumber(e):"")).join(","),localStorage.setItem(n,a.toJSONString(l))}},B=()=>m().then((()=>{if(!d.zoomLocat){const t=a.toNumber(e.marginSize),l=R(),{visibleHeight:o,visibleWidth:n}=le();d.zoomLocat={top:l.offsetTop,left:l.offsetLeft,width:l.offsetWidth+(l.style.width?0:1),height:l.offsetHeight+(l.style.height?0:1)},Object.assign(l.style,{top:`${t}px`,left:`${t}px`,width:n-2*t+"px",height:o-2*t+"px"}),z()}})),W=()=>{const{duration:t,remember:l,showFooter:n}=e,{inited:r,visible:i}=d,s=T.value;return r||(d.inited=!0),i||(l||O(),d.visible=!0,d.contentVisible=!1,k(),cl.push(C),setTimeout((()=>{d.contentVisible=!0,m((()=>{if(n){const e=v.value,t=x.value,l=e||t;l&&l.focus()}const e={type:""};o("update:modelValue",!0),S.dispatchEvent("show",e)}))}),10),s?(-1===dl.indexOf(C)&&dl.push(C),$(),-1!==t&&setTimeout((()=>D("close")),a.toNumber(t))):m((()=>{const{fullscreen:t}=e,{firstOpen:o}=d;l&&o||I().then((()=>{setTimeout((()=>I()),20)})),o||(d.firstOpen=!0,(()=>{const{id:t,remember:l,storage:o,storageKey:n}=e;return!!(t&&l&&o&&_(n)[t])})()?(()=>{const{id:t,remember:l,storage:o,storageKey:n}=e;if(t&&l&&o){const e=_(n)[t];if(e){const t=R(),[l,o,n,r,a,i,s,c]=e.split(",");l&&(t.style.left=`${l}px`),o&&(t.style.top=`${o}px`),n&&(t.style.width=`${n}px`),r&&(t.style.height=`${r}px`),a&&i&&(d.zoomLocat={left:a,top:i,width:s,height:c})}}})():t&&m((()=>B())))}))),m()},q=t=>{const l=p.value;if(e.maskClosable&&t.target===l){D("mask")}},Y=e=>{if(Jt(e,Pt)){const e=a.max(cl,(e=>e.reactData.modalZindex));e&&setTimeout((()=>{e===C&&e.props.escClosable&&D("exit")}),10)}},U=()=>!!d.zoomLocat,G=()=>m().then((()=>{const{zoomLocat:e}=d;if(e){const t=R();d.zoomLocat=null,Object.assign(t.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),z()}})),X=()=>d.zoomLocat?G().then((()=>U())):B().then((()=>U())),Z=e=>{const{zoomLocat:t}=d,l={type:t?"revert":"max"};return X().then((()=>{S.dispatchEvent("zoom",l,e)}))},K=()=>{const{modalZindex:e}=d;cl.some((t=>t.reactData.visible&&t.reactData.modalZindex>e))&&k()},J=t=>{const{remember:l,storage:o}=e,{zoomLocat:n}=d,r=a.toNumber(e.marginSize),i=R();if(!n&&0===t.button&&!se(t,i,"trigger--btn").flag){t.preventDefault();const e=document.onmousemove,n=document.onmouseup,a=t.clientX-i.offsetLeft,s=t.clientY-i.offsetTop,{visibleHeight:c,visibleWidth:d}=le();document.onmousemove=e=>{e.preventDefault();const t=i.offsetWidth,l=i.offsetHeight,o=r,n=d-t-r-1,u=r,p=c-l-r-1;let m=e.clientX-a,f=e.clientY-s;m>n&&(m=n),m<o&&(m=o),f>p&&(f=p),f<u&&(f=u),i.style.left=`${m}px`,i.style.top=`${f}px`},document.onmouseup=()=>{document.onmousemove=e,document.onmouseup=n,l&&o&&m((()=>{z()}))}}},Q=t=>{t.preventDefault();const{remember:l,storage:o}=e,{visibleHeight:n,visibleWidth:r}=le(),i=a.toNumber(e.marginSize),s=t.target.getAttribute("type"),c=a.toNumber(e.minWidth),u=a.toNumber(e.minHeight),p=r,m=n,f=R(),h=document.onmousemove,g=document.onmouseup,v=f.clientWidth,b=f.clientHeight,x=t.clientX,w=t.clientY,y=f.offsetTop,C=f.offsetLeft,T={type:"resize"};document.onmousemove=e=>{let t,a,d,h;switch(e.preventDefault(),s){case"wl":t=x-e.clientX,d=t+v,C-t>i&&d>c&&(f.style.width=`${d<p?d:p}px`,f.style.left=C-t+"px");break;case"swst":t=x-e.clientX,a=w-e.clientY,d=t+v,h=a+b,C-t>i&&d>c&&(f.style.width=`${d<p?d:p}px`,f.style.left=C-t+"px"),y-a>i&&h>u&&(f.style.height=`${h<m?h:m}px`,f.style.top=y-a+"px");break;case"swlb":t=x-e.clientX,a=e.clientY-w,d=t+v,h=a+b,C-t>i&&d>c&&(f.style.width=`${d<p?d:p}px`,f.style.left=C-t+"px"),y+h+i<n&&h>u&&(f.style.height=`${h<m?h:m}px`);break;case"st":a=w-e.clientY,h=b+a,y-a>i&&h>u&&(f.style.height=`${h<m?h:m}px`,f.style.top=y-a+"px");break;case"wr":t=e.clientX-x,d=t+v,C+d+i<r&&d>c&&(f.style.width=`${d<p?d:p}px`);break;case"sest":t=e.clientX-x,a=w-e.clientY,d=t+v,h=a+b,C+d+i<r&&d>c&&(f.style.width=`${d<p?d:p}px`),y-a>i&&h>u&&(f.style.height=`${h<m?h:m}px`,f.style.top=y-a+"px");break;case"selb":t=e.clientX-x,a=e.clientY-w,d=t+v,h=a+b,C+d+i<r&&d>c&&(f.style.width=`${d<p?d:p}px`),y+h+i<n&&h>u&&(f.style.height=`${h<m?h:m}px`);break;case"sb":a=e.clientY-w,h=a+b,y+h+i<n&&h>u&&(f.style.height=`${h<m?h:m}px`)}f.className=f.className.replace(/\s?is--drag/,"")+" is--drag",l&&o&&z(),S.dispatchEvent("zoom",T,e)},document.onmouseup=()=>{d.zoomLocat=null,document.onmousemove=h,document.onmouseup=g,setTimeout((()=>{f.className=f.className.replace(/\s?is--drag/,"")}),50)}},ee=()=>{const{slots:t={},showZoom:o}=e,n=T.value,a=l.header||t.header,i=[];if(e.showHeader){const t={};o&&e.dblclickZoom&&"modal"===e.type&&(t.onDblclick=Z),i.push(s("div",r({class:["vxe-modal--header",!n&&e.showTitleOverflow?"is--ellipsis":""],onMousedown:J},t),a?!d.inited||e.destroyOnClose&&!d.visible?[]:a({$modal:C}):(()=>{const{slots:t={},showClose:o,showZoom:n,title:r}=e,{zoomLocat:a}=d,i=l.title||t.title,c=i?i({$modal:C}):[s("span",{class:"vxe-modal--title"},r?j(r):E.i18n("vxe.alert.title"))];return n&&c.push(s("i",{class:["vxe-modal--zoom-btn","trigger--btn",a?E.icon.MODAL_ZOOM_OUT:E.icon.MODAL_ZOOM_IN],title:E.i18n("vxe.modal.zoom"+(a?"Out":"In")),onClick:Z})),o&&c.push(s("i",{class:["vxe-modal--close-btn","trigger--btn",E.icon.MODAL_CLOSE],title:E.i18n("vxe.modal.close"),onClick:L})),c})()))}return i},te=()=>{const{slots:t={},status:o,message:n}=e,r=e.content||n,a=T.value,i=l.default||t.default,c=[];return o&&c.push(s("div",{class:"vxe-modal--status-wrapper"},[s("i",{class:["vxe-modal--status-icon",e.iconStatus||E.icon[`MODAL_${o}`.toLocaleUpperCase()]]})])),c.push(s("div",{class:"vxe-modal--content"},i?!d.inited||e.destroyOnClose&&!d.visible?[]:i({$modal:C}):j(r))),a||c.push(s("div",{class:["vxe-loading",{"is--visible":e.loading}]},[s("div",{class:"vxe-loading--spinner"})])),[s("div",{class:"vxe-modal--body"},c)]},oe=()=>{const{slots:t={}}=e,o=T.value,n=l.footer||t.footer,r=[];return e.showFooter&&r.push(s("div",{class:"vxe-modal--footer"},n?!d.inited||e.destroyOnClose&&!d.visible?[]:n({$modal:C}):(()=>{const{type:t}=e,l=[];return"confirm"===t&&l.push(s(sl,{ref:x,content:e.cancelButtonText||E.i18n("vxe.button.cancel"),onClick:A})),l.push(s(sl,{ref:v,status:"primary",content:e.confirmButtonText||E.i18n("vxe.button.confirm"),onClick:N})),l})())),!o&&e.resize&&r.push(s("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map((e=>s("span",{class:`${e}-resize`,type:e,onMousedown:Q}))))),r};S={dispatchEvent(e,t,l){o(e,Object.assign({$modal:C,$event:l},t))},open:W,close:()=>D("close"),getBox:R,getPosition:()=>{if(!T.value){const e=R();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},setPosition:(e,t)=>{if(!T.value){const l=R();a.isNumber(e)&&(l.style.top=`${e}px`),a.isNumber(t)&&(l.style.left=`${t}px`)}return m()},isMaximized:U,zoom:X,maximize:B,revert:G},Object.assign(C,S),i((()=>e.width),O),i((()=>e.height),O),i((()=>e.modelValue),(e=>{e?W():D("model")})),m((()=>{e.storage&&!e.id&&V("vxe.error.reqProp",["modal.id"]),e.modelValue&&W(),O(),e.escClosable&&el.on(C,"keydown",Y)})),w((()=>{el.off(C,"keydown"),M()}));return C.renderVN=()=>{const{className:t,type:l,animat:o,loading:n,status:r,lockScroll:a,lockView:i,mask:u,resize:m}=e,{inited:f,zoomLocat:g,modalTop:v,contentVisible:x,visible:w}=d,y=c.value;return s(b,{to:"body",disabled:!e.transfer||!f},[s("div",{ref:p,class:["vxe-modal--wrapper",`type--${l}`,t||"",{[`size--${y}`]:y,[`status--${r}`]:r,"is--animat":o,"lock--scroll":a,"lock--view":i,"is--resize":m,"is--mask":u,"is--maximize":g,"is--visible":x,"is--active":w,"is--loading":n}],style:{zIndex:d.modalZindex,top:v?`${v}px`:null},onClick:q},[s("div",{ref:h,class:"vxe-modal--box",onMousedown:K},ee().concat(te(),oe()))])])},C},render(){return this.renderVN()}});function pl(e){if(e){const t=new Date;let l=0,o=0,n=0;if(a.isDate(e))l=e.getHours(),o=e.getMinutes(),n=e.getSeconds();else{const t=(e=a.toValueString(e)).match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);t&&(l=a.toNumber(t[1]),o=a.toNumber(t[3]),n=a.toNumber(t[5]))}return t.setHours(l),t.setMinutes(o),t.setSeconds(n),t}return new Date("")}var ml=d({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>E.input.clearable},readonly:Boolean,disabled:Boolean,placeholder:String,maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>E.input.size||E.size},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>E.input.exponential},controls:{type:Boolean,default:()=>E.input.controls},digits:{type:[String,Number],default:()=>E.input.digits},minDate:{type:[String,Number,Date],default:()=>E.input.minDate},maxDate:{type:[String,Number,Date],default:()=>E.input.maxDate},startWeek:Number,startDay:{type:[String,Number],default:()=>E.input.startDay},labelFormat:{type:String,default:()=>E.input.labelFormat},valueFormat:{type:String,default:()=>E.input.valueFormat},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>E.input.festivalMethod},disabledMethod:{type:Function,default:()=>E.input.disabledMethod},selectDay:{type:[String,Number],default:()=>E.input.weekDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:()=>E.input.transfer}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),r=il(e),c=f({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),d=g(),p=g(),h=g(),v=g(),x={refElem:d,refInput:p},w={xID:n,props:e,context:t,reactData:c,getRefMaps:()=>x};let C={};const S=u((()=>{const{type:t}=e;return"time"===t||"datetime"===t})),T=u((()=>["number","integer","float"].indexOf(e.type)>-1)),R=u((()=>S.value||["date","week","month","quarter","year"].indexOf(e.type)>-1)),O=u((()=>"password"===e.type)),k=u((()=>"search"===e.type)),I=u((()=>a.toInteger(e.digits)||1)),$=u((()=>{const{type:t}=e,l=I.value,o=e.step;return"integer"===t?a.toInteger(o)||1:"float"===t?a.toNumber(o)||1/Math.pow(10,l):a.toNumber(o)||1})),M=u((()=>{const{type:t}=e,l=T.value,o=R.value,n=O.value;return e.clearable&&(n||l||o||"text"===t||"search"===t)})),D=u((()=>e.minDate?a.toStringDate(e.minDate):null)),L=u((()=>e.maxDate?a.toStringDate(e.maxDate):null)),N=u((()=>{const{type:t}=e;return"time"===t?"HH:mm:ss":e.valueFormat||("datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),A=u((()=>{const{modelValue:t,type:l}=e,o=R.value,n=N.value;let r=null;if(t&&o){let e;e="time"===l?pl(t):a.toStringDate(t,n),a.isValidDate(e)&&(r=e)}return r})),V=u((()=>{const e=D.value,{selectMonth:t}=c;return!(!t||!e)&&t<=e})),H=u((()=>{const e=L.value,{selectMonth:t}=c;return!(!t||!e)&&t>=e})),_=u((()=>{const{datetimePanelValue:e}=c;return e?a.toDateString(e,"HH:mm:ss"):""})),z=u((()=>{const e=A.value,t=S.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),B=u((()=>R.value?e.labelFormat||E.i18n(`vxe.input.date.labelFormat.${e.type}`):null)),W=u((()=>{const{selectMonth:e,currentDate:t}=c,l=[];if(e&&t){const o=t.getFullYear(),n=new Date(a.toNumber((""+e.getFullYear()).replace(/\d{1}$/,"0")),0,1);for(let e=-10;e<10;e++){const t=a.getWhatYear(n,e,"first"),r=t.getFullYear();l.push({date:t,isCurrent:!0,isNow:o===r,year:r})}}return l})),q=u((()=>{if(R.value){const{datePanelType:e,selectMonth:t}=c,l=W.value;let o,n="";return t&&(n=t.getFullYear(),o=t.getMonth()+1),"quarter"===e?E.i18n("vxe.input.date.quarterLabel",[n]):"month"===e?E.i18n("vxe.input.date.monthLabel",[n]):"year"===e?l.length?`${l[0].year} - ${l[l.length-1].year}`:"":E.i18n("vxe.input.date.dayLabel",[n,o?E.i18n(`vxe.input.date.m${o}`):"-"])}return""})),Y=u((()=>{const t=[];if(R.value){const{startDay:l,startWeek:o}=e;let n=a.toNumber(a.isNumber(l)||a.isString(l)?l:o);t.push(n);for(let e=0;e<6;e++)n>=6?n=0:n++,t.push(n)}return t})),U=u((()=>{if(R.value){return Y.value.map((e=>({value:e,label:E.i18n(`vxe.input.date.weeks.w${e}`)})))}return[]})),G=u((()=>{if(R.value){const e=U.value;return[{label:E.i18n("vxe.input.date.weeks.w")}].concat(e)}return[]})),X=u((()=>{const e=W.value;return a.chunk(e,4)})),Z=e=>{const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4},K=u((()=>{const{selectMonth:e,currentDate:t}=c,l=[];if(e&&t){const o=t.getFullYear(),n=Z(t),r=a.getWhatYear(e,0,"first"),i=r.getFullYear();for(let e=-2;e<6;e++){const t=a.getWhatQuarter(r,e),s=t.getFullYear(),c=Z(t),d=s<i;l.push({date:t,isPrev:d,isCurrent:s===i,isNow:s===o&&c===n,isNext:!d&&s>i,quarter:c})}}return l})),J=u((()=>{const e=K.value;return a.chunk(e,2)})),ee=u((()=>{const{selectMonth:e,currentDate:t}=c,l=[];if(e&&t){const o=t.getFullYear(),n=t.getMonth(),r=a.getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<16;t++){const i=a.getWhatYear(e,0,t),s=i.getFullYear(),c=i.getMonth(),d=s<r;l.push({date:i,isPrev:d,isCurrent:s===r,isNow:s===o&&c===n,isNext:!d&&s>r,month:c})}}return l})),te=u((()=>{const e=ee.value;return a.chunk(e,4)})),le=u((()=>{const{selectMonth:e,currentDate:t}=c,l=[];if(e&&t){const o=z.value,n=Y.value,r=t.getFullYear(),i=t.getMonth(),s=t.getDate(),c=e.getFullYear(),d=e.getMonth(),u=e.getDay(),p=-n.indexOf(u),m=new Date(a.getWhatDay(e,p).getTime()+o);for(let t=0;t<42;t++){const o=a.getWhatDay(m,t),n=o.getFullYear(),u=o.getMonth(),p=o.getDate(),f=o<e;l.push({date:o,isPrev:f,isCurrent:n===c&&u===d,isNow:n===r&&u===i&&p===s,isNext:!f&&d!==u,label:p})}}return l})),oe=u((()=>{const e=le.value;return a.chunk(e,7)})),ne=u((()=>oe.value.map((e=>{const t=e[0];return[{date:t.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:a.getYearWeek(t.date)}].concat(e)})))),re=u((()=>{const e=[];if(S.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),ae=u((()=>{const e=[];if(S.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),ie=u((()=>ae.value)),ce=u((()=>{const{type:t,readonly:l,editable:o}=e;return l||!o||"week"===t||"quarter"===t})),ue=u((()=>{const{type:t}=e,{showPwd:l}=c,o=T.value,n=R.value,r=O.value;return n||o||r&&l||"number"===t?"text":t})),pe=u((()=>{const{placeholder:t}=e;return t?j(t):""})),me=u((()=>{const{maxlength:t}=e;return T.value&&!a.toNumber(t)?16:t})),fe=u((()=>{const{type:t,immediate:l}=e;return l||!("text"===t||"number"===t||"integer"===t||"float"===t)}));function he(t){const{type:l,exponential:o}=e,n=me.value,r=I.value,i="float"===l?a.toFixed(a.floor(t,r),r):a.toValueString(t);return!o||t!==i&&a.toValueString(t).toLowerCase()!==a.toNumber(i).toExponential()?i.slice(0,n):t}const ge=e=>{const{inputValue:t}=c;C.dispatchEvent(e.type,{value:t},e)},ve=(t,l)=>{c.inputValue=t,o("update:modelValue",t),C.dispatchEvent("input",{value:t},l),a.toValueString(e.modelValue)!==t&&C.dispatchEvent("change",{value:t},l)},be=(e,t)=>{const l=R.value,o=fe.value;c.inputValue=e,l||(o?ve(e,t):C.dispatchEvent("input",{value:e},t))},xe=e=>{const t=e.target.value;be(t,e)},we=e=>{fe.value||ge(e)},ye=e=>{c.isActivated=!0,ge(e)},Ce=t=>{const{disabled:l}=e;if(!l){const{inputValue:e}=c;C.dispatchEvent("prefix-click",{value:e},t)}};let Se;const Te=()=>{c.visiblePanel=!1,Se=window.setTimeout((()=>{c.animatVisible=!1}),350)},Re=(t,l)=>{const{type:o}=e,n=T.value;R.value&&Te(),(n||["text","search","password"].indexOf(o)>-1)&&focus(),C.dispatchEvent("clear",{value:l},t)},Oe=t=>{const{disabled:l}=e;if(!l)if(Q(t.currentTarget,"is--clear"))ve("",t),Re(t,"");else{const{inputValue:e}=c;C.dispatchEvent("suffix-click",{value:e},t)}},Ee=t=>{const{type:l}=e,{valueFormat:o}=e,n=B.value;let r=null,i="";t&&(r="time"===l?pl(t):a.toStringDate(t,o)),a.isValidDate(r)?i=a.toDateString(r,n):r=null,c.datePanelValue=r,c.datePanelLabel=i},ke=()=>{const e=R.value,{inputValue:t}=c;e&&(Ee(t),c.inputValue=c.datePanelLabel)},Ie=t=>null===e.max||a.toNumber(t)<=a.toNumber(e.max),$e=t=>null===e.min||a.toNumber(t)>=a.toNumber(e.min),Me=e=>{const t=a.getWhatMonth(e,0,"first");a.isEqual(t,c.selectMonth)||(c.selectMonth=t)},De=t=>{const{modelValue:l}=e,{datetimePanelValue:o}=c,n=S.value,r=N.value;if("week"===e.type){const l=a.toNumber(e.selectDay);t=a.getWhatWeek(t,0,l)}else n&&(t.setHours(o.getHours()),t.setMinutes(o.getMinutes()),t.setSeconds(o.getSeconds()));const i=a.toDateString(t,r);Me(t),a.isEqual(l,i)||ve(i,{type:"update"})},Le=()=>{const{type:t,min:l,max:o,exponential:n}=e,{inputValue:r,datetimePanelValue:i}=c,s=T.value,d=R.value,u=B.value;if(!ce.value)if(s){if(r){let e="integer"===t?a.toInteger(r):a.toNumber(r);if($e(e)?Ie(e)||(e=o):e=l,n){const t=a.toValueString(r).toLowerCase();t===a.toNumber(e).toExponential()&&(e=t)}ve(he(e),{type:"check"})}}else if(d)if(r){let e;if(e="time"===t?pl(r):a.toStringDate(r,u),a.isValidDate(e))if("time"===t)e=a.toDateString(e,u),r!==e&&ve(e,{type:"check"}),c.inputValue=e;else{let l=!1;if("datetime"===t){const t=A.value;r===a.toDateString(t,u)&&r===a.toDateString(e,u)||(l=!0,i.setHours(e.getHours()),i.setMinutes(e.getMinutes()),i.setSeconds(e.getSeconds()))}else l=!0;c.inputValue=a.toDateString(e,u),l&&De(e)}else c.inputValue=c.datePanelLabel}else ve("",{type:"check"})},Ne=e=>{const{inputValue:t}=c;fe.value||ve(t,e),Le(),c.visiblePanel||(c.isActivated=!1),C.dispatchEvent("blur",{value:t},e)},Fe=t=>{const{readonly:l,disabled:o}=e,{showPwd:n}=c;o||l||(c.showPwd=!n),C.dispatchEvent("toggle-visible",{visible:c.showPwd},t)},Pe=e=>{C.dispatchEvent("search-click",{},e)},Ae=(t,l)=>{const{min:o,max:n,type:r}=e,{inputValue:i}=c,s=$.value,d="integer"===r?a.toInteger(i):a.toNumber(i),u=t?a.add(d,s):a.subtract(d,s);let p;p=$e(u)?Ie(u)?u:n:o,be(he(p),l)};let Ve;const He=t=>{const{readonly:l,disabled:o}=e;clearTimeout(Ve),o||l||Ae(!1,t),C.dispatchEvent("next-number",{},t)},_e=e=>{Ve=window.setTimeout((()=>{He(e),_e(e)}),60)},je=t=>{const{readonly:l,disabled:o}=e;clearTimeout(Ve),o||l||Ae(!0,t),C.dispatchEvent("prev-number",{},t)},ze=t=>{const{exponential:l,controls:o}=e;if(T.value){const e=t.ctrlKey,n=t.shiftKey,r=t.altKey,a=t.keyCode;e||n||r||!(Jt(t,jt)||(!l||69!==a)&&a>=65&&a<=90||a>=186&&a<=188||a>=191)||t.preventDefault(),o&&(e=>{const t=Jt(e,Bt),l=Jt(e,Wt);(t||l)&&(e.preventDefault(),t?je(e):He(e))})(t)}ge(t)},Be=e=>{ge(e)},We=()=>{clearTimeout(Ve)},qe=e=>{Ve=window.setTimeout((()=>{je(e),qe(e)}),60)},Ye=e=>{if(We(),0===e.button){const t=Q(e.currentTarget,"is--prev");t?je(e):He(e),Ve=window.setTimeout((()=>{t?qe(e):_e(e)}),500)}},Ue=t=>{if(T.value&&e.controls&&c.isActivated){const e=t.deltaY;e>0?He(t):e<0&&je(t),t.preventDefault()}ge(t)},Ge=(e,t)=>{c.selectMonth=a.getWhatMonth(e,t,"first")},Xe=()=>{const e=a.getWhatDay(Date.now(),0,"first");c.currentDate=e,Ge(e,0)},Ze=()=>{let{datePanelType:e}=c;e="month"===e||"quarter"===e?"year":"month",c.datePanelType=e},Ke=t=>{const{type:l}=e,{datePanelType:o,selectMonth:n}=c;V.value||(c.selectMonth="year"===l?a.getWhatYear(n,-20,"first"):"month"===l||"quarter"===l?"year"===o?a.getWhatYear(n,-20,"first"):a.getWhatYear(n,-1,"first"):"year"===o?a.getWhatYear(n,-20,"first"):"month"===o?a.getWhatYear(n,-1,"first"):a.getWhatMonth(n,-1,"first"),C.dispatchEvent("date-prev",{type:l},t))},Je=t=>{Xe(),De(c.currentDate),Te(),C.dispatchEvent("date-today",{type:e.type},t)},Qe=t=>{const{type:l}=e,{datePanelType:o,selectMonth:n}=c;H.value||(c.selectMonth="year"===l?a.getWhatYear(n,20,"first"):"month"===l||"quarter"===l?"year"===o?a.getWhatYear(n,20,"first"):a.getWhatYear(n,1,"first"):"year"===o?a.getWhatYear(n,20,"first"):"month"===o?a.getWhatYear(n,1,"first"):a.getWhatMonth(n,1,"first"),C.dispatchEvent("date-next",{type:l},t))},et=t=>{const{disabledMethod:l}=e,{datePanelType:o}=c;return l&&l({type:o,viewType:o,date:t.date,$input:w})},tt=t=>{const{type:l}=e,{datePanelType:o}=c;"month"===l?"year"===o?(c.datePanelType="month",Me(t)):(De(t),Te()):"year"===l?(De(t),Te()):"quarter"===l?"year"===o?(c.datePanelType="quarter",Me(t)):(De(t),Te()):"month"===o?(c.datePanelType="week"===l?l:"day",Me(t)):"year"===o?(c.datePanelType="month",Me(t)):(De(t),Te())},lt=e=>{et(e)||tt(e.date)},ot=e=>{if(!et({date:e})){le.value.some((t=>a.isDateSame(t.date,e,"yyyyMMdd")))||Me(e),Ee(e)}},nt=e=>{if(!et({date:e})){W.value.some((t=>a.isDateSame(t.date,e,"yyyy")))||Me(e),Ee(e)}},rt=e=>{if(!et({date:e})){K.value.some((t=>a.isDateSame(t.date,e,"yyyyq")))||Me(e),Ee(e)}},at=e=>{if(!et({date:e})){ee.value.some((t=>a.isDateSame(t.date,e,"yyyyMM")))||Me(e),Ee(e)}},it=e=>{if(!et(e)){const{datePanelType:t}=c;"month"===t?at(e.date):"quarter"===t?rt(e.date):"year"===t?nt(e.date):ot(e.date)}},st=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},ct=e=>{c.datetimePanelValue=new Date(c.datetimePanelValue.getTime()),st(e.currentTarget)},dt=()=>{const e=A.value;De(e||c.currentDate),Te()},ut=()=>m().then((()=>{const{transfer:t,placement:l}=e,{panelIndex:o}=c,n=p.value,r=h.value;if(n&&r){const e=n.offsetHeight,a=n.offsetWidth,i=r.offsetHeight,s=r.offsetWidth,d=5,u={zIndex:o},{boundingTop:p,boundingLeft:f,visibleHeight:h,visibleWidth:g}=de(n);let v="bottom";if(t){let t=f,o=p+e;"top"===l?(v="top",o=p-i):l||(o+i+d>h&&(v="top",o=p-i),o<d&&(v="bottom",o=p+e)),t+s+d>g&&(t-=t+s+d-g),t<d&&(t=d),Object.assign(u,{left:`${t}px`,top:`${o}px`,minWidth:`${a}px`})}else"top"===l?(v="top",u.bottom=`${e}px`):l||p+e+i>h&&p-e-i>d&&(v="top",u.bottom=`${e}px`);return c.panelStyle=u,c.panelPlacement=v,m()}})),pt=()=>{const{disabled:t}=e,{visiblePanel:l}=c,o=R.value;t||l||(c.inited||(c.inited=!0),clearTimeout(Se),c.isActivated=!0,c.animatVisible=!0,o&&(()=>{const{type:t}=e,l=S.value,o=A.value;["year","quarter","month","week"].indexOf(t)>-1?c.datePanelType=t:c.datePanelType="day",c.currentDate=a.getWhatDay(Date.now(),0,"first"),o?(Ge(o,0),Ee(o)):Xe(),l&&(c.datetimePanelValue=c.datePanelValue||a.getWhatDay(Date.now(),0,"first"),m((()=>{const e=v.value;a.arrayEach(e.querySelectorAll("li.is--selected"),st)})))})(),setTimeout((()=>{c.visiblePanel=!0}),10),c.panelIndex<P()&&(c.panelIndex=F()),ut())},mt=t=>{const{readonly:l}=e;l||(t.preventDefault(),pt())},ft=e=>{R.value&&mt(e),ge(e)},ht=t=>{const{disabled:l}=e,{visiblePanel:o,isActivated:n}=c,r=R.value,a=d.value,i=h.value;!l&&n&&(c.isActivated=se(t,a).flag||se(t,i).flag,c.isActivated||(r?o&&(Te(),Le()):Le()))},gt=t=>{const{clearable:l,disabled:o}=e,{visiblePanel:n}=c,r=R.value;if(!o){const e=Jt(t,Vt),o=Jt(t,Ht),i=Jt(t,Pt),s=Jt(t,At),d=Jt(t,qt),u=Jt(t,Bt),p=Jt(t,Yt),m=Jt(t,Wt),f=Jt(t,Ut),h=Jt(t,Gt),g=d||u||p||m;let v=c.isActivated;e?(v&&Le(),v=!1,c.isActivated=v):g?r&&v&&(n?(e=>{const{isActivated:t,datePanelValue:l,datePanelType:o}=c;if(t){e.preventDefault();const t=Jt(e,qt),n=Jt(e,Bt),r=Jt(e,Yt),i=Jt(e,Wt);if("year"===o){let e=a.getWhatYear(l||Date.now(),0,"first");t?e=a.getWhatYear(e,-1):n?e=a.getWhatYear(e,-4):r?e=a.getWhatYear(e,1):i&&(e=a.getWhatYear(e,4)),nt(e)}else if("quarter"===o){let e=a.getWhatQuarter(l||Date.now(),0,"first");t?e=a.getWhatQuarter(e,-1):n?e=a.getWhatQuarter(e,-2):r?e=a.getWhatQuarter(e,1):i&&(e=a.getWhatQuarter(e,2)),rt(e)}else if("month"===o){let e=a.getWhatMonth(l||Date.now(),0,"first");t?e=a.getWhatMonth(e,-1):n?e=a.getWhatMonth(e,-4):r?e=a.getWhatMonth(e,1):i&&(e=a.getWhatMonth(e,4)),at(e)}else{let e=l||a.getWhatDay(Date.now(),0,"first");t?e=a.getWhatDay(e,-1):n?e=a.getWhatWeek(e,-1):r?e=a.getWhatDay(e,1):i&&(e=a.getWhatWeek(e,1)),ot(e)}}})(t):(u||m)&&mt(t)):s?r&&(n?c.datePanelValue?tt(c.datePanelValue):Te():v&&mt(t)):(f||h)&&r&&v&&(e=>{const{isActivated:t}=c;if(t){const t=Jt(e,Ut);e.preventDefault(),t?Ke(e):Qe(e)}})(t),e||i?n&&Te():o&&l&&v&&Re(t,null)}},vt=t=>{const{disabled:l}=e,{visiblePanel:o}=c;if(!l&&o){se(t,h.value).flag?ut():(Te(),Le())}},bt=()=>{const{isActivated:e,visiblePanel:t}=c;t?(Te(),Le()):e&&Le()},xt=(t,l)=>{const{festivalMethod:o}=e;if(o){const{datePanelType:e}=c,n=o({type:e,viewType:e,date:t.date,$input:w}),r=n?a.isString(n)?{label:n}:n:{},i=r.extra?a.isString(r.extra)?{label:r.extra}:r.extra:null,d=[s("span",{class:["vxe-input--date-label",{"is-notice":r.notice}]},i&&i.label?[s("span",l),s("span",{class:["vxe-input--date-label--extra",i.important?"is-important":"",i.className],style:i.style},a.toValueString(i.label))]:l)],u=r.label;if(u){const e=a.toValueString(u).split(",");d.push(s("span",{class:["vxe-input--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?s("span",{class:["vxe-input--date-festival--overlap",`overlap--${e.length}`]},e.map((e=>s("span",e.substring(0,3))))):s("span",{class:"vxe-input--date-festival--label"},e[0].substring(0,3))]))}return d}return l},wt=()=>{const{datePanelType:e}=c;switch(e){case"week":return(()=>{const{datePanelType:e,datePanelValue:t}=c,l=A.value,o=G.value,n=ne.value,r="yyyyMMdd";return[s("table",{class:`vxe-input--date-${e}-view`,cellspacing:0,cellpadding:0,border:0},[s("thead",[s("tr",o.map((e=>s("th",e.label))))]),s("tbody",n.map((e=>{const o=e.some((e=>a.isDateSame(l,e.date,r))),n=e.some((e=>a.isDateSame(t,e.date,r)));return s("tr",e.map((e=>s("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":et(e),"is--selected":o,"is--hover":n},onClick:()=>lt(e),onMouseenter:()=>it(e)},xt(e,e.label)))))})))])]})();case"month":return(()=>{const{datePanelType:e,datePanelValue:t}=c,l=A.value,o=te.value,n="yyyyMM";return[s("table",{class:`vxe-input--date-${e}-view`,cellspacing:0,cellpadding:0,border:0},[s("tbody",o.map((e=>s("tr",e.map((e=>s("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":et(e),"is--selected":a.isDateSame(l,e.date,n),"is--hover":a.isDateSame(t,e.date,n)},onClick:()=>lt(e),onMouseenter:()=>it(e)},xt(e,E.i18n(`vxe.input.date.months.m${e.month}`)))))))))])]})();case"quarter":return(()=>{const{datePanelType:e,datePanelValue:t}=c,l=A.value,o=J.value,n="yyyyq";return[s("table",{class:`vxe-input--date-${e}-view`,cellspacing:0,cellpadding:0,border:0},[s("tbody",o.map((e=>s("tr",e.map((e=>s("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":et(e),"is--selected":a.isDateSame(l,e.date,n),"is--hover":a.isDateSame(t,e.date,n)},onClick:()=>lt(e),onMouseenter:()=>it(e)},xt(e,E.i18n(`vxe.input.date.quarters.q${e.quarter}`)))))))))])]})();case"year":return(()=>{const{datePanelType:e,datePanelValue:t}=c,l=A.value,o=X.value,n="yyyy";return[s("table",{class:`vxe-input--date-${e}-view`,cellspacing:0,cellpadding:0,border:0},[s("tbody",o.map((e=>s("tr",e.map((e=>s("td",{class:{"is--disabled":et(e),"is--current":e.isCurrent,"is--now":e.isNow,"is--selected":a.isDateSame(l,e.date,n),"is--hover":a.isDateSame(t,e.date,n)},onClick:()=>lt(e),onMouseenter:()=>it(e)},xt(e,e.year))))))))])]})()}return(()=>{const{datePanelType:e,datePanelValue:t}=c,l=A.value,o=U.value,n=oe.value,r="yyyyMMdd";return[s("table",{class:`vxe-input--date-${e}-view`,cellspacing:0,cellpadding:0,border:0},[s("thead",[s("tr",o.map((e=>s("th",e.label))))]),s("tbody",n.map((e=>s("tr",e.map((e=>s("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":et(e),"is--selected":a.isDateSame(l,e.date,r),"is--hover":a.isDateSame(t,e.date,r)},onClick:()=>lt(e),onMouseenter:()=>it(e)},xt(e,e.label))))))))])]})()},yt=()=>{const{datePanelType:e}=c,t=V.value,l=H.value,o=q.value;return[s("div",{class:"vxe-input--date-picker-header"},[s("div",{class:"vxe-input--date-picker-type-wrapper"},[s("span","year"===e?{class:"vxe-input--date-picker-label"}:{class:"vxe-input--date-picker-btn",onClick:Ze},o)]),s("div",{class:"vxe-input--date-picker-btn-wrapper"},[s("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":t}],onClick:Ke},[s("i",{class:"vxe-icon--caret-left"})]),s("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:Je},[s("i",{class:"vxe-icon--dot"})]),s("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":l}],onClick:Qe},[s("i",{class:"vxe-icon--caret-right"})])])]),s("div",{class:"vxe-input--date-picker-body"},wt())]},Ct=()=>{const{datetimePanelValue:e}=c,t=_.value,l=re.value,o=ae.value,n=ie.value;return[s("div",{class:"vxe-input--time-picker-header"},[s("span",{class:"vxe-input--time-picker-title"},t),s("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:dt},E.i18n("vxe.button.confirm"))]),s("div",{ref:v,class:"vxe-input--time-picker-body"},[s("ul",{class:"vxe-input--time-picker-hour-list"},l.map(((t,l)=>s("li",{key:l,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>((e,t)=>{c.datetimePanelValue.setHours(t.value),ct(e)})(e,t)},t.label)))),s("ul",{class:"vxe-input--time-picker-minute-list"},o.map(((t,l)=>s("li",{key:l,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>((e,t)=>{c.datetimePanelValue.setMinutes(t.value),ct(e)})(e,t)},t.label)))),s("ul",{class:"vxe-input--time-picker-second-list"},n.map(((t,l)=>s("li",{key:l,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>((e,t)=>{c.datetimePanelValue.setSeconds(t.value),ct(e)})(e,t)},t.label))))])]},St=()=>{const{controls:t}=e,l=T.value,o=R.value,n=O.value,r=k.value;let a;return n?a=(()=>{const{showPwd:e}=c;return s("span",{class:"vxe-input--password-suffix",onClick:Fe},[s("i",{class:["vxe-input--password-icon",e?E.icon.INPUT_SHOW_PWD:E.icon.INPUT_PWD]})])})():l?t&&(a=s("span",{class:"vxe-input--number-suffix"},[s("span",{class:"vxe-input--number-prev is--prev",onMousedown:Ye,onMouseup:We,onMouseleave:We},[s("i",{class:["vxe-input--number-prev-icon",E.icon.INPUT_PREV_NUM]})]),s("span",{class:"vxe-input--number-next is--next",onMousedown:Ye,onMouseup:We,onMouseleave:We},[s("i",{class:["vxe-input--number-next-icon",E.icon.INPUT_NEXT_NUM]})])])):o?a=s("span",{class:"vxe-input--date-picker-suffix",onClick:mt},[s("i",{class:["vxe-input--date-picker-icon",E.icon.INPUT_DATE]})]):r&&(a=s("span",{class:"vxe-input--search-suffix",onClick:Pe},[s("i",{class:["vxe-input--search-icon",E.icon.INPUT_SEARCH]})])),a?s("span",{class:"vxe-input--extra-suffix"},[a]):null};C={dispatchEvent(e,t,l){o(e,Object.assign({$input:w,$event:l},t))},focus(){const e=p.value;return c.isActivated=!0,e.focus(),m()},blur:()=>(p.value.blur(),c.isActivated=!1,m())},Object.assign(w,C),i((()=>e.modelValue),(e=>{c.inputValue=e,ke()})),i(B,(()=>{Ee(c.datePanelValue),c.inputValue=c.datePanelLabel})),m((()=>{el.on(w,"mousewheel",vt),el.on(w,"mousedown",ht),el.on(w,"keydown",gt),el.on(w,"blur",bt)})),y((()=>{We(),el.off(w,"mousewheel"),el.off(w,"mousedown"),el.off(w,"keydown"),el.off(w,"blur")})),(()=>{const{type:t}=e,{inputValue:l}=c,o=R.value,n=I.value;if(o)ke();else if("float"===t&&l){const e=a.toFixed(a.floor(l,n),n);l!==e&&ve(e,{type:"init"})}})();return w.renderVN=()=>{const{className:t,controls:o,type:n,align:i,name:u,disabled:m,readonly:f,autocomplete:g}=e,{inputValue:v,visiblePanel:x,isActivated:w}=c,y=r.value,C=R.value,S=ce.value,T=me.value,O=ue.value,k=pe.value,I=[],$=(()=>{const{prefixIcon:t}=e,o=l.prefix,n=[];return o?n.push(s("span",{class:"vxe-input--prefix-icon"},o({}))):t&&n.push(s("i",{class:["vxe-input--prefix-icon",t]})),n.length?s("span",{class:"vxe-input--prefix",onClick:Ce},n):null})(),D=(()=>{const{disabled:t,suffixIcon:o}=e,{inputValue:n}=c,r=l.suffix,i=M.value,d=[];return r?d.push(s("span",{class:"vxe-input--suffix-icon"},r({}))):o&&d.push(s("i",{class:["vxe-input--suffix-icon",o]})),i&&d.push(s("i",{class:["vxe-input--clear-icon",E.icon.INPUT_CLEAR]})),d.length?s("span",{class:["vxe-input--suffix",{"is--clear":i&&!t&&!(""===n||a.eqNull(n))}],onClick:Oe},d):null})();return $&&I.push($),I.push(s("input",{ref:p,class:"vxe-input--inner",value:v,name:u,type:O,placeholder:k,maxlength:T,readonly:S,disabled:m,autocomplete:g,onKeydown:ze,onKeyup:Be,onWheel:Ue,onClick:ft,onInput:xe,onChange:we,onFocus:ye,onBlur:Ne})),D&&I.push(D),I.push(St()),C&&I.push((()=>{const{type:t,transfer:l}=e,{inited:o,animatVisible:n,visiblePanel:a,panelPlacement:i,panelStyle:d}=c,u=r.value,p=[];return R.value?("datetime"===t?p.push(s("div",{class:"vxe-input--panel-layout-wrapper"},[s("div",{class:"vxe-input--panel-left-wrapper"},yt()),s("div",{class:"vxe-input--panel-right-wrapper"},Ct())])):"time"===t?p.push(s("div",{class:"vxe-input--panel-wrapper"},Ct())):p.push(s("div",{class:"vxe-input--panel-wrapper"},yt())),s(b,{to:"body",disabled:!l||!o},[s("div",{ref:h,class:["vxe-table--ignore-clear vxe-input--panel",`type--${t}`,{[`size--${u}`]:u,"is--transfer":l,"animat--leave":n,"animat--enter":a}],placement:i,style:d},p)])):null})()),s("div",{ref:d,class:["vxe-input",`type--${n}`,t,{[`size--${y}`]:y,[`is--${i}`]:i,"is--controls":o,"is--prefix":!!$,"is--suffix":!!D,"is--readonly":f,"is--visivle":x,"is--disabled":m,"is--active":w}]},I)},w},render(){return this.renderVN()}}),fl=d({name:"VxeCheckbox",props:{modelValue:Boolean,label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],content:[String,Number],disabled:Boolean,size:{type:String,default:()=>E.checkbox.size||E.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:o}=t,n={xID:a.uniqueId(),props:e,context:t};let r={};const i=il(e),c=p("$xecheckboxgroup",null),d=u((()=>e.disabled||c&&c.props.disabled)),m=u((()=>c?a.includes(c.props.modelValue,e.label):e.modelValue)),f=t=>{if(!d.value){const l=t.target.checked;c?c.handleChecked({checked:l,label:e.label},t):(o("update:modelValue",l),r.dispatchEvent("change",{checked:l,label:e.label},t))}};r={dispatchEvent(e,t,l){o(e,Object.assign({$checkbox:n,$event:l},t))}},Object.assign(n,r);return n.renderVN=()=>{const t=i.value,o=d.value;return s("label",{class:["vxe-checkbox",{[`size--${t}`]:t,"is--indeterminate":e.indeterminate,"is--disabled":o}],title:e.title},[s("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:o,checked:m.value,onChange:f}),s("span",{class:"vxe-checkbox--icon"}),s("span",{class:"vxe-checkbox--label"},l.default?l.default({}):j(e.content))])},n},render(){return this.renderVN()}});function hl(e){return!1!==e.visible}var gl=d({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:String,loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>E.select.multiCharOverflow},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,className:[String,Function],size:{type:String,default:()=>E.select.size||E.size},emptyText:String,optionId:{type:String,default:()=>E.select.optionId},optionKey:Boolean,transfer:{type:Boolean,default:()=>E.select.transfer}},emits:["update:modelValue","change","clear"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),r=il(e),d=f({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),p=g(),h=g(),v=g(),w=g(),C={refElem:p},S={xID:n,props:e,context:t,reactData:d,getRefMaps:()=>C};let T={};const R=u((()=>e.optionProps||{})),O=u((()=>e.optionGroupProps||{})),k=u((()=>R.value.label||"label")),I=u((()=>R.value.value||"value")),$=u((()=>O.value.label||"label")),M=u((()=>O.value.options||"options")),D=u((()=>d.fullGroupList.some((e=>e.options&&e.options.length)))),L=u((()=>a.toNumber(e.multiCharOverflow))),N=e=>{const{fullOptionList:t,fullGroupList:l}=d,o=D.value,n=I.value;if(o)for(let r=0;r<l.length;r++){const t=l[r];if(t.options)for(let l=0;l<t.options.length;l++){const o=t.options[l];if(e===o[n])return o}}return t.find((t=>e===t[n]))},A=e=>{const t=k.value,l=N(e);return a.toValueString(l?l[t]:e)},V=u((()=>{const{modelValue:t,multiple:l}=e,o=L.value;return t&&l?t.map((e=>{const t=A(e);return o>0&&t.length>o?`${t.substring(0,o)}...`:t})).join(", "):A(t)})),H=()=>e.optionId||"_XID",_=e=>{const t=e[H()];return t?encodeURIComponent(t):""},B=()=>{const{fullOptionList:e,fullGroupList:t}=d;return D.value?d.visibleGroupList=t.filter(hl):d.visibleOptionList=e.filter(hl),m()},W=()=>{const{fullOptionList:e,fullGroupList:t}=d,l=M.value,o=H(),n=e=>{_(e)||(e[o]=a.uniqueId("opt_"))};t.length?t.forEach((e=>{n(e),e[l]&&e[l].forEach(n)})):e.length&&e.forEach(n),B()},q=e=>{const t=I.value;e&&(d.currentValue=e[t])},Y=(e,t)=>m().then((()=>{if(e){const l=v.value,o=w.value.querySelector(`[optid='${_(e)}']`);if(l&&o){const e=l.offsetHeight,n=5;t?o.offsetTop+o.offsetHeight-l.scrollTop>e&&(l.scrollTop=o.offsetTop+o.offsetHeight-e):(o.offsetTop+n<l.scrollTop||o.offsetTop+n>l.scrollTop+l.clientHeight)&&(l.scrollTop=o.offsetTop-n)}}})),U=()=>m().then((()=>{const{transfer:t,placement:l}=e,{panelIndex:o}=d,n=p.value,r=w.value;if(r&&n){const e=n.offsetHeight,a=n.offsetWidth,i=r.offsetHeight,s=r.offsetWidth,c=5,u={zIndex:o},{boundingTop:p,boundingLeft:f,visibleHeight:h,visibleWidth:g}=de(n);let v="bottom";if(t){let t=f,o=p+e;"top"===l?(v="top",o=p-i):l||(o+i+c>h&&(v="top",o=p-i),o<c&&(v="bottom",o=p+e)),t+s+c>g&&(t-=t+s+c-g),t<c&&(t=c),Object.assign(u,{left:`${t}px`,top:`${o}px`,minWidth:`${a}px`})}else"top"===l?(v="top",u.bottom=`${e}px`):l||p+e+i>h&&p-e-i>c&&(v="top",u.bottom=`${e}px`);return d.panelStyle=u,d.panelPlacement=v,m()}}));let G;const X=()=>{const{loading:t,disabled:l}=e;t||l||(clearTimeout(G),d.inited||(d.inited=!0),d.isActivated=!0,d.animatVisible=!0,setTimeout((()=>{const{modelValue:t,multiple:l}=e,o=N(l&&t?t[0]:t);d.visiblePanel=!0,o&&(q(o),Y(o))}),10),d.panelIndex<P()&&(d.panelIndex=F()),U())},Z=()=>{d.visiblePanel=!1,G=window.setTimeout((()=>{d.animatVisible=!1}),350)},K=(t,l)=>{l!==e.modelValue&&(o("update:modelValue",l),T.dispatchEvent("change",{value:l},t))},J=(e,t)=>{K(e,t),T.dispatchEvent("clear",{value:t},e)},Q=(e,t)=>{J(t,null),Z()},ee=(t,l)=>{const{modelValue:o,multiple:n}=e;if(n){let e;e=o?-1===o.indexOf(l)?o.concat([l]):o.filter((e=>e!==l)):[l],K(t,e)}else K(t,l),Z()},te=t=>{const{disabled:l}=e,{visiblePanel:o}=d;if(!l&&o){se(t,w.value).flag?U():Z()}},le=t=>{const{disabled:l}=e,{visiblePanel:o}=d;if(!l){const e=p.value,l=w.value;d.isActivated=se(t,e).flag||se(t,l).flag,o&&!d.isActivated&&Z()}},oe=t=>{const{clearable:l,disabled:o}=e,{visiblePanel:n,currentValue:r}=d;if(!o){const e=Jt(t,Vt),o=Jt(t,At),a=Jt(t,Pt),i=Jt(t,Bt),s=Jt(t,Wt),c=Jt(t,Ht),u=Jt(t,jt);if(e&&(d.isActivated=!1),n)if(a||e)Z();else if(o)t.preventDefault(),t.stopPropagation(),ee(t,r);else if(i||s){t.preventDefault();let{firstOption:e,offsetOption:l}=((e,t)=>{const{visibleOptionList:l,visibleGroupList:o}=d,n=D.value,r=I.value,a=M.value;let i,s,c,u;if(n)for(let d=0;d<o.length;d++){const l=o[d],n=l[a],p=l.disabled;if(n)for(let o=0;o<n.length;o++){const l=n[o],a=hl(l),d=p||l.disabled;if(i||d||(i=l),u&&a&&!d&&(c=l,!t))return{offsetOption:c};if(e===l[r]){if(u=l,t)return{offsetOption:s}}else a&&!d&&(s=l)}}else for(let d=0;d<l.length;d++){const o=l[d],n=o.disabled;if(i||n||(i=o),u&&!n&&(c=o,!t))return{offsetOption:c};if(e===o[r]){if(u=o,t)return{offsetOption:s}}else n||(s=o)}return{firstOption:i}})(r,i);l||N(r)||(l=e),q(l),Y(l,s)}else u&&t.preventDefault();else(i||s||o||u)&&d.isActivated&&(t.preventDefault(),X());d.isActivated&&c&&l&&J(t,null)}},ne=()=>{Z()},re=()=>{e.disabled||(d.isActivated=!0)},ae=()=>{d.isActivated=!1},ie=e=>{const{$event:t}=e;t.preventDefault(),d.visiblePanel?Z():X()},ce=(t,l)=>{const{optionKey:o,modelValue:n,multiple:r}=e,{currentValue:i}=d,c=k.value,u=I.value,p=D.value;return t.map(((e,t)=>{const{className:d}=e,m=!p||hl(e),f=l&&l.disabled||e.disabled,h=e[u],g=_(e);return m?s("div",{key:o?g:t,class:["vxe-select-option",d?a.isFunction(d)?d({option:e,$select:S}):d:"",{"is--disabled":f,"is--selected":r?n&&n.indexOf(h)>-1:n===h,"is--hover":i===h}],optid:g,onMousedown:e=>{0===e.button&&e.stopPropagation()},onClick:e=>{f||ee(e,h)},onMouseenter:()=>{f||q(e)}},z(j(e[c]))):null}))},ue=()=>{const{visibleGroupList:t,visibleOptionList:l}=d;if(D.value){if(t.length)return(()=>{const{optionKey:t}=e,{visibleGroupList:l}=d,o=$.value,n=M.value;return l.map(((e,l)=>{const{className:r}=e,i=_(e),c=e.disabled;return s("div",{key:t?i:l,class:["vxe-optgroup",r?a.isFunction(r)?r({option:e,$select:S}):r:"",{"is--disabled":c}],optid:i},[s("div",{class:"vxe-optgroup--title"},j(e[o])),s("div",{class:"vxe-optgroup--wrapper"},ce(e[n],e))])}))})()}else if(l.length)return ce(l);return[s("div",{class:"vxe-select--empty-placeholder"},e.emptyText||E.i18n("vxe.select.emptyText"))]};T={dispatchEvent(e,t,l){o(e,Object.assign({$select:S,$event:l},t))},isPanelVisible:()=>d.visiblePanel,togglePanel:()=>(d.visiblePanel?Z():X(),m()),hidePanel:()=>(d.visiblePanel&&Z(),m()),showPanel:()=>(d.visiblePanel||X(),m()),refreshOption:B,focus(){const e=h.value;return d.isActivated=!0,e.blur(),m()},blur:()=>(h.value.blur(),d.isActivated=!1,m())},Object.assign(S,T),i((()=>d.staticOptions),(e=>{e.some((e=>e.options&&e.options.length))?(d.fullOptionList=[],d.fullGroupList=e):(d.fullGroupList=[],d.fullOptionList=e||[]),W()})),i((()=>e.options),(e=>{d.fullGroupList=[],d.fullOptionList=e||[],W()})),i((()=>e.optionGroups),(e=>{d.fullOptionList=[],d.fullGroupList=e||[],W()})),m((()=>{const{options:t,optionGroups:l}=e;l?d.fullGroupList=l:t&&(d.fullOptionList=t),W(),el.on(S,"mousewheel",te),el.on(S,"mousedown",le),el.on(S,"keydown",oe),el.on(S,"blur",ne)})),y((()=>{el.off(S,"mousewheel"),el.off(S,"mousedown"),el.off(S,"keydown"),el.off(S,"blur")}));return S.renderVN=()=>{const{className:t,transfer:o,disabled:n,loading:i}=e,{inited:u,isActivated:m,visiblePanel:f}=d,g=r.value,x=V.value,y=l.prefix;return s("div",{ref:p,class:["vxe-select",t?a.isFunction(t)?t({$select:S}):t:"",{[`size--${g}`]:g,"is--visivle":f,"is--disabled":n,"is--active":m}]},[s("div",{class:"vxe-select-slots",ref:"hideOption"},l.default?l.default({}):[]),s(c("vxe-input"),{ref:h,clearable:e.clearable,placeholder:e.placeholder,readonly:!0,disabled:n,type:"text",prefixIcon:e.prefixIcon,suffixIcon:i?E.icon.SELECT_LOADED:f?E.icon.SELECT_OPEN:E.icon.SELECT_CLOSE,modelValue:x,onClear:Q,onClick:ie,onFocus:re,onBlur:ae,onSuffixClick:ie},y?{prefix:()=>y({})}:{}),s(b,{to:"body",disabled:!o||!u},[s("div",{ref:w,class:["vxe-table--ignore-clear vxe-select--panel",{[`size--${g}`]:g,"is--transfer":o,"animat--leave":!i&&d.animatVisible,"animat--enter":!i&&f}],placement:d.panelPlacement,style:d.panelStyle},u?[s("div",{ref:v,class:"vxe-select-option--wrapper"},ue())]:[])])])},x("$xeselect",S),S},render(){return this.renderVN()}}),vl=d({name:"VxeExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=p("$xetable",{}),{computeExportOpts:l,computePrintOpts:o}=t.getComputeMaps(),n=f({isAll:!1,isIndeterminate:!1,loading:!1}),r=g(),i=g(),c=g(),d=u((()=>{const{storeData:t}=e;return t.columns.every((e=>e.checked))})),h=u((()=>{const{defaultOptions:t}=e;return["html","xml","xlsx","pdf"].indexOf(t.type)>-1})),b=u((()=>{const{storeData:t,defaultOptions:l}=e;return!l.original&&"current"===l.mode&&(t.isPrint||["html","xlsx"].indexOf(l.type)>-1)})),x=u((()=>{const{defaultOptions:t}=e;return!t.original&&["xlsx"].indexOf(t.type)>-1})),w=t=>{const{storeData:l}=e,o=a.findTree(l.columns,(e=>e===t));if(o&&o.parent){const{parent:e}=o;e.children&&e.children.length&&(e.checked=e.children.every((e=>e.checked)),e.halfChecked=!e.checked&&e.children.some((e=>e.checked||e.halfChecked)),w(e))}},y=()=>{const{storeData:t}=e,l=t.columns;n.isAll=l.every((e=>e.disabled||e.checked)),n.isIndeterminate=!n.isAll&&l.some((e=>!e.disabled&&(e.checked||e.halfChecked)))},C=()=>{const{storeData:t}=e,l=!n.isAll;a.eachTree(t.columns,(e=>{e.disabled||(e.checked=l,e.halfChecked=!1)})),n.isAll=l,y()},S=()=>{m((()=>{const e=i.value,t=c.value,l=r.value,o=e||t||l;o&&o.focus()})),y()},T=()=>{const{storeData:t,defaultOptions:l}=e,{hasMerge:o,columns:n}=t,r=d.value,i=b.value,s=a.searchTree(n,(e=>e.checked),{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},l,{columns:s,isMerge:!!(o&&i&&r)&&l.isMerge})},R=()=>{const{storeData:t}=e;t.visible=!1},O=()=>{const{storeData:r}=e;r.isPrint?(()=>{const{storeData:l}=e,n=o.value;l.visible=!1,t.print(Object.assign({},n,T()))})():(()=>{const{storeData:o}=e,r=l.value;n.loading=!0,t.exportData(Object.assign({},r,T())).then((()=>{n.loading=!1,o.visible=!1})).catch((()=>{n.loading=!1}))})()};return()=>{const{defaultOptions:t,storeData:l}=e,{isAll:o,isIndeterminate:u}=n,{hasTree:p,hasMerge:m,isPrint:f,hasColgroup:g}=l,{isHeader:T}=t,k=[],I=d.value,$=h.value,M=b.value,D=x.value;return a.eachTree(l.columns,(e=>{const t=z(e.getTitle(),1),l=e.children&&e.children.length;k.push(s("li",{class:["vxe-export--panel-column-option",`level--${e.level}`,{"is--group":l,"is--checked":e.checked,"is--indeterminate":e.halfChecked,"is--disabled":e.disabled}],title:t,onClick:()=>{e.disabled||(e=>{const t=!e.checked;a.eachTree([e],(e=>{e.checked=t,e.halfChecked=!1})),w(e),y()})(e)}},[s("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"}),s("span",{class:"vxe-checkbox--label"},t)]))})),s(ul,{modelValue:l.visible,title:E.i18n(f?"vxe.export.printTitle":"vxe.export.expTitle"),width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:n.loading,"onUpdate:modelValue"(e){l.visible=e},onShow:S},{default:()=>s("div",{class:"vxe-export--panel"},[s("table",{cellspacing:0,cellpadding:0,border:0},[s("tbody",[[f?v():s("tr",[s("td",E.i18n("vxe.export.expName")),s("td",[s(ml,{ref:i,modelValue:t.filename,type:"text",clearable:!0,placeholder:E.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){t.filename=e}})])]),f?v():s("tr",[s("td",E.i18n("vxe.export.expType")),s("td",[s(gl,{modelValue:t.type,options:l.typeList.map((e=>({value:e.value,label:E.i18n(e.label)}))),"onUpdate:modelValue"(e){t.type=e}})])]),f||$?s("tr",[s("td",E.i18n("vxe.export.expSheetName")),s("td",[s(ml,{ref:c,modelValue:t.sheetName,type:"text",clearable:!0,placeholder:E.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){t.sheetName=e}})])]):v(),s("tr",[s("td",E.i18n("vxe.export.expMode")),s("td",[s(gl,{modelValue:t.mode,options:l.modeList.map((e=>({value:e.value,label:E.i18n(e.label)}))),"onUpdate:modelValue"(e){t.mode=e}})])]),s("tr",[s("td",[E.i18n("vxe.export.expColumn")]),s("td",[s("div",{class:"vxe-export--panel-column"},[s("ul",{class:"vxe-export--panel-column-header"},[s("li",{class:["vxe-export--panel-column-option",{"is--checked":o,"is--indeterminate":u}],title:E.i18n("vxe.table.allTitle"),onClick:C},[s("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"}),s("span",{class:"vxe-checkbox--label"},E.i18n("vxe.export.expCurrentColumn"))])]),s("ul",{class:"vxe-export--panel-column-body"},k)])])]),s("tr",[s("td",E.i18n("vxe.export.expOpts")),s("td",[s("div",{class:"vxe-export--panel-option-row"},[s(fl,{modelValue:t.isHeader,title:E.i18n("vxe.export.expHeaderTitle"),content:E.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){t.isHeader=e}}),s(fl,{modelValue:t.isFooter,disabled:!l.hasFooter,title:E.i18n("vxe.export.expFooterTitle"),content:E.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){t.isFooter=e}}),s(fl,{modelValue:t.original,title:E.i18n("vxe.export.expOriginalTitle"),content:E.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){t.original=e}})]),s("div",{class:"vxe-export--panel-option-row"},[s(fl,{modelValue:!!(T&&g&&M)&&t.isColgroup,title:E.i18n("vxe.export.expColgroupTitle"),disabled:!T||!g||!M,content:E.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){t.isColgroup=e}}),s(fl,{modelValue:!!(m&&M&&I)&&t.isMerge,title:E.i18n("vxe.export.expMergeTitle"),disabled:!m||!M||!I,content:E.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){t.isMerge=e}}),f?v():s(fl,{modelValue:!!D&&t.useStyle,disabled:!D,title:E.i18n("vxe.export.expUseStyleTitle"),content:E.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){t.useStyle=e}}),s(fl,{modelValue:!!p&&t.isAllExpand,disabled:!p,title:E.i18n("vxe.export.expAllExpandTitle"),content:E.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){t.isAllExpand=e}})])])])]])]),s("div",{class:"vxe-export--panel-btns"},[s(sl,{content:E.i18n("vxe.export.expCancel"),onClick:R}),s(sl,{ref:r,status:"primary",content:E.i18n(f?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:O})])])})}}}),bl=d({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:()=>E.radio.size||E.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:o}=t,n={xID:a.uniqueId(),props:e,context:t,name:a.uniqueId("xegroup_")};let r={};il(e);const i={handleChecked(e){o("update:modelValue",e.label),r.dispatchEvent("change",e)}};r={dispatchEvent(e,t,l){o(e,Object.assign({$radioGroup:n,$event:l},t))}};const c=()=>s("div",{class:"vxe-radio-group"},l.default?l.default({}):[]);return Object.assign(n,i,{renderVN:c,dispatchEvent:dispatchEvent}),x("$xeradiogroup",n),c}}),xl=d({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,size:{type:String,default:()=>E.radio.size||E.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:o}=t,n={xID:a.uniqueId(),props:e,context:t},r=il(e),i=p("$xeradiogroup",null);let c={};const d=u((()=>e.disabled||i&&i.props.disabled)),m=u((()=>i?i.name:e.name)),f=u((()=>{const{modelValue:t,label:l}=e;return i?i.props.modelValue===l:t===l})),h=t=>{const{label:l}=e;d.value||(i?i.handleChecked({label:l},t):(o("update:modelValue",l),c.dispatchEvent("change",{label:l},t)))};c={dispatchEvent(e,t,l){o(e,Object.assign({$radio:n,$event:l},t))}},Object.assign(n,c);return n.renderVN=()=>{const t=r.value,o=d.value,n=m.value,a=f.value;return s("label",{class:["vxe-radio",{[`size--${t}`]:t,"is--disabled":o}],title:e.title},[s("input",{class:"vxe-radio--input",type:"radio",name:n,checked:a,disabled:o,onChange:h}),s("span",{class:"vxe-radio--icon"}),s("span",{class:"vxe-radio--label"},l.default?l.default({}):j(e.content))])},n},render(){return this.renderVN()}}),wl=d({name:"VxeImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=p("$xetable",{}),{computeImportOpts:l}=t.getComputeMaps(),o=f({loading:!1}),n=g(),r=u((()=>{const{storeData:t}=e;return`${t.filename}.${t.type}`})),i=u((()=>{const{storeData:t}=e;return t.file&&t.type})),c=u((()=>{const{storeData:t}=e,{type:l,typeList:o}=t;if(l){const e=a.find(o,(e=>l===e.value));return e?E.i18n(e.label):"*.*"}return`*.${o.map((e=>e.value)).join(", *.")}`})),d=()=>{const{storeData:t}=e;Object.assign(t,{filename:"",sheetName:"",type:""})},h=()=>{const{storeData:l,defaultOptions:o}=e;t.readFile(o).then((e=>{const{file:t}=e;Object.assign(l,N(t),{file:t})})).catch((e=>e))},v=()=>{m((()=>{const e=n.value;e&&e.focus()}))},b=()=>{const{storeData:t}=e;t.visible=!1},x=()=>{const{storeData:n,defaultOptions:r}=e,a=l.value;o.loading=!0,t.importByFile(n.file,Object.assign({},a,r)).then((()=>{o.loading=!1,n.visible=!1})).catch((()=>{o.loading=!1}))};return()=>{const{defaultOptions:t,storeData:l}=e,a=r.value,u=i.value,p=c.value;return s(ul,{modelValue:l.visible,title:E.i18n("vxe.import.impTitle"),width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:o.loading,"onUpdate:modelValue"(e){l.visible=e},onShow:v},{default:()=>s("div",{class:"vxe-export--panel"},[s("table",{cellspacing:0,cellpadding:0,border:0},[s("tbody",[s("tr",[s("td",E.i18n("vxe.import.impFile")),s("td",[u?s("div",{class:"vxe-import-selected--file",title:a},[s("span",a),s("i",{class:E.icon.INPUT_CLEAR,onClick:d})]):s("button",{ref:n,class:"vxe-import-select--file",onClick:h},E.i18n("vxe.import.impSelect"))])]),s("tr",[s("td",E.i18n("vxe.import.impType")),s("td",p)]),s("tr",[s("td",E.i18n("vxe.import.impOpts")),s("td",[s(bl,{modelValue:t.mode,"onUpdate:modelValue"(e){t.mode=e}},{default:()=>l.modeList.map((e=>s(xl,{label:e.value,content:E.i18n(e.label)})))})])])])]),s("div",{class:"vxe-export--panel-btns"},[s(sl,{content:E.i18n("vxe.import.impCancel"),onClick:b}),s(sl,{status:"primary",disabled:!u,content:E.i18n("vxe.import.impConfirm"),onClick:x})])])})}}});let yl,Cl,Sl;function Tl(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function Rl(e,t){return window.Blob?new Blob([e],{type:`text/${t.type}`}):null}function Ol(e,t){const{style:l}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style>body{margin:0;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}</style>',l?`<style>${l}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const El=e=>{const t=Object.assign({},e);return yl||(yl=document.createElement("form"),Cl=document.createElement("input"),yl.className="vxe-table--file-form",Cl.name="file",Cl.type="file",yl.appendChild(Cl),document.body.appendChild(yl)),new Promise(((e,l)=>{const o=t.types||[],n=!o.length||o.some((e=>"*"===e));Cl.multiple=!!t.multiple,Cl.accept=n?"":`.${o.join(", .")}`,Cl.onchange=r=>{const{files:i}=r.target,s=i[0];let c="";if(!n)for(let e=0;e<i.length;e++){const{type:t}=N(i[e]);if(!a.includes(o,t)){c=t;break}}if(c){!1!==t.message&&Rt.modal.message({content:E.i18n("vxe.error.notType",[c]),status:"error"});l({status:!1,files:i,file:s})}else e({status:!0,files:i,file:s})},yl.reset(),Cl.click()}))};function kl(){if(Sl){if(Sl.parentNode){try{Sl.contentDocument.write(""),Sl.contentDocument.clear()}catch(e){}Sl.parentNode.removeChild(Sl)}Sl=null}}function Il(){Sl.parentNode||document.body.appendChild(Sl)}function $l(){kl()}function Ml(e,t,l=""){const{beforePrintMethod:o}=t;o&&(l=o({content:l,options:t,$table:e})||"");const n=Rl(l=Ol(t,l),t);G.msie?(kl(),Sl=Tl(),Il(),Sl.contentDocument.write(l),Sl.contentDocument.execCommand("print")):(Sl||(Sl=Tl(),Sl.onload=e=>{e.target.src&&(e.target.contentWindow.onafterprint=$l,e.target.contentWindow.print())}),Il(),Sl.src=URL.createObjectURL(n))}const Dl=e=>{const{filename:t,type:l,content:o}=e,n=`${t}.${l}`;if(window.Blob){const t=o instanceof Blob?o:Rl(a.toValueString(o),e);if(navigator.msSaveBlob)navigator.msSaveBlob(t,n);else{const e=document.createElement("a");e.target="_blank",e.download=n,e.href=URL.createObjectURL(t),document.body.appendChild(e),e.click(),document.body.removeChild(e)}return Promise.resolve()}return Promise.reject(new Error($("vxe.error.notExp")))};let Ll;function Nl(e){return e.property||["seq","checkbox","radio"].indexOf(e.type)>-1}const Fl=e=>{const t=[];return e.forEach((e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...Fl(e.childNodes))):t.push(e)})),t};function Pl(e){return!0===e?"full":e||"default"}function Al(e){return"TRUE"===e||"true"===e||!0===e}function Vl(e,t){return(e.original?t.property:t.getTitle())||""}function Hl(e,t){const{footerFilterMethod:l}=e;return l?t.filter(((e,t)=>l({items:e,$rowIndex:t}))):t}function _l(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function jl(e,t){return e.getElementsByTagName(t)}function zl(e){return`#${e}@${a.uniqueId()}`}function Bl(e,t){return e.replace(/#\d+@\d+/g,(e=>a.hasOwnProp(t,e)?t[e]:e))}function Wl(e,t){return Bl(e,t).replace(/^"+$/g,(e=>'"'.repeat(Math.ceil(e.length/2))))}function ql(e,t,l){const o=t.split("\r\n"),n=[];let r=[];if(o.length){const e={},t=Date.now();o.forEach((o=>{if(o){const a={},i=(o=o.replace(/("")|(\n)/g,((l,o)=>{const n=zl(t);return e[n]=o?'"':"\n",n})).replace(/"(.*?)"/g,((l,o)=>{const n=zl(t);return e[n]=Bl(o,e),n}))).split(l);r.length?(i.forEach(((t,l)=>{l<r.length&&(a[r[l]]=Wl(t.trim(),e))})),n.push(a)):r=i.map((t=>Wl(t.trim(),e)))}}))}return{fields:r,rows:n}}function Yl(e){a.eachTree(e,(e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes}),{children:"children"})}const Ul=["exportData","importByFile","importData","saveFile","readFile","print","openImport","openExport","openPrint"],Gl={setupTable(e){const{props:t,reactData:l,internalData:o}=e,{computeTreeOpts:n,computePrintOpts:r,computeExportOpts:i,computeImportOpts:s,computeCustomOpts:c,computeSeqOpts:d,computeRadioOpts:u,computeCheckboxOpts:f}=e.getComputeMaps(),h=p("$xegrid",null),g=(e,t,l,o)=>{const n=d.value,r=n.seqMethod||l.seqMethod;return r?r({row:e,rowIndex:t,column:l,columnIndex:o}):n.startIndex+t+1},v=e=>a.isBoolean(e)?e?"TRUE":"FALSE":e,b=(l,o,r)=>{const{isAllExpand:i}=l,{treeConfig:s}=t,c=u.value,d=f.value,p=n.value;if(Ll||(Ll=document.createElement("div")),s){const t=[];return a.eachTree(r,((r,s,u,p,m,f)=>{const h=r._row||r,b=m&&m._row?m._row:m;if(i||!b||e.isTreeExpandByRow(b)){const r=(e=>{const t=n.value;return e[t.children]&&e[t.children].length})(h),i={_row:h,_level:f.length-1,_hasChild:r,_expand:r&&e.isTreeExpandByRow(h)};o.forEach(((t,o)=>{let n="";const r=t.editRender||t.cellRender;let u=t.exportMethod;if(!u&&r&&r.name){const e=Rt.renderer.get(r.name);e&&(u=e.exportMethod)}if(u)n=u({$table:e,row:h,column:t,options:l});else switch(t.type){case"seq":n=g(h,s,t,o);break;case"checkbox":n=v(e.isCheckedByCheckboxRow(h)),i._checkboxLabel=d.labelField?a.get(h,d.labelField):"",i._checkboxDisabled=d.checkMethod&&!d.checkMethod({row:h});break;case"radio":n=v(e.isCheckedByRadioRow(h)),i._radioLabel=c.labelField?a.get(h,c.labelField):"",i._radioDisabled=c.checkMethod&&!c.checkMethod({row:h});break;default:if(l.original)n=xe(h,t);else if(n=e.getCellLabel(h,t),"html"===t.type)Ll.innerHTML=n,n=Ll.innerText.trim();else{const l=e.getCell(h,t);l&&(n=l.innerText.trim())}}i[t.id]=a.toValueString(n)})),t.push(Object.assign(i,h))}}),p),t}return r.map(((t,n)=>{const r={_row:t};return o.forEach(((o,i)=>{let s="";const u=o.editRender||o.cellRender;let p=o.exportMethod;if(!p&&u&&u.name){const e=Rt.renderer.get(u.name);e&&(p=e.exportMethod)}if(p)s=p({$table:e,row:t,column:o,options:l});else switch(o.type){case"seq":s=g(t,n,o,i);break;case"checkbox":s=v(e.isCheckedByCheckboxRow(t)),r._checkboxLabel=d.labelField?a.get(t,d.labelField):"",r._checkboxDisabled=d.checkMethod&&!d.checkMethod({row:t});break;case"radio":s=v(e.isCheckedByRadioRow(t)),r._radioLabel=c.labelField?a.get(t,c.labelField):"",r._radioDisabled=c.checkMethod&&!c.checkMethod({row:t});break;default:if(l.original)s=xe(t,o);else if(s=e.getCellLabel(t,o),"html"===o.type)Ll.innerHTML=s,s=Ll.innerText.trim();else{const l=e.getCell(t,o);l&&(s=l.innerText.trim())}}r[o.id]=a.toValueString(s)})),r}))},x=(t,l,o)=>{const n=o.editRender||o.cellRender;let r=o.footerExportMethod;if(!r&&n&&n.name){const e=Rt.renderer.get(n.name);e&&(r=e.footerExportMethod)}const i=e.getVTColumnIndex(o);return r?r({$table:e,items:l,itemIndex:i,_columnIndex:i,column:o,options:t}):a.toValueString(l[i])},w=(e,t,o)=>{let n="\ufeff";if(e.isHeader&&(n+=t.map((t=>_l(Vl(e,t)))).join(",")+"\r\n"),o.forEach((e=>{n+=t.map((t=>_l(function(e,t){if(t)switch(e.cellType){case"string":if(!isNaN(t))return`\t${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`\t${t}`}return t}(t,e[t.id])))).join(",")+"\r\n"})),e.isFooter){const{footerTableData:o}=l;Hl(e,o).forEach((l=>{n+=t.map((t=>_l(x(e,l,t)))).join(",")+"\r\n"}))}return n},y=(e,t,o)=>{const n=e[t],r=a.isUndefined(n)||a.isNull(n)?o:n;let i="title"===r||(!0===r||"tooltip"===r)||"ellipsis"===r;const{scrollXLoad:s,scrollYLoad:c}=l;return!s&&!c||i||(i=!0),i},C=(o,r,i)=>{if(r.length)switch(o.type){case"csv":return w(o,r,i);case"txt":return((e,t,o)=>{let n="";if(e.isHeader&&(n+=t.map((t=>_l(Vl(e,t)))).join("\t")+"\r\n"),o.forEach((e=>{n+=t.map((t=>_l(e[t.id]))).join("\t")+"\r\n"})),e.isFooter){const{footerTableData:o}=l;Hl(e,o).forEach((l=>{n+=t.map((t=>_l(x(e,l,t)))).join(",")+"\r\n"}))}return n})(o,r,i);case"html":return((o,r,i)=>{const{id:s,border:c,treeConfig:d,headerAlign:u,align:p,footerAlign:m,showOverflow:f,showHeaderOverflow:h}=t,{isAllSelected:g,isIndeterminate:v,mergeList:b}=l,w=n.value,{print:C,isHeader:S,isFooter:T,isColgroup:R,isMerge:O,colgroups:E,original:k}=o,I=[`<table class="${["vxe-table",`border--${Pl(c)}`,C?"is--print":"",S?"is--header":""].filter((e=>e)).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${r.map((e=>`<col style="width:${e.renderWidth}px">`)).join("")}</colgroup>`];if(S&&(I.push("<thead>"),R&&!k?E.forEach((e=>{I.push(`<tr>${e.map((e=>{const t=e.headerAlign||e.align||u||p,l=y(e,"showHeaderOverflow",h)?["col--ellipsis"]:[],n=Vl(o,e);let r=0,i=0;a.eachTree([e],(t=>{t.childNodes&&e.childNodes.length||i++,r+=t.renderWidth}),{children:"childNodes"});const s=r-i;return t&&l.push(`col--${t}`),"checkbox"===e.type?`<th class="${l.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}"><div ${C?"":`style="width: ${s}px"`}><input type="checkbox" class="check-all" ${g?"checked":""}><span>${n}</span></div></th>`:`<th class="${l.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}" title="${n}"><div ${C?"":`style="width: ${s}px"`}><span>${z(n,!0)}</span></div></th>`})).join("")}</tr>`)})):I.push(`<tr>${r.map((e=>{const t=e.headerAlign||e.align||u||p,l=y(e,"showHeaderOverflow",h)?["col--ellipsis"]:[],n=Vl(o,e);return t&&l.push(`col--${t}`),"checkbox"===e.type?`<th class="${l.join(" ")}"><div ${C?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="check-all" ${g?"checked":""}><span>${n}</span></div></th>`:`<th class="${l.join(" ")}" title="${n}"><div ${C?"":`style="width: ${e.renderWidth}px"`}><span>${z(n,!0)}</span></div></th>`})).join("")}</tr>`),I.push("</thead>")),i.length&&(I.push("<tbody>"),d?i.forEach((e=>{I.push("<tr>"+r.map((t=>{const l=t.align||p,o=y(t,"showOverflow",f)?["col--ellipsis"]:[],n=e[t.id];if(l&&o.push(`col--${l}`),t.treeNode){let l="";return e._hasChild&&(l=`<i class="${e._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),o.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${o.join(" ")}" title="${n}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${l}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${Al(n)?"checked":""}><span>${e._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}" title="${n}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${l}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${Al(n)?"checked":""}><span>${e._checkboxLabel}</span></div></div></div></td>`:`<td class="${o.join(" ")}" title="${n}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${l}</div><div class="vxe-table--tree-cell">${n}</div></div></div></td>`}return"radio"===t.type?`<td class="${o.join(" ")}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${Al(n)?"checked":""}><span>${e._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${Al(n)?"checked":""}><span>${e._checkboxLabel}</span></div></td>`:`<td class="${o.join(" ")}" title="${n}"><div ${C?"":`style="width: ${t.renderWidth}px"`}>${z(n,!0)}</div></td>`})).join("")+"</tr>")})):i.forEach((t=>{I.push("<tr>"+r.map((l=>{const o=l.align||p,n=y(l,"showOverflow",f)?["col--ellipsis"]:[],r=t[l.id];let a=1,i=1;if(O&&b.length){const o=e.getVTRowIndex(t._row),n=e.getVTColumnIndex(l),r=Oe(b,o,n);if(r){const{rowspan:e,colspan:t}=r;if(!e||!t)return"";e>1&&(a=e),t>1&&(i=t)}}return o&&n.push(`col--${o}`),"radio"===l.type?`<td class="${n.join(" ")}" rowspan="${a}" colspan="${i}"><div ${C?"":`style="width: ${l.renderWidth}px"`}><input type="radio" name="radio_${s}" ${t._radioDisabled?"disabled ":""}${Al(r)?"checked":""}><span>${t._radioLabel}</span></div></td>`:"checkbox"===l.type?`<td class="${n.join(" ")}" rowspan="${a}" colspan="${i}"><div ${C?"":`style="width: ${l.renderWidth}px"`}><input type="checkbox" ${t._checkboxDisabled?"disabled ":""}${Al(r)?"checked":""}><span>${t._checkboxLabel}</span></div></td>`:`<td class="${n.join(" ")}" rowspan="${a}" colspan="${i}" title="${r}"><div ${C?"":`style="width: ${l.renderWidth}px"`}>${z(r,!0)}</div></td>`})).join("")+"</tr>")})),I.push("</tbody>")),T){const{footerTableData:e}=l,t=Hl(o,e);t.length&&(I.push("<tfoot>"),t.forEach((e=>{I.push(`<tr>${r.map((t=>{const l=t.footerAlign||t.align||m||p,n=y(t,"showOverflow",f)?["col--ellipsis"]:[],r=x(o,e,t);return l&&n.push(`col--${l}`),`<td class="${n.join(" ")}" title="${r}"><div ${C?"":`style="width: ${t.renderWidth}px"`}>${z(r,!0)}</div></td>`})).join("")}</tr>`)})),I.push("</tfoot>"))}const $=!g&&v?'<script>(function(){var a=document.querySelector(".check-all");if(a){a.indeterminate=true}})()<\/script>':"";return I.push("</table>",$),C?I.join(""):Ol(o,I.join(""))})(o,r,i);case"xml":return((e,t,o)=>{let n=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${e.sheetName}">`,"<Table>",t.map((e=>`<Column ss:Width="${e.renderWidth}"/>`)).join("")].join("");if(e.isHeader&&(n+=`<Row>${t.map((t=>`<Cell><Data ss:Type="String">${Vl(e,t)}</Data></Cell>`)).join("")}</Row>`),o.forEach((e=>{n+="<Row>"+t.map((t=>`<Cell><Data ss:Type="String">${e[t.id]}</Data></Cell>`)).join("")+"</Row>"})),e.isFooter){const{footerTableData:o}=l;Hl(e,o).forEach((l=>{n+=`<Row>${t.map((t=>`<Cell><Data ss:Type="String">${x(e,l,t)}</Data></Cell>`)).join("")}</Row>`}))}return`${n}</Table></Worksheet></Workbook>`})(o,r,i)}return""},S=t=>{const{remote:l,columns:o,colgroups:n,exportMethod:r,afterExportMethod:a}=t;return new Promise((a=>{if(l){const l={options:t,$table:e,$grid:h};a(r?r(l):l)}else{const l=(e=>{const{columns:t,dataFilterMethod:l}=e;let o=e.data;return l&&(o=o.filter(((e,t)=>l({row:e,$rowIndex:t})))),b(e,t,o)})(t);a(e.preventEvent(null,"event.export",{options:t,columns:o,colgroups:n,datas:l},(()=>((e,t)=>{const{filename:l,type:o,download:n}=e;if(!n){const l=Rl(t,e);return Promise.resolve({type:o,content:t,blob:l})}Dl({filename:l,type:o,content:t}).then((()=>{!1!==e.message&&Rt.modal.message({content:E.i18n("vxe.table.expSuccess"),status:"success"})}))})(t,C(t,o,l)))))}})).then((l=>(Yl(o),t.print||a&&a({status:!0,options:t,$table:e,$grid:h}),Object.assign({status:!0},l)))).catch((()=>{Yl(o),t.print||a&&a({status:!1,options:t,$table:e,$grid:h});return Promise.reject({status:!1})}))},T=(t,l)=>{const{tableFullColumn:n,_importResolve:r,_importReject:i}=o;let s={fields:[],rows:[]};switch(l.type){case"csv":s=function(e,t){return ql(0,t,",")}(0,t);break;case"txt":s=function(e,t){return ql(0,t,"\t")}(0,t);break;case"html":s=function(e,t){const l=jl((new DOMParser).parseFromString(t,"text/html"),"body"),o=[],n=[];if(l.length){const e=jl(l[0],"table");if(e.length){const t=jl(e[0],"thead");if(t.length){a.arrayEach(jl(t[0],"tr"),(e=>{a.arrayEach(jl(e,"th"),(e=>{n.push(e.textContent)}))}));const l=jl(e[0],"tbody");l.length&&a.arrayEach(jl(l[0],"tr"),(e=>{const t={};a.arrayEach(jl(e,"td"),((e,l)=>{n[l]&&(t[n[l]]=e.textContent||"")})),o.push(t)}))}}}return{fields:n,rows:o}}(0,t);break;case"xml":s=function(e,t){const l=jl((new DOMParser).parseFromString(t,"application/xml"),"Worksheet"),o=[],n=[];if(l.length){const e=jl(l[0],"Table");if(e.length){const t=jl(e[0],"Row");t.length&&(a.arrayEach(jl(t[0],"Cell"),(e=>{n.push(e.textContent)})),a.arrayEach(t,((e,t)=>{if(t){const t={},l=jl(e,"Cell");a.arrayEach(l,((e,l)=>{n[l]&&(t[n[l]]=e.textContent)})),o.push(t)}})))}}return{fields:n,rows:o}}(0,t)}const{fields:c,rows:d}=s;(function(e,t){const l=[];return e.forEach((e=>{const t=e.property;t&&l.push(t)})),t.some((e=>l.indexOf(e)>-1))})(n,c)?e.createData(d).then((t=>{let o;return o="insert"===l.mode?e.insert(t):e.reloadData(t),!1!==l.message&&Rt.modal.message({content:E.i18n("vxe.table.impSuccess",[d.length]),status:"success"}),o.then((()=>{r&&r({status:!0})}))})):!1!==l.message&&(Rt.modal.message({content:E.i18n("vxe.error.impFields"),status:"error"}),i&&i({status:!1}))},R=(t,l)=>{const{importMethod:n,afterImportMethod:r}=l,{type:i,filename:s}=N(t);if(!n&&!a.includes(Rt.config.importTypes,i)){!1!==l.message&&Rt.modal.message({content:E.i18n("vxe.error.notType",[i]),status:"error"});const e={status:!1};return Promise.reject(e)}return new Promise(((r,a)=>{const c=e=>{r(e),o._importResolve=null,o._importReject=null},d=e=>{a(e),o._importResolve=null,o._importReject=null};if(o._importResolve=c,o._importReject=d,window.FileReader){const r=Object.assign({mode:"insert"},l,{type:i,filename:s});if(r.remote)n?Promise.resolve(n({file:t,options:r,$table:e})).then((()=>{c({status:!0})})).catch((()=>{c({status:!0})})):c({status:!0});else{const{tableFullColumn:l}=o;e.preventEvent(null,"event.import",{file:t,options:r,columns:l},(()=>{const e=new FileReader;e.onerror=()=>{V("vxe.error.notType",[i]),d({status:!1})},e.onload=e=>{T(e.target.result,r)},e.readAsText(t,"UTF-8")}))}}else c({status:!0})})).then((()=>{r&&r({status:!0,options:l,$table:e})})).catch((t=>(r&&r({status:!1,options:l,$table:e}),Promise.reject(t))))},O=(n,r)=>{const{treeConfig:i,showHeader:s,showFooter:d}=t,{initStore:u,mergeList:p,isGroup:f,footerTableData:h,exportStore:g,exportParams:v}=l,{collectColumn:b}=o,x=i,w=c.value,y=e.getCheckboxRecords(),C=!!h.length,S=!x&&p.length,T=Object.assign({message:!0,isHeader:s,isFooter:d},n),R=T.types||Rt.config.exportTypes,O=T.modes,E=w.checkMethod,k=b.slice(0),{columns:I}=T,$=R.map((e=>({value:e,label:`vxe.export.types.${e}`}))),M=O.map((e=>({value:e,label:`vxe.export.modes.${e}`})));return a.eachTree(k,((e,t,l,o,n)=>{(e.children&&e.children.length||Nl(e))&&(e.checked=I?I.some((t=>{if(Ce(t))return e===t;if(a.isString(t))return e.field===t;{const l=t.id||t.colId,o=t.type,n=t.property||t.field;if(l)return e.id===l;if(n&&o)return e.property===n&&e.type===o;if(n)return e.property===n;if(o)return e.type===o}})):e.visible,e.halfChecked=!1,e.disabled=n&&n.disabled||!!E&&!E({column:e}))})),Object.assign(g,{columns:k,typeList:$,modeList:M,hasFooter:C,hasMerge:S,hasTree:x,isPrint:r,hasColgroup:f,visible:!0}),u.export||Object.assign(v,{mode:y.length?"selected":"current"},T),-1===O.indexOf(v.mode)&&(v.mode=O[0]),-1===R.indexOf(v.type)&&(v.type=R[0]),u.export=!0,m()},k={exportData(r){const{treeConfig:s}=t,{isGroup:c,tableGroupColumn:d}=l,{tableFullColumn:u,afterFullData:p}=o,m=i.value,f=n.value,g=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},m,{print:!1},r),{type:v,mode:b,columns:x,original:w,beforeExportMethod:y}=g;let C=[];const T=x&&x.length?x:null;let R=g.columnFilterMethod;T||R||(R=w?({column:e})=>e.property:({column:e})=>Nl(e)),C=T?a.searchTree(a.mapTree(T,(t=>{let l;if(t){if(Ce(t))l=t;else if(a.isString(t))l=e.getColumnByField(t);else{const o=t.id||t.colId,n=t.type,r=t.property||t.field;o?l=e.getColumnById(o):r&&n?l=u.find((e=>e.property===r&&e.type===n)):r?l=e.getColumnByField(r):n&&(l=u.find((e=>e.type===n)))}return l||{}}}),{children:"childNodes",mapChildren:"_children"}),((e,t)=>Ce(e)&&(!R||R({column:e,$columnIndex:t}))),{children:"_children",mapChildren:"childNodes",original:!0}):a.searchTree(c?d:u,((e,t)=>e.visible&&(!R||R({column:e,$columnIndex:t}))),{children:"children",mapChildren:"childNodes",original:!0});const O=[];if(a.eachTree(C,(e=>{e.children&&e.children.length||O.push(e)}),{children:"childNodes"}),g.columns=O,g.colgroups=(e=>{let t=1;const l=(e,o)=>{if(o&&(e._level=o._level+1,t<e._level&&(t=e._level)),e.childNodes&&e.childNodes.length){let t=0;e.childNodes.forEach((o=>{l(o,e),t+=o._colSpan})),e._colSpan=t}else e._colSpan=1};e.forEach((e=>{e._level=1,l(e)}));const o=[];for(let n=0;n<t;n++)o.push([]);return Fl(e).forEach((e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,o[e._level-1].push(e)})),o})(C),g.filename||(g.filename=E.i18n(g.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[a.toDateString(Date.now(),"yyyyMMddHHmmss")])),g.sheetName||(g.sheetName=document.title),!g.exportMethod&&!a.includes(Rt.config.exportTypes,v)){const e={status:!1};return Promise.reject(e)}if(g.print||y&&y({options:g,$table:e,$grid:h}),!g.data)if(g.data=p,"selected"===b){const t=e.getCheckboxRecords();["html","pdf"].indexOf(v)>-1&&s?g.data=a.searchTree(e.getTableData().fullData,(l=>e.findRowIndexOf(t,l)>-1),Object.assign({},f,{data:"_row"})):g.data=t}else if("all"===b&&h&&!g.remote){const{reactData:t}=h,{computeProxyOpts:l}=h.getComputeMaps(),o=l.value,{beforeQueryAll:n,afterQueryAll:r,ajax:i={},props:s={}}=o,c=i.queryAll;if(c){const l={$table:e,$grid:h,sort:t.sortData,filters:t.filterData,form:t.formData,target:c,options:g};return Promise.resolve((n||c)(l)).catch((e=>e)).then((e=>(g.data=(s.list?a.get(e,s.list):e)||[],r&&r(l),S(g))))}}return S(g)},importByFile(t,l){const o=Object.assign({},l),{beforeImportMethod:n}=o;return n&&n({options:o,$table:e}),R(t,o)},importData(t){const l=s.value,o=Object.assign({types:Rt.config.importTypes},l,t),{beforeImportMethod:n,afterImportMethod:r}=o;return n&&n({options:o,$table:e}),El(o).catch((t=>(r&&r({status:!1,options:o,$table:e}),Promise.reject(t)))).then((e=>{const{file:t}=e;return R(t,o)}))},saveFile:e=>Dl(e),readFile:e=>El(e),print(t){const l=r.value,o=Object.assign({original:!1},l,t,{type:"html",download:!1,remote:!1,print:!0});return o.sheetName||(o.sheetName=document.title),new Promise((t=>{o.content?t(Ml(e,o,o.content)):t(k.exportData(o).then((({content:t})=>Ml(e,o,t))))}))},openImport(e){const{treeConfig:o,importConfig:n}=t,{initStore:r,importStore:a,importParams:i}=l,c=s.value,d=Object.assign({mode:"insert",message:!0,types:Rt.config.importTypes},e,c),{types:u}=d;if(!!o)return void(d.message&&Rt.modal.message({content:E.i18n("vxe.error.treeNotImp"),status:"error"}));n||V("vxe.error.reqProp",["import-config"]);const p=u.map((e=>({value:e,label:`vxe.export.types.${e}`}))),m=d.modes.map((e=>({value:e,label:`vxe.import.modes.${e}`})));Object.assign(a,{file:null,type:"",filename:"",modeList:m,typeList:p,visible:!0}),Object.assign(i,d),r.import=!0},openExport(e){const t=i.value;O(Object.assign({},t,e))},openPrint(e){const t=r.value;O(Object.assign({},t,e),!0)}};return k},setupGrid:e=>e.extendTableMethods(Ul)},Xl=e=>{const t=Object.assign({},e,{type:"html"});Ml(null,t,t.content)},Zl={ExportPanel:vl,ImportPanel:wl,install(e){Rt.saveFile=Dl,Rt.readFile=El,Rt.print=Xl,Rt.setup({export:{types:{csv:0,html:0,xml:0,txt:0}}}),Rt.hooks.add("$tableExport",Gl),Dt.component(vl.name,vl),Dt.component(wl.name,wl),e.component(vl.name,vl),e.component(wl.name,wl)}};const Kl={setupTable(e){const{props:t,reactData:l,internalData:o}=e,{refElem:n}=e.getRefMaps(),{computeEditOpts:r,computeCheckboxOpts:i,computeMouseOpts:s,computeTreeOpts:c}=e.getComputeMaps();const d=(t,r)=>{const{column:i,cell:s}=r;if("checkbox"===i.type){const c=n.value,{elemStore:d}=o,u=t.clientX,p=t.clientY,m=d[`${i.fixed||"main"}-body-wrapper`]||d["main-body-wrapper"],f=m.querySelector(".vxe-table--checkbox-range"),h=document.onmousemove,g=document.onmouseup,v=s.parentNode,b=e.getCheckboxRecords();let x=[];const w=1,y=function(e,t){let l=0,o=0;const n=!G.firefox&&Q(e,"vxe-checkbox--label");if(n){const t=getComputedStyle(e);l-=a.toNumber(t.paddingTop),o-=a.toNumber(t.paddingLeft)}for(;e&&e!==t;)if(l+=e.offsetTop,o+=e.offsetLeft,e=e.offsetParent,n){const t=getComputedStyle(e);l-=a.toNumber(t.paddingTop),o-=a.toNumber(t.paddingLeft)}return{offsetTop:l,offsetLeft:o}}(t.target,m),C=y.offsetTop+t.offsetY,S=y.offsetLeft+t.offsetX,T=m.scrollTop,R=v.offsetHeight;let O=null,E=!1,k=1;const I=(t,l)=>{e.dispatchEvent(`checkbox-range-${t}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},l)},$=t=>{const{clientX:n,clientY:a}=t,i=n-u,s=a-p+(m.scrollTop-T);let c=Math.abs(s),d=Math.abs(i),h=C,g=S;s<w?(h+=s,h<w&&(h=w,c=C)):c=Math.min(c,m.scrollHeight-C-w),i<w?(g+=i,d>S&&(g=w,d=S)):d=Math.min(d,m.clientWidth-S-w),f.style.height=`${c}px`,f.style.width=`${d}px`,f.style.left=`${g}px`,f.style.top=`${h}px`,f.style.display="block";const y=function(t,n,r){let a=0,i=[];const s=r>0,c=r>0?r:Math.abs(r)+n.offsetHeight,{scrollYLoad:d}=l,{afterFullData:u,scrollYStore:p}=o;if(d){const l=e.getVTRowIndex(t.row);i=s?u.slice(l,l+Math.ceil(c/p.rowHeight)):u.slice(l-Math.floor(c/p.rowHeight)+1,l+1)}else{const t=s?"next":"previous";for(;n&&a<c;){const l=e.getRowNode(n);l&&(i.push(l.item),a+=n.offsetHeight,n=n[`${t}ElementSibling`])}}return i}(r,v,s<w?-c:c);c>10&&y.length!==x.length&&(x=y,t.ctrlKey?y.forEach((t=>{e.handleSelectRow({row:t},-1===b.indexOf(t))})):(e.setAllCheckboxRow(!1),e.setCheckboxRow(y,!0)),I("change",t))},M=()=>{clearTimeout(O),O=null},D=t=>{M(),O=setTimeout((()=>{if(O){const{scrollLeft:l,scrollTop:o,clientHeight:n,scrollHeight:r}=m,a=Math.ceil(50*k/R);E?o+n<r?(e.scrollTo(l,o+a),D(t),$(t)):M():o?(e.scrollTo(l,o-a),D(t),$(t)):M()}}),50)};te(c,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();const{clientY:t}=e,{boundingTop:l}=de(m);t<l?(E=!1,k=l-t,O||D(e)):t>l+m.clientHeight?(E=!0,k=t-l-m.clientHeight,O||D(e)):O&&M(),$(e)},document.onmouseup=e=>{M(),ee(c,"drag--range"),f.removeAttribute("style"),document.onmousemove=h,document.onmouseup=g,I("end",e)},I("start",t)}};return{moveTabSelected(l,n,a){const{editConfig:i}=t,{afterFullData:s,visibleColumn:c}=o,d=r.value;let u,p,m;const f=Object.assign({},l),h=e.getVTRowIndex(f.row),g=e.getVTColumnIndex(f.column);a.preventDefault(),n?g<=0?h>0&&(p=h-1,u=s[p],m=c.length-1):m=g-1:g>=c.length-1?h<s.length-1&&(p=h+1,u=s[p],m=0):m=g+1;const v=c[m];v&&(u?(f.rowIndex=p,f.row=u):f.rowIndex=h,f.columnIndex=m,f.column=v,f.cell=e.getCell(f.row,f.column),i?"click"!==d.trigger&&"dblclick"!==d.trigger||("row"===d.mode?e.handleActived(f,a):e.scrollToRow(f.row,f.column).then((()=>e.handleSelected(f,a)))):e.scrollToRow(f.row,f.column).then((()=>e.handleSelected(f,a))))},moveCurrentRow(n,r,i){const{treeConfig:s}=t,{currentRow:d}=l,{afterFullData:u}=o,p=c.value;let m;if(i.preventDefault(),d)if(s){const{index:e,items:t}=a.findTree(u,(e=>e===d),p);n&&e>0?m=t[e-1]:r&&e<t.length-1&&(m=t[e+1])}else{const t=e.getVTRowIndex(d);n&&t>0?m=u[t-1]:r&&t<u.length-1&&(m=u[t+1])}else m=u[0];if(m){const t={$table:e,row:m,rowIndex:e.getRowIndex(m),$rowIndex:e.getVMRowIndex(m)};e.scrollToRow(m).then((()=>e.triggerCurrentRowEvent(i,t)))}},moveSelected(t,l,n,r,a,i){const{afterFullData:s,visibleColumn:c}=o,d=Object.assign({},t),u=e.getVTRowIndex(d.row),p=e.getVTColumnIndex(d.column);i.preventDefault(),n&&u>0?(d.rowIndex=u-1,d.row=s[d.rowIndex]):a&&u<s.length-1?(d.rowIndex=u+1,d.row=s[d.rowIndex]):l&&p?(d.columnIndex=p-1,d.column=c[d.columnIndex]):r&&p<c.length-1&&(d.columnIndex=p+1,d.column=c[d.columnIndex]),e.scrollToRow(d.row,d.column).then((()=>{d.cell=e.getCell(d.row,d.column),e.handleSelected(d,i)}))},triggerHeaderCellMousedownEvent(l,o){const{mouseConfig:n}=t,r=s.value;if(n&&r.area&&e.handleHeaderCellAreaEvent){const t=l.currentTarget,n=se(l,t,"vxe-cell--sort").flag,r=se(l,t,"vxe-cell--filter").flag;e.handleHeaderCellAreaEvent(l,Object.assign({cell:t,triggerSort:n,triggerFilter:r},o))}e.focus(),e.closeMenu&&e.closeMenu()},triggerCellMousedownEvent(l,o){const n=l.currentTarget;o.cell=n,((l,o)=>{const{editConfig:n,checkboxConfig:a,mouseConfig:c}=t,u=i.value,p=s.value,m=r.value;if(c&&p.area&&e.handleCellAreaEvent)return e.handleCellAreaEvent(l,o);a&&u.range&&d(l,o),c&&p.selected&&(n&&"cell"!==m.mode||e.handleSelected(o,l))})(l,o),e.focus(),e.closeFilter(),e.closeMenu&&e.closeMenu()}}}},Jl={install(){Rt.hooks.add("$tableKeyboard",Kl)}};class Ql{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get message(){return j(this.$options.message)}}const eo=["fullValidate","validate","clearValidate"],to={setupTable(e){const{props:t,reactData:l,internalData:o}=e,{refValidTooltip:n}=e.getRefMaps(),{computeValidOpts:i,computeTreeOpts:s,computeEditOpts:c}=e.getComputeMaps();let d,u={},p={};const f=(l,n,r)=>{const c={},{editRules:f,treeConfig:h}=t,{afterFullData:g}=o,v=s.value,b=i.value;let x;!0===l?x=g:l&&(a.isFunction(l)?n=l:x=a.isArray(l)?l:[l]),x||(x=e.getInsertRecords?e.getInsertRecords().concat(e.getUpdateRecords()):[]);const w=[];if(o._lastCallTime=Date.now(),d=!1,u.clearValidate(),f){const t=e.getColumns(),l=l=>{if(r||!d){const o=[];t.forEach((t=>{!r&&d||!a.has(f,t.property)||o.push(p.validCellRules("all",l,t).catch((({rule:o,rules:n})=>{const a={rule:o,rules:n,rowIndex:e.getRowIndex(l),row:l,columnIndex:e.getColumnIndex(t),column:t,$table:e};if(c[t.property]||(c[t.property]=[]),c[t.property].push(a),!r)return d=!0,Promise.reject(a)})))})),w.push(Promise.all(o))}};return h?a.eachTree(x,l,v):x.forEach(l),Promise.all(w).then((()=>{const e=Object.keys(c);return m().then((()=>{if(e.length)return Promise.reject(c[e[0]][0]);n&&n()}))})).catch((t=>new Promise(((l,o)=>{const r=()=>{m((()=>{n?(n(c),l()):o(c)}))},a=()=>{var l,o;t.cell=e.getCell(t.row,t.column),(l=t.cell)&&(l.scrollIntoViewIfNeeded?l.scrollIntoViewIfNeeded():l.scrollIntoView&&l.scrollIntoView()),(o=t,new Promise((t=>{!1===i.value.autoPos?(e.dispatchEvent("valid-error",o,null),t()):e.handleActived(o,{type:"valid-error",trigger:"call"}).then((()=>{setTimeout((()=>{t(p.showValidTooltip(o))}),10)}))}))).then(r)},s=t.row,d=g.indexOf(s),u=d>0?g[d-1]:s;!1===b.autoPos?r():h?e.scrollToTreeRow(u).then(a):e.scrollToRow(u).then(a)}))))}return m().then((()=>{n&&n()}))};u={fullValidate:(e,t)=>f(e,t,!0),validate:(e,t)=>f(e,t),clearValidate(){const{validStore:e}=l,t=n.value;return Object.assign(e,{visible:!1,row:null,column:null,content:"",rule:null}),t&&t.reactData.visible&&t.close(),m()}};const h=(e,t)=>{const{type:l,min:o,max:n,pattern:r}=e,i="number"===l,s=i?a.toNumber(t):a.getSize(t);return!(!i||!isNaN(t))||(!a.eqNull(o)&&s<a.toNumber(o)||(!a.eqNull(n)&&s>a.toNumber(n)||!(!r||(a.isRegExp(r)?r:new RegExp(r)).test(t))))};return p={validCellRules(l,o,n,r){const{editRules:i}=t,{property:s}=n,c=[],u=[];if(s&&i){const t=a.get(i,s);if(t){const i=a.isUndefined(r)?a.get(o,s):r;t.forEach((r=>{const{type:s,trigger:p,required:m}=r;if("all"===l||!p||l===p)if(a.isFunction(r.validator)){const l=r.validator({cellValue:i,rule:r,rules:t,row:o,rowIndex:e.getRowIndex(o),column:n,columnIndex:e.getColumnIndex(n),$table:e});l&&(a.isError(l)?(d=!0,c.push(new Ql({type:"custom",trigger:p,message:l.message,rule:new Ql(r)}))):l.catch&&u.push(l.catch((e=>{d=!0,c.push(new Ql({type:"custom",trigger:p,message:e&&e.message?e.message:r.message,rule:new Ql(r)}))}))))}else{const e="array"===s?!a.isArray(i)||!i.length:B(i);(m?e||h(r,i):!e&&h(r,i))&&(d=!0,c.push(new Ql(r)))}}))}}return Promise.all(u).then((()=>{if(c.length){const e={rules:c,rule:c[0]};return Promise.reject(e)}}))},hasCellRules(e,l,o){const{editRules:n}=t,{property:r}=o;if(r&&n){const t=a.get(n,r);return t&&!!a.find(t,(t=>"all"===e||!t.trigger||e===t.trigger))}return!1},triggerValidate(e){const{editConfig:o,editRules:n}=t,{editStore:r,validStore:a}=l,{actived:i}=r,s=c.value;if(o&&n&&i.row){const{row:t,column:l,cell:o}=i.args;if(p.hasCellRules(e,t,l))return p.validCellRules(e,t,l).then((()=>{"row"===s.mode&&a.visible&&a.row===t&&a.column===l&&u.clearValidate()})).catch((({rule:n})=>{if(!n.trigger||e===n.trigger){const e={rule:n,row:t,column:l,cell:o};return p.showValidTooltip(e),Promise.reject(e)}return Promise.resolve()}))}return Promise.resolve()},showValidTooltip(o){const{height:r}=t,{tableData:a,validStore:s}=l,c=i.value,{rule:d,row:u,column:p,cell:f}=o,h=n.value,g=d.message;return m().then((()=>{if(Object.assign(s,{row:u,column:p,rule:d,content:g,visible:!0}),e.dispatchEvent("valid-error",o,null),h&&("tooltip"===c.message||"default"===c.message&&!r&&a.length<2))return h.open(f,g)}))}},r(r({},u),p)},setupGrid:e=>e.extendTableMethods(eo)},lo={install(){Rt.hooks.add("$tableValidator",to)}},oo=(e,t)=>{const l=[];return e.forEach((e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some((e=>e.visible))?(l.push(e),l.push(...oo(e.children,e))):l.push(e))})),l};var no=d({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=p("$xetable",{}),{xID:l,props:o,reactData:n,internalData:c}=t,{refElem:d,refTableBody:u,refLeftContainer:f,refRightContainer:h,refCellResizeBar:b}=t.getRefMaps(),x=g([]),w=g(),y=g(),C=g(),S=g(),T=g(),R=g(),O=()=>{const{isGroup:t}=n;x.value=t?(e=>{let t=1;const l=(e,o)=>{if(o&&(e.level=o.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some((e=>e.visible))){let t=0;e.children.forEach((o=>{o.visible&&(l(o,e),t+=o.colSpan)})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,l(e)}));const o=[];for(let n=0;n<t;n++)o.push([]);return oo(e).forEach((e=>{e.children&&e.children.length&&e.children.some((e=>e.visible))?e.rowSpan=1:e.rowSpan=t-e.level+1,o[e.level-1].push(e)})),o})(e.tableGroupColumn):[]},E=(l,o)=>{const{column:n}=o,{fixedType:r}=e,i=u.value,s=f.value,p=h.value,m=b.value,{clientX:g}=l,v=w.value,x=l.target,y=o.cell=x.parentNode;let C=0;const S=i.$el,T=ce(x,v),R=x.clientWidth,O=Math.floor(R/2),E=function(e){const{$table:t,column:l,cell:o}=e,{props:n}=t,{computeResizableOpts:r}=t.getComputeMaps(),i=r.value,{minWidth:s}=i;if(s){const t=a.isFunction(s)?s(e):s;if("auto"!==t)return Math.max(1,a.toNumber(t))}const{showHeaderOverflow:c}=n,{showHeaderOverflow:d,minWidth:u}=l,p=a.isUndefined(d)||a.isNull(d)?c:d,m="title"===p||!0===p||"tooltip"===p||"ellipsis"===p;let f=a.floor(1.6*(a.toNumber(getComputedStyle(o).fontSize)||14))+(he(o)+he(ve(o,"")));if(m){const e=he(ve(o,"--title>.vxe-cell--checkbox")),t=ge(ve(o,">.vxe-cell--required-icon")),l=ge(ve(o,">.vxe-cell--edit-icon")),n=ge(ve(o,">.vxe-cell-help-icon")),r=ge(ve(o,">.vxe-cell--sort"));f+=e+t+l+n+ge(ve(o,">.vxe-cell--filter"))+r}if(u){const{refTableBody:e}=t.getRefMaps(),l=e.value,o=l?l.$el:null;if(o){if(J(u)){const e=(o.clientWidth-1)/100;return Math.max(f,Math.floor(a.toInteger(u)*e))}if(K(u))return Math.max(f,a.toInteger(u))}}return f}(o)-O;let k=T.left-y.clientWidth+R+E,I=T.left+O;const $=document.onmousemove,M=document.onmouseup,D="left"===r,L="right"===r,N=d.value;let F=0;if(D||L){const e=D?"nextElementSibling":"previousElementSibling";let t=y[e];for(;t&&!Q(t,"fixed--hidden");)Q(t,"col--group")||(F+=t.offsetWidth),t=t[e];L&&p&&(I=p.offsetLeft+F)}const P=function(e){e.stopPropagation(),e.preventDefault();const t=e.clientX-g;let l=I+t;const o=r?0:S.scrollLeft;D?l=Math.min(l,(p?p.offsetLeft:S.clientWidth)-F-E):L?(k=(s?s.clientWidth:0)+F+E,l=Math.min(l,I+y.clientWidth-E)):k=Math.max(S.scrollLeft,k),C=Math.max(l,k),m.style.left=C-o+"px"};c._isResize=!0,te(N,"drag--resize"),m.style.display="block",document.onmousemove=P,document.onmouseup=function(e){document.onmousemove=$,document.onmouseup=M,n.resizeWidth=n.renderWidth+(L?I-C:C-I),m.style.display="none",c._isResize=!1,c._lastResizeTime=Date.now(),t.analyColumnWidth(),t.recalculate(!0).then((()=>{t.saveCustomResizable(),t.updateCellAreas(),t.dispatchEvent("resizable-change",o,e)})),ee(N,"drag--resize")},P(l),t.closeMenu&&t.closeMenu()};i((()=>e.tableColumn),O),m((()=>{const{fixedType:l}=e,{internalData:o}=t,{elemStore:n}=o,r=`${l||"main"}-header-`;n[`${r}wrapper`]=w.value,n[`${r}table`]=y.value,n[`${r}colgroup`]=C.value,n[`${r}list`]=S.value,n[`${r}xSpace`]=T.value,n[`${r}repair`]=R.value,O()}));return()=>{let{fixedType:i,fixedColumn:c,tableColumn:d}=e;const{resizable:u,border:p,columnKey:m,headerRowClassName:f,headerCellClassName:h,headerRowStyle:g,headerCellStyle:b,showHeaderOverflow:O,headerAlign:k,align:I,mouseConfig:$}=o,{isGroup:M,currentColumn:D,scrollXLoad:L,overflowX:N,scrollbarWidth:F}=n;let P=x.value;return M||(i&&(L||O)&&(d=c),P=[d]),s("div",{ref:w,class:["vxe-table--header-wrapper",i?`fixed-${i}--wrapper`:"body--wrapper"],xid:l},[i?v():s("div",{ref:T,class:"vxe-body--x-space"}),s("table",{ref:y,class:"vxe-table--header",xid:l,cellspacing:0,cellpadding:0,border:0},[s("colgroup",{ref:C},d.map(((e,t)=>s("col",{name:e.id,key:t}))).concat(F?[s("col",{name:"col_gutter"})]:[])),s("thead",{ref:S},P.map(((e,l)=>s("tr",{class:["vxe-header--row",f?a.isFunction(f)?f({$table:t,$rowIndex:l,fixed:i,type:"header"}):f:""],style:g?a.isFunction(g)?g({$table:t,$rowIndex:l,fixed:i,type:"header"}):g:null},e.map(((o,n)=>{const{type:c,showHeaderOverflow:d,headerAlign:f,align:g,headerClassName:v}=o,x=o.children&&o.children.length,w=i?o.fixed!==i&&!x:!!o.fixed&&N,y=a.isUndefined(d)||a.isNull(d)?O:d,C=f||g||k||I;let S="ellipsis"===y;const T="title"===y,R=!0===y||"tooltip"===y;let M=T||R||S;const F=o.filters&&o.filters.some((e=>e.checked)),P=t.getColumnIndex(o),A=t.getVTColumnIndex(o),V={$table:t,$rowIndex:l,column:o,columnIndex:P,$columnIndex:n,_columnIndex:A,fixed:i,type:"header",isHidden:w,hasFilter:F},H={onClick:e=>t.triggerHeaderCellClickEvent(e,V),onDblclick:e=>t.triggerHeaderCellDblclickEvent(e,V)};return L&&!M&&(S=M=!0),$&&(H.onMousedown=e=>t.triggerHeaderCellMousedownEvent(e,V)),s("th",r(r({class:["vxe-header--column",o.id,{[`col--${C}`]:C,[`col--${c}`]:c,"col--last":n===e.length-1,"col--fixed":o.fixed,"col--group":x,"col--ellipsis":M,"fixed--hidden":w,"is--sortable":o.sortable,"is--filter":!!o.filters,"filter--active":F,"col--current":D===o},v?a.isFunction(v)?v(V):v:"",h?a.isFunction(h)?h(V):h:""],colid:o.id,colspan:o.colSpan>1?o.colSpan:null,rowspan:o.rowSpan>1?o.rowSpan:null,style:b?a.isFunction(b)?b(V):b:null},H),{key:m||x?o.id:n}),[s("div",{class:["vxe-cell",{"c--title":T,"c--tooltip":R,"c--ellipsis":S}]},o.renderHeader(V)),w||x||!(a.isBoolean(o.resizable)?o.resizable:u)?null:s("div",{class:["vxe-resizable",{"is--line":!p||"none"===p}],onMousedown:e=>E(e,V)})])})).concat(F?[s("th",{class:"vxe-header--gutter col--gutter"})]:[])))))]),s("div",{ref:R,class:"vxe-table--header-border-line"})])}}});const ro=Object.assign(no,{install(e){Dt.component(no.name,no),e.component(no.name,no)}});var ao=d({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=p("$xetable",{}),{xID:l,props:o,reactData:n,internalData:i}=t,{refTableHeader:c,refTableBody:d,refValidTooltip:u}=t.getRefMaps(),{computeTooltipOpts:f}=t.getComputeMaps(),h=g(),b=g(),x=g(),w=g(),y=g(),C=l=>{const{fixedType:o}=e,{scrollXLoad:r}=n,{lastScrollLeft:a}=i,s=u.value,p=c.value,m=d.value,f=p?p.$el:null,g=h.value,v=m.$el,b=g.scrollLeft,x=b!==a;i.lastScrollLeft=b,i.lastScrollTime=Date.now(),f&&(f.scrollLeft=b),v&&(v.scrollLeft=b),r&&x&&t.triggerScrollXEvent(l),x&&s&&s.reactData.visible&&s.updatePlacement(),t.dispatchEvent("scroll",{type:"footer",fixed:o,scrollTop:v.scrollTop,scrollLeft:b,isX:x,isY:!1},l)};m((()=>{const{fixedType:t}=e,{elemStore:l}=i,o=`${t||"main"}-footer-`;l[`${o}wrapper`]=h.value,l[`${o}table`]=b.value,l[`${o}colgroup`]=x.value,l[`${o}list`]=w.value,l[`${o}xSpace`]=y.value}));return()=>{let{fixedType:i,fixedColumn:c,tableColumn:d,footerTableData:u}=e;const{footerRowClassName:p,footerCellClassName:m,footerRowStyle:g,footerCellStyle:S,footerAlign:T,footerSpanMethod:R,align:O,columnKey:E,showFooterOverflow:k}=o,{scrollXLoad:I,overflowX:$,scrollbarWidth:M,currentColumn:D,mergeFooterList:L}=n,N=f.value;return i&&(L.length&&R||!I&&!k||(d=c)),s("div",{ref:h,class:["vxe-table--footer-wrapper",i?`fixed-${i}--wrapper`:"body--wrapper"],xid:l,onScroll:C},[i?v():s("div",{ref:y,class:"vxe-body--x-space"}),s("table",{ref:b,class:"vxe-table--footer",xid:l,cellspacing:0,cellpadding:0,border:0},[s("colgroup",{ref:x},d.map(((e,t)=>s("col",{name:e.id,key:t}))).concat(M?[s("col",{name:"col_gutter"})]:[])),s("tfoot",{ref:w},u.map(((e,l)=>{const o=l;return s("tr",{class:["vxe-footer--row",p?a.isFunction(p)?p({$table:t,_rowIndex:l,$rowIndex:o,fixed:i,type:"footer"}):p:""],style:g?a.isFunction(g)?g({$table:t,_rowIndex:l,$rowIndex:o,fixed:i,type:"footer"}):g:null},d.map(((n,c)=>{const{type:p,showFooterOverflow:f,footerAlign:h,align:g,footerClassName:v}=n,b=N.showAll,x=n.children&&n.children.length,w=i?n.fixed!==i&&!x:n.fixed&&$,y=a.isUndefined(f)||a.isNull(f)?k:f,C=h||g||T||O;let M="ellipsis"===y;const F="title"===y,P=!0===y||"tooltip"===y;let A=F||P||M;const V={colid:n.id},H={},_=t.getColumnIndex(n),j=t.getVTColumnIndex(n),z={$table:t,_rowIndex:l,$rowIndex:o,column:n,columnIndex:_,$columnIndex:c,_columnIndex:j,itemIndex:j,items:e,fixed:i,type:"footer",data:u};if(I&&!A&&(M=A=!0),(F||P||b)&&(H.onMouseenter=e=>{F?ie(e.currentTarget,n):(P||b)&&t.triggerFooterTooltipEvent(e,z)}),(P||b)&&(H.onMouseleave=e=>{(P||b)&&t.handleTargetLeaveEvent(e)}),H.onClick=e=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},z),e)},H.onDblclick=e=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},z),e)},L.length){const e=function(e,t,l){for(let o=0;o<e.length;o++){const{row:n,col:r,rowspan:a,colspan:i}=e[o];if(r>-1&&n>-1&&a&&i){if(n===t&&r===l)return{rowspan:a,colspan:i};if(t>=n&&t<n+a&&l>=r&&l<r+i)return{rowspan:0,colspan:0}}}}(L,l,j);if(e){const{rowspan:t,colspan:l}=e;if(!t||!l)return null;t>1&&(V.rowspan=t),l>1&&(V.colspan=l)}}else if(R){const{rowspan:e=1,colspan:t=1}=R(z)||{};if(!e||!t)return null;e>1&&(V.rowspan=e),t>1&&(V.colspan=t)}return s("td",r(r(r(r({class:["vxe-footer--column",n.id,{[`col--${C}`]:C,[`col--${p}`]:p,"col--last":c===d.length-1,"fixed--hidden":w,"col--ellipsis":A,"col--current":D===n},ye(v,z),ye(m,z)]},V),{style:S?a.isFunction(S)?S(z):S:null}),H),{key:E?n.id:c}),[s("div",{class:["vxe-cell",{"c--title":F,"c--tooltip":P,"c--ellipsis":M}]},n.renderFooter(z))])})).concat(M?[s("td",{class:"vxe-footer--gutter col--gutter"})]:[]))})))])])}}});const io=Object.assign(ao,{install(e){Dt.component(ao.name,ao),e.component(ao.name,ao)}});function so(e,t){const{$table:l,column:o}=e,{props:n,internalData:i}=l,{computeTooltipOpts:c}=l.getComputeMaps(),{showHeaderOverflow:d}=n,{type:u,showHeaderOverflow:p}=o,m=c.value.showAll,f=a.isUndefined(p)||a.isNull(p)?d:p,h="title"===f,g=!0===f||"tooltip"===f,v={};return(h||g||m)&&(v.onMouseenter=t=>{i._isResize||(h?ie(t.currentTarget,o):(g||m)&&l.triggerHeaderTooltipEvent(t,e))}),(g||m)&&(v.onMouseleave=e=>{i._isResize||(g||m)&&l.handleTargetLeaveEvent(e)}),["html"===u&&a.isString(t)?s("span",r({class:"vxe-cell--title",innerHTML:t},v)):s("span",r({class:"vxe-cell--title"},v),t)]}function co(e){const{$table:t,column:l,_columnIndex:o,items:n}=e,{slots:r,editRender:a,cellRender:i}=l,s=a||i,c=r?r.footer:null;if(c)return t.callSlot(c,e);if(s){const t=Rt.renderer.get(s.name);if(t&&t.renderFooter)return t.renderFooter(s,e)}return[z(n[o],1)]}function uo(e){const{$table:t,row:l,column:o}=e;return z(t.getCellLabel(l,o),1)}const po={createColumn(e,t){const{type:l,sortable:o,filters:n,editRender:r,treeNode:a}=t,{props:i}=e,{editConfig:s}=i,{computeEditOpts:c,computeCheckboxOpts:d}=e.getComputeMaps(),u=d.value,p=c.value,m={renderHeader:po.renderDefaultHeader,renderCell:a?po.renderTreeCell:po.renderDefaultCell,renderFooter:po.renderDefaultFooter};switch(l){case"seq":m.renderHeader=po.renderIndexHeader,m.renderCell=a?po.renderTreeIndexCell:po.renderIndexCell;break;case"radio":m.renderHeader=po.renderRadioHeader,m.renderCell=a?po.renderTreeRadioCell:po.renderRadioCell;break;case"checkbox":m.renderHeader=po.renderSelectionHeader,m.renderCell=u.checkField?a?po.renderTreeSelectionCellByProp:po.renderSelectionCellByProp:a?po.renderTreeSelectionCell:po.renderSelectionCell;break;case"expand":m.renderCell=po.renderExpandCell,m.renderData=po.renderExpandData;break;case"html":m.renderCell=a?po.renderTreeHTMLCell:po.renderHTMLCell,n&&o?m.renderHeader=po.renderSortAndFilterHeader:o?m.renderHeader=po.renderSortHeader:n&&(m.renderHeader=po.renderFilterHeader);break;default:s&&r?(m.renderHeader=po.renderEditHeader,m.renderCell="cell"===p.mode?a?po.renderTreeCellEdit:po.renderCellEdit:a?po.renderTreeRowEdit:po.renderRowEdit):n&&o?m.renderHeader=po.renderSortAndFilterHeader:o?m.renderHeader=po.renderSortHeader:n&&(m.renderHeader=po.renderFilterHeader)}return function(e,t,l){return Ce(t)?t:new Y(e,t,l)}(e,t,m)},renderHeaderTitle(e){const{$table:t,column:l}=e,{slots:o,editRender:n,cellRender:r}=l,a=n||r,i=o?o.header:null;if(i)return so(e,t.callSlot(i,e));if(a){const t=Rt.renderer.get(a.name);if(t&&t.renderHeader)return so(e,t.renderHeader(a,e))}return so(e,z(l.getTitle(),1))},renderDefaultHeader:e=>function(e){const{$table:t,column:l}=e,{titleHelp:o}=l;return o?[s("i",{class:["vxe-cell-help-icon",o.icon||E.icon.TABLE_HELP],onMouseenter(l){t.triggerHeaderHelpEvent(l,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}})]:[]}(e).concat(po.renderHeaderTitle(e)),renderDefaultCell(e){const{$table:t,row:l,column:o}=e,{slots:n,editRender:r,cellRender:a}=o,i=r||a,c=n?n.default:null;if(c)return t.callSlot(c,e);if(i){const t=r?"renderCell":"renderDefault",l=Rt.renderer.get(i.name),o=l?l[t]:null;if(o)return o(i,Object.assign({$type:r?"edit":"cell"},e))}const d=t.getCellLabel(l,o),u=r?r.placeholder:"";return[s("span",{class:"vxe-cell--label"},r&&B(d)?[s("span",{class:"vxe-cell--placeholder"},z(j(u),1))]:z(d,1))]},renderTreeCell:e=>po.renderTreeIcon(e,po.renderDefaultCell(e)),renderDefaultFooter:e=>[s("span",{class:"vxe-cell--item"},co(e))],renderTreeIcon(e,t){const{$table:l,isHidden:o}=e,{reactData:n}=l,{computeTreeOpts:a}=l.getComputeMaps(),{treeExpandeds:i,treeLazyLoadeds:c}=n,d=a.value,{row:u,column:p,level:m}=e,{slots:f}=p,{children:h,hasChild:g,indent:v,lazy:b,trigger:x,iconLoaded:w,showIcon:y,iconOpen:C,iconClose:S}=d,T=u[h],R=f?f.icon:null;let O=!1,k=!1,I=!1;const $={};return R?l.callSlot(R,e):(o||(k=i.indexOf(u)>-1,b&&(I=c.indexOf(u)>-1,O=u[g])),x&&"default"!==x||($.onClick=t=>l.triggerTreeExpandEvent(t,e)),[s("div",{class:["vxe-cell--tree-node",{"is--active":k}],style:{paddingLeft:m*v+"px"}},[y&&(T&&T.length||O)?[s("div",r({class:"vxe-tree--btn-wrapper"},$),[s("i",{class:["vxe-tree--node-btn",I?w||E.icon.TABLE_TREE_LOADED:k?C||E.icon.TABLE_TREE_OPEN:S||E.icon.TABLE_TREE_CLOSE]})])]:null,s("div",{class:"vxe-tree-cell"},t)])])},renderIndexHeader(e){const{$table:t,column:l}=e,{slots:o}=l,n=o?o.header:null;return so(e,n?t.callSlot(n,e):z(l.getTitle(),1))},renderIndexCell(e){const{$table:t,column:l}=e,{computeSeqOpts:o}=t.getComputeMaps(),n=o.value,{slots:r}=l,a=r?r.default:null;if(a)return t.callSlot(a,e);const{$seq:i,seq:s,level:c}=e,d=n.seqMethod;return[z(d?d(e):c?`${i}.${s}`:(n.startIndex||0)+s,1)]},renderTreeIndexCell:e=>po.renderTreeIcon(e,po.renderIndexCell(e)),renderRadioHeader(e){const{$table:t,column:l}=e,{slots:o}=l,n=o?o.header:null,r=o?o.title:null;return so(e,n?t.callSlot(n,e):[s("span",{class:"vxe-radio--label"},r?t.callSlot(r,e):z(l.getTitle(),1))])},renderRadioCell(e){const{$table:t,column:l,isHidden:o}=e,{reactData:n}=t,{computeRadioOpts:i}=t.getComputeMaps(),{selectRow:c}=n,d=i.value,{slots:u}=l,{labelField:p,checkMethod:m}=d,{row:f}=e,h=u?u.default:null,g=u?u.radio:null,v=f===c;let b,x=!!m;o||(b={onClick(l){x||t.triggerRadioRowEvent(l,e)}},m&&(x=!m({row:f})));const w=r(r({},e),{checked:v,disabled:x});return g?t.callSlot(g,w):[s("span",r({class:["vxe-cell--radio",{"is--checked":v,"is--disabled":x}]},b),[s("span",{class:"vxe-radio--icon vxe-radio--checked-icon"}),s("span",{class:"vxe-radio--icon vxe-radio--unchecked-icon"})].concat(h||p?[s("span",{class:"vxe-radio--label"},h?t.callSlot(h,w):a.get(f,p))]:[]))]},renderTreeRadioCell:e=>po.renderTreeIcon(e,po.renderRadioCell(e)),renderSelectionHeader(e){const{$table:t,column:l,isHidden:o}=e,{reactData:n}=t,{computeIsAllCheckboxDisabled:a,computeCheckboxOpts:i}=t.getComputeMaps(),{isIndeterminate:c,isAllSelected:d}=n,u=a.value,{slots:p}=l,m=p?p.header:null,f=p?p.title:null,h=i.value,g=l.getTitle();let v,b=!1;o||(b=!u&&d,v={onClick(e){u||t.triggerCheckAllEvent(e,!b)}});const x=r(r({},e),{checked:b,disabled:u,indeterminate:c});return m?so(x,t.callSlot(m,x)):(h.checkStrictly?h.showHeader:!1!==h.showHeader)?so(x,[s("span",r({class:["vxe-cell--checkbox",{"is--checked":b,"is--disabled":u,"is--indeterminate":c}],title:E.i18n("vxe.table.allTitle")},v),[s("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})].concat(f||g?[s("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,x):g)]:[]))]):so(x,[s("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,x):g)])},renderSelectionCell(e){const{$table:t,row:l,column:o,isHidden:n}=e,{props:i,reactData:c}=t,{treeConfig:d}=i,{selection:u,treeIndeterminates:p}=c,{computeCheckboxOpts:m}=t.getComputeMaps(),f=m.value,{labelField:h,checkMethod:g}=f,{slots:v}=o,b=v?v.default:null,x=v?v.checkbox:null;let w,y=!1,C=!1,S=!!g;n||(C=u.indexOf(l)>-1,w={onClick(l){S||t.triggerCheckRowEvent(l,e,!C)}},g&&(S=!g({row:l})),d&&(y=p.indexOf(l)>-1));const T=r(r({},e),{checked:C,disabled:S,indeterminate:y});return x?t.callSlot(x,T):[s("span",r({class:["vxe-cell--checkbox",{"is--checked":C,"is--disabled":S,"is--indeterminate":y}]},w),[s("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})].concat(b||h?[s("span",{class:"vxe-checkbox--label"},b?t.callSlot(b,T):a.get(l,h))]:[]))]},renderTreeSelectionCell:e=>po.renderTreeIcon(e,po.renderSelectionCell(e)),renderSelectionCellByProp(e){const{$table:t,row:l,column:o,isHidden:n}=e,{props:i,reactData:c}=t,{treeConfig:d}=i,{treeIndeterminates:u}=c,{computeCheckboxOpts:p}=t.getComputeMaps(),m=p.value,{labelField:f,checkField:h,halfField:g,checkMethod:v}=m,{slots:b}=o,x=b?b.default:null,w=b?b.checkbox:null;let y,C=!1,S=!1,T=!!v;n||(S=a.get(l,h),y={onClick(l){T||t.triggerCheckRowEvent(l,e,!S)}},v&&(T=!v({row:l})),d&&(C=u.indexOf(l)>-1));const R=r(r({},e),{checked:S,disabled:T,indeterminate:C});return w?t.callSlot(w,R):[s("span",r({class:["vxe-cell--checkbox",{"is--checked":S,"is--disabled":T,"is--indeterminate":g&&!S?l[g]:C}]},y),[s("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})].concat(x||f?[s("span",{class:"vxe-checkbox--label"},x?t.callSlot(x,R):a.get(l,f))]:[]))]},renderTreeSelectionCellByProp:e=>po.renderTreeIcon(e,po.renderSelectionCellByProp(e)),renderExpandCell(e){const{$table:t,isHidden:l,row:o,column:n}=e,{reactData:r}=t,{rowExpandeds:i,expandLazyLoadeds:c}=r,{computeExpandOpts:d}=t.getComputeMaps(),u=d.value,{lazy:p,labelField:m,iconLoaded:f,showIcon:h,iconOpen:g,iconClose:v,visibleMethod:b}=u,{slots:x}=n,w=x?x.default:null,y=x?x.icon:null;let C=!1,S=!1;return y?t.callSlot(y,e):(l||(C=i.indexOf(e.row)>-1,p&&(S=c.indexOf(o)>-1)),[!h||b&&!b(e)?null:s("span",{class:["vxe-table--expanded",{"is--active":C}],onClick(l){t.triggerRowExpandEvent(l,e)}},[s("i",{class:["vxe-table--expand-btn",S?f||E.icon.TABLE_EXPAND_LOADED:C?g||E.icon.TABLE_EXPAND_OPEN:v||E.icon.TABLE_EXPAND_CLOSE]})]),w||m?s("span",{class:"vxe-table--expand-label"},w?t.callSlot(w,e):a.get(o,m)):null])},renderExpandData(e){const{$table:t,column:l}=e,{slots:o,contentRender:n}=l,r=o?o.content:null;if(r)return t.callSlot(r,e);if(n){const t=Rt.renderer.get(n.name);if(t&&t.renderExpand)return t.renderExpand(n,e)}return[]},renderHTMLCell(e){const{$table:t,column:l}=e,{slots:o}=l,n=o?o.default:null;return n?t.callSlot(n,e):[s("span",{class:"vxe-cell--html",innerHTML:uo(e)})]},renderTreeHTMLCell:e=>po.renderTreeIcon(e,po.renderHTMLCell(e)),renderSortAndFilterHeader:e=>po.renderDefaultHeader(e).concat(po.renderSortIcon(e)).concat(po.renderFilterIcon(e)),renderSortHeader:e=>po.renderDefaultHeader(e).concat(po.renderSortIcon(e)),renderSortIcon(e){const{$table:t,column:l}=e,{computeSortOpts:o}=t.getComputeMaps(),n=o.value,{showIcon:r,iconAsc:a,iconDesc:i}=n,{order:c}=l;return r?[s("span",{class:"vxe-cell--sort"},[s("i",{class:["vxe-sort--asc-btn",a||E.icon.TABLE_SORT_ASC,{"sort--active":"asc"===c}],title:E.i18n("vxe.table.sortAsc"),onClick(e){t.triggerSortEvent(e,l,"asc")}}),s("i",{class:["vxe-sort--desc-btn",i||E.icon.TABLE_SORT_DESC,{"sort--active":"desc"===c}],title:E.i18n("vxe.table.sortDesc"),onClick(e){t.triggerSortEvent(e,l,"desc")}})])]:[]},renderFilterHeader:e=>po.renderDefaultHeader(e).concat(po.renderFilterIcon(e)),renderFilterIcon(e){const{$table:t,column:l,hasFilter:o}=e,{reactData:n}=t,{filterStore:r}=n,{computeFilterOpts:a}=t.getComputeMaps(),i=a.value,{showIcon:c,iconNone:d,iconMatch:u}=i;return c?[s("span",{class:["vxe-cell--filter",{"is--active":r.visible&&r.column===l}]},[s("i",{class:["vxe-filter--btn",o?u||E.icon.TABLE_FILTER_MATCH:d||E.icon.TABLE_FILTER_NONE],title:E.i18n("vxe.table.filter"),onClick(l){t.triggerFilterEvent(l,e.column,e)}})])]:[]},renderEditHeader(e){const{$table:t,column:l}=e,{props:o}=t,{computeEditOpts:n}=t.getComputeMaps(),{editRules:r}=o,i=n.value,{sortable:c,filters:d,editRender:u}=l;let p;if(r){const t=a.get(r,e.column.property);t&&(p=t.some((e=>e.required)))}return[p&&i.showAsterisk?s("i",{class:"vxe-cell--required-icon"}):null,D(u)&&i.showIcon?s("i",{class:["vxe-cell--edit-icon",i.icon||E.icon.TABLE_EDIT]}):null].concat(po.renderDefaultHeader(e)).concat(c?po.renderSortIcon(e):[]).concat(d?po.renderFilterIcon(e):[])},renderRowEdit(e){const{$table:t,column:l}=e,{reactData:o}=t,{editStore:n}=o,{actived:r}=n,{editRender:a}=l;return po.runRenderer(e,D(a)&&r&&r.row===e.row)},renderTreeRowEdit:e=>po.renderTreeIcon(e,po.renderRowEdit(e)),renderCellEdit(e){const{$table:t,column:l}=e,{reactData:o}=t,{editStore:n}=o,{actived:r}=n,{editRender:a}=l;return po.runRenderer(e,D(a)&&r&&r.row===e.row&&r.column===e.column)},renderTreeCellEdit:e=>po.renderTreeIcon(e,po.renderCellEdit(e)),runRenderer(e,t){const{$table:l,column:o}=e,{slots:n,editRender:r,formatter:a}=o,i=n?n.default:null,c=n?n.edit:null,d=Rt.renderer.get(r.name);return t?c?l.callSlot(c,e):d&&d.renderEdit?d.renderEdit(r,Object.assign({$type:"edit"},e)):[]:i?l.callSlot(i,e):a?[s("span",{class:"vxe-cell--label"},uo(e))]:po.renderDefaultCell(e)}},mo={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},exportMethod:Function,footerExportMethod:Function,titleHelp:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object};var fo=d({name:"VxeColumn",props:mo,setup(e,{slots:t}){const l=g(),o=p("$xetable",{}),n=p("xecolgroup",null),r=po.createColumn(o,e);r.slots=t,x("$xegrid",null),Se(e,r),C((()=>{Te(o,l.value,r,n)})),y((()=>{Re(o,r)}));return()=>s("div",{ref:l})}});const ho=Object.assign(fo,{install(e){Dt.component(fo.name,fo),e.component(fo.name,fo),Dt.component("VxeTableColumn",fo),e.component("VxeTableColumn",fo)}});var go=d({name:"VxeColgroup",props:mo,setup(e,{slots:t}){const l=g(),o=p("$xetable",{}),n=p("xecolgroup",null),r=po.createColumn(o,e),a={column:r};r.children=[],x("xecolgroup",a),x("$xegrid",null),Se(e,r),C((()=>{Te(o,l.value,r,n)})),y((()=>{Re(o,r)}));return()=>s("div",{ref:l},t.default?t.default():[])}});const vo=Object.assign(go,{install(e){Dt.component(go.name,go),e.component(go.name,go),Dt.component("VxeTableColgroup",go),e.component("VxeTableColgroup",go)}});var bo={id:String,data:Array,height:[Number,String],maxHeight:[Number,String],resizable:{type:Boolean,default:()=>E.table.resizable},stripe:{type:Boolean,default:()=>E.table.stripe},border:{type:[Boolean,String],default:()=>E.table.border},round:{type:Boolean,default:()=>E.table.round},size:{type:String,default:()=>E.table.size||E.size},fit:{type:Boolean,default:()=>E.table.fit},loading:Boolean,align:{type:String,default:()=>E.table.align},headerAlign:{type:String,default:()=>E.table.headerAlign},footerAlign:{type:String,default:()=>E.table.footerAlign},showHeader:{type:Boolean,default:()=>E.table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>E.table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>E.table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>E.table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>E.table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerMethod:{type:Function,default:E.table.footerMethod},rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>E.table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>E.table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>E.table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>E.table.rowId},zIndex:Number,emptyText:{type:String,default:()=>E.table.emptyText},keepSource:{type:Boolean,default:()=>E.table.keepSource},autoResize:{type:Boolean,default:()=>E.table.autoResize},syncResize:[Boolean,String,Number],columnConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>E.table.animat},delayHover:{type:Number,default:()=>E.table.delayHover},params:Object},xo=["update:data","keydown","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","sort-change","filter-change","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-disabled","valid-error","scroll","custom","open-fnr","change-fnr","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","header-cell-area-selection","cell-area-selection-start","cell-area-selection-end","cell-area-extension-start","cell-area-extension-end"];const wo=Object.keys(bo),yo=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getRowById","getRowid","getTableData","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isRowExpandLoaded","clearRowExpandLoaded","reloadExpandContent","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","focus","blur","connect"],Co=[...xo,"page-change","form-submit","form-submit-invalid","form-reset","form-toggle-collapse","toolbar-button-click","toolbar-tool-click","zoom"];var So=d({name:"VxeGrid",props:r(r({},bo),{columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>E.grid.size||E.size}}),emits:Co,setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),d=S(),p=il(e),h=f({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],pendingRecords:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:10,currentPage:1}}),v=g(),b=g(),w=g(),C=g(),T=g(),R=g(),O=g(),k=g(),I=g(),$=g(),M=e=>{const t={};return e.forEach((e=>{t[e]=(...t)=>{const l=b.value;return l&&l[e](...t)}})),t},L=M(yo);yo.forEach((e=>{L[e]=(...t)=>{const l=b.value;return l&&l[e](...t)}}));const N=u((()=>Object.assign({},E.grid.proxyConfig,e.proxyConfig))),A=u((()=>!1!==N.value.message)),H=u((()=>Object.assign({},E.grid.pagerConfig,e.pagerConfig))),_=u((()=>Object.assign({},E.grid.formConfig,e.formConfig))),j=u((()=>Object.assign({},E.grid.toolbarConfig,e.toolbarConfig))),z=u((()=>Object.assign({},E.grid.zoomConfig,e.zoomConfig))),B=u((()=>h.isZMax?{zIndex:h.tZindex}:null)),W=u((()=>{const t={},l=e;return wo.forEach((e=>{t[e]=l[e]})),t})),q={refElem:v,refTable:b,refForm:w,refToolbar:C,refPager:T},Y={computeProxyOpts:N,computePagerOpts:H,computeFormOpts:_,computeToolbarOpts:j,computeZoomOpts:z},U={xID:n,props:e,context:t,instance:d,reactData:h,getRefMaps:()=>q,getComputeMaps:()=>Y};let G={};const X=t=>{const{pendingRecords:l}=h,o=e.rowClassName,n=[];return l.some((e=>e===t.row))&&n.push("row--pending"),n.push(o?a.isFunction(o)?o(t):o:""),n},Z=t=>{const{editConfig:l}=e,{pendingRecords:o}=h,n=b.value,r=l?l.activeMethod:null;return-1===n.findRowIndexOf(o,t.row)&&(!r||r(t))},K=u((()=>{const{seqConfig:t,pagerConfig:l,loading:o,editConfig:n,proxyConfig:r}=e,{isZMax:a,tableLoading:i,tablePage:s,tableData:c}=h,d=W.value,u=N.value,p=Object.assign({},d);return a&&(d.maxHeight?p.maxHeight="auto":p.height="auto"),r&&(p.loading=o||i,p.data=c,p.rowClassName=X,u.seq&&D(l)&&(p.seqConfig=Object.assign({},t,{startIndex:(s.currentPage-1)*s.pageSize}))),n&&(p.editConfig=Object.assign({},n,{activeMethod:Z})),p})),J=()=>{m((()=>{const e=b.value,t=C.value;e&&t&&e.connect(t)}))},Q=()=>{const{pagerConfig:t}=e,{tablePage:l}=h,o=H.value,{currentPage:n,pageSize:r}=o;t&&(n&&(l.currentPage=n),r&&(l.pageSize=r))},ee=(e,t)=>{const l=N.value,{props:o={}}=l;let n;return e&&o.message&&(n=a.get(e,o.message)),n||E.i18n(t)},te=(e,t,l)=>{const o=A.value,n=L.getCheckboxRecords();if(o){if(n.length)return Rt.modal.confirm({id:`cfm_${e}`,content:E.i18n(t),escClosable:!0}).then((e=>{"confirm"===e&&l()}));Rt.modal.message({id:`msg_${e}`,content:E.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else n.length&&l();return Promise.resolve()},re=t=>{const{proxyConfig:l}=e,{tablePage:o}=h,{currentPage:n,pageSize:r}=t;o.currentPage=n,o.pageSize=r,G.dispatchEvent("page-change",t),l&&G.commitProxy("query")},ae=t=>{const l=b.value,{proxyConfig:o}=e,{computeSortOpts:n}=l.getComputeMaps();n.value.remote&&(h.sortData=t.sortList,o&&(h.tablePage.currentPage=1,G.commitProxy("query"))),G.dispatchEvent("sort-change",t)},ie=t=>{const l=b.value,{proxyConfig:o}=e,{computeFilterOpts:n}=l.getComputeMaps();n.value.remote&&(h.filterData=t.filterList,o&&(h.tablePage.currentPage=1,G.commitProxy("query"))),G.dispatchEvent("filter-change",t)},se=t=>{const{proxyConfig:l}=e;l&&G.commitProxy("reload"),G.dispatchEvent("form-submit",t)},ce=t=>{const{proxyConfig:l}=e;l&&G.commitProxy("reload"),G.dispatchEvent("form-reset",t)},de=e=>{G.dispatchEvent("form-submit-invalid",e)},ue=e=>{m((()=>L.recalculate(!0))),G.dispatchEvent("form-toggle-collapse",e)},pe=e=>{const{isZMax:t}=h;return(e?!t:t)&&(h.isZMax=!t,h.tZindex<P()&&(h.tZindex=F())),m().then((()=>L.recalculate(!0))).then((()=>h.isZMax))},me=(e,t)=>{const o=e[t];if(o){if(!a.isString(o))return o;if(l[o])return l[o]}return null},fe={};xo.forEach((e=>{const t=a.camelCase(`on-${e}`);fe[t]=(...t)=>o(e,...t)}));const he=()=>{const{proxyConfig:t,formConfig:l}=e,{proxyInited:o}=h,n=N.value,r=_.value;if(t){if(D(l)&&n.form&&r.items){const e={};r.items.forEach((({field:t,itemRender:l})=>{t&&(e[t]=l&&!a.isUndefined(l.defaultValue)?l.defaultValue:void 0)})),h.formData=e}o||!1===n.autoLoad||(h.proxyInited=!0,m((()=>G.commitProxy("_init"))))}};G={dispatchEvent(e,t,l){o(e,Object.assign({$grid:U,$event:l},t))},commitProxy(t,...l){const{toolbarConfig:o,pagerConfig:n}=e,{tablePage:i,formData:s}=h,c=A.value,d=N.value,u=j.value,{beforeQuery:p,afterQuery:f,beforeDelete:g,afterDelete:v,beforeSave:x,afterSave:w,ajax:y={},props:C={}}=d,S=b.value;let T=null,R=null;if(a.isString(t)){const{buttons:e}=u,l=o&&e?a.findTree(e,(e=>e.code===t),{children:"dropdowns"}):null;T=l?l.item:null,R=t}else T=t,R=T.code;const O=T?T.params:null;switch(R){case"insert":S.insert({});break;case"insert_actived":S.insert({}).then((({row:e})=>S.setActiveRow(e)));break;case"mark_cancel":(e=>{const{pendingRecords:t}=h,l=A.value,o=b.value,n=o.getCheckboxRecords();if(n.length){const e=[],l=[];n.forEach((o=>{t.some((e=>o===e))?l.push(o):e.push(o)})),l.length?h.pendingRecords=t.filter((e=>-1===o.findRowIndexOf(l,e))).concat(e):e.length&&(h.pendingRecords=t.concat(e)),L.clearCheckboxRow()}else l&&Rt.modal.message({id:e,content:E.i18n("vxe.grid.selectOneRecord"),status:"warning"})})(R);break;case"remove":return te(R,"vxe.grid.removeSelectRecord",(()=>S.removeCheckboxRow()));case"import":S.importData(O);break;case"open_import":S.openImport(O);break;case"export":S.exportData(O);break;case"open_export":S.openExport(O);break;case"reset_custom":S.resetColumn(!0);break;case"_init":case"reload":case"query":{const e=y.query;if(e){const t="_init"===R,o="reload"===R;let c=[],d=[],u={};if(n&&((t||o)&&(i.currentPage=1),D(n)&&(u=r({},i))),t){const{computeSortOpts:e}=S.getComputeMaps();let t=e.value.defaultSort;t&&(a.isArray(t)||(t=[t]),c=t.map((e=>({property:e.field,order:e.order})))),d=S.getCheckedFilters()}else o?(h.pendingRecords=[],S.clearAll()):(c=S.getSortColumns(),d=S.getCheckedFilters());const m={code:R,button:T,$grid:U,page:u,sort:c.length?c[0]:{},sorts:c,filters:d,form:s,options:e};h.sortData=c,h.filterData=d,h.tableLoading=!0;const g=[m].concat(l);return Promise.resolve((p||e)(...g)).catch((e=>e)).then((e=>{if(h.tableLoading=!1,e)if(D(n)){const t=a.get(e,C.total||"page.total")||0;i.total=t,h.tableData=a.get(e,C.result||"result")||[];const l=Math.max(Math.ceil(t/i.pageSize),1);i.currentPage>l&&(i.currentPage=l)}else h.tableData=(C.list?a.get(e,C.list):e)||[];else h.tableData=[];f&&f(...g)}))}V("vxe.error.notFunc",["query"]);break}case"delete":{const e=y.delete;if(e){const t=L.getCheckboxRecords(),o=[{$grid:U,code:R,button:T,body:{removeRecords:t},options:e}].concat(l);if(t.length)return te(R,"vxe.grid.deleteSelectRecord",(()=>(h.tableLoading=!0,Promise.resolve((g||e)(...o)).then((e=>{h.tableLoading=!1,h.pendingRecords=h.pendingRecords.filter((e=>-1===S.findRowIndexOf(t,e))),c&&Rt.modal.message({content:ee(e,"vxe.grid.delSuccess"),status:"success"}),v?v(...o):G.commitProxy("query")})).catch((e=>{h.tableLoading=!1,c&&Rt.modal.message({id:R,content:ee(e,"vxe.grid.operError"),status:"error"})})))));c&&Rt.modal.message({id:R,content:E.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else V("vxe.error.notFunc",[R]);break}case"save":{const e=y.save;if(e){const t=Object.assign({pendingRecords:h.pendingRecords},S.getRecordset()),{insertRecords:o,removeRecords:n,updateRecords:r,pendingRecords:a}=t,i=[{$grid:U,code:R,button:T,body:t,options:e}].concat(l);return o.length&&(t.pendingRecords=a.filter((e=>-1===S.findRowIndexOf(o,e)))),a.length&&(t.insertRecords=o.filter((e=>-1===S.findRowIndexOf(a,e)))),S.validate(t.insertRecords.concat(r)).then((()=>{if(t.insertRecords.length||n.length||r.length||t.pendingRecords.length)return h.tableLoading=!0,Promise.resolve((x||e)(...i)).then((e=>{h.tableLoading=!1,h.pendingRecords=[],c&&Rt.modal.message({content:ee(e,"vxe.grid.saveSuccess"),status:"success"}),w?w(...i):G.commitProxy("query")})).catch((e=>{h.tableLoading=!1,c&&Rt.modal.message({id:R,content:ee(e,"vxe.grid.operError"),status:"error"})}));c&&Rt.modal.message({id:R,content:E.i18n("vxe.grid.dataUnchanged"),status:"info"})})).catch((e=>e))}V("vxe.error.notFunc",[R]);break}default:{const e=Rt.commands.get(R);e&&e({code:R,button:T,$grid:U,$table:S},...l)}}return m()},zoom:()=>h.isZMax?G.revert():G.maximize(),isMaximized:()=>h.isZMax,maximize:()=>pe(!0),revert:()=>pe(),getFormItems(t){const l=_.value,{formConfig:o}=e,{items:n}=l,r=[];return a.eachTree(D(o)&&n?n:[],(e=>{r.push(e)}),{children:"children"}),a.isUndefined(t)?r:r[t]},getPendingRecords:()=>h.pendingRecords,getProxyInfo(){if(e.proxyConfig){const{sortData:e}=h;return{data:h.tableData,filter:h.filterData,form:h.formData,sort:e.length?e[0]:{},sorts:e,pager:h.tablePage,pendingRecords:h.pendingRecords}}return null}};const ge={extendTableMethods:M,callSlot:(e,t)=>e&&(a.isString(e)&&(e=l[e]||null),a.isFunction(e))?e(t):[],getExcludeHeight(){const{height:t}=e,{isZMax:l}=h,o=v.value,n=R.value,r=O.value,a=k.value,i=I.value,s=$.value;return(l||"auto"!==t?0:ne(o.parentNode))+ne(o)+oe(n)+oe(r)+oe(a)+oe(i)+oe(s)},getParentHeight(){const e=v.value;return e?(h.isZMax?le().visibleHeight:a.toNumber(getComputedStyle(e.parentNode).height))-ge.getExcludeHeight():0},triggerToolbarBtnEvent(e,t){G.commitProxy(e,t),G.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){G.commitProxy(e,t),G.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e,$event:t})},triggerZoomEvent(e){G.zoom(),G.dispatchEvent("zoom",{type:h.isZMax?"max":"revert"},e)}};Object.assign(U,L,G,ge),i((()=>e.columns),(e=>{m((()=>U.loadColumn(e||[])))})),i((()=>e.toolbarConfig),(e=>{e&&J()})),i((()=>e.proxyConfig),(()=>{he()})),i((()=>e.pagerConfig),(()=>{Q()}));const ve=e=>{const t=z.value;Jt(e,Pt)&&h.isZMax&&!1!==t.escRestore&&ge.triggerZoomEvent(e)};Rt.hooks.forEach((e=>{const{setupGrid:t}=e;if(t){const e=t(U);e&&a.isObject(e)&&Object.assign(U,e)}})),m((()=>{const{data:t,columns:l,proxyConfig:o}=e,n=N.value,r=_.value;o&&(t||n.form&&r.data)&&V("errConflicts",["grid.data","grid.proxy-config"]),l&&l.length&&U.loadColumn(l),J(),Q(),he(),el.on(U,"keydown",ve)})),y((()=>{el.off(U,"keydown")}));return U.renderVN=()=>{const t=p.value,o=B.value;return s("div",{ref:v,class:["vxe-grid",{[`size--${t}`]:t,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":h.isZMax,"is--loading":e.loading||h.tableLoading}],style:o},(()=>{const{formConfig:t,proxyConfig:o}=e,{formData:n}=h,i=N.value,d=_.value,u=[];if(D(t)||l.form){let e=[];if(l.form)e=l.form({$grid:U});else if(d.items){const t={};if(!d.inited){d.inited=!0;const e=i.beforeItem;i&&e&&d.items.forEach((t=>{e({$grid:U,item:t})}))}d.items.forEach((e=>{a.each(e.slots,(e=>{a.isFunction(e)||l[e]&&(t[e]=l[e])}))})),e.push(s(c("vxe-form"),r(r({ref:w},Object.assign({},d,{data:o&&i.form?n:d.data})),{onSubmit:se,onReset:ce,onSubmitInvalid:de,onToggleCollapse:ue}),t))}u.push(s("div",{ref:R,class:"vxe-grid--form-wrapper"},e))}return u})().concat((()=>{const{toolbarConfig:t}=e,o=j.value,n=[];if(D(t)||l.toolbar){let e=[];if(l.toolbar)e=l.toolbar({$grid:U});else{const t=o.slots;let l,n;const a={};t&&(l=me(t,"buttons"),n=me(t,"tools"),l&&(a.buttons=l),n&&(a.tools=n)),e.push(s(c("vxe-toolbar"),r({ref:C},o),a))}n.push(s("div",{ref:O,class:"vxe-grid--toolbar-wrapper"},e))}return n})(),l.top?[s("div",{ref:k,class:"vxe-grid--top-wrapper"},l.top({$grid:U}))]:[],(()=>{const{proxyConfig:t}=e,o=K.value,n=N.value,a=Object.assign({},fe),i=l.empty;return t&&(n.sort&&(a.onSortChange=ae),n.filter&&(a.onFilterChange=ie)),[s(c("vxe-table"),r(r({ref:b},o),a),i?{empty:()=>i({})}:{})]})(),l.bottom?[s("div",{ref:I,class:"vxe-grid--bottom-wrapper"},l.bottom({$grid:U}))]:[],(()=>{const{pagerConfig:t}=e,o=H.value,n=[];if(D(t)||l.pager){let t=[];if(l.pager)t=l.pager({$grid:U});else{const l=o.slots,n={};let a,i;l&&(a=me(l,"left"),i=me(l,"right"),a&&(n.buttons=a),i&&(n.tools=i)),t.push(s(c("vxe-pager"),r(r(r({ref:T},o),e.proxyConfig?h.tablePage:{}),{onPageChange:re}),n))}n.push(s("div",{ref:$,class:"vxe-grid--pager-wrapper"},t))}return n})()))},x("$xegrid",U),U},render(){return this.renderVN()}});const To=Object.assign(So,{install(e){Dt.component(So.name,So),e.component(So.name,So)}});var Ro=d({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>E.toolbar.buttons},tools:{type:Array,default:()=>E.toolbar.tools},perfect:{type:Boolean,default:()=>E.toolbar.perfect},size:{type:String,default:()=>E.toolbar.size||E.size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),i=il(e),d=f({isRefresh:!1,columns:[]}),h=g(),b=g(),x=f({isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1}),w={refElem:h},C={xID:n,props:e,context:t,reactData:d,getRefMaps:()=>w};let S={};const T=p("$xegrid",null);let R;const O=u((()=>Object.assign({},E.toolbar.refresh,e.refresh))),k=u((()=>Object.assign({},E.toolbar.import,e.import))),I=u((()=>Object.assign({},E.toolbar.export,e.export))),$=u((()=>Object.assign({},E.toolbar.print,e.print))),M=u((()=>Object.assign({},E.toolbar.zoom,e.zoom))),D=u((()=>Object.assign({},E.toolbar.custom,e.custom))),L=()=>{if(R)return!0;V("vxe.error.barUnableLink")},N=()=>{const{columns:e}=d,{computeCustomOpts:t}=R.getComputeMaps(),l=t.value,{checkMethod:o}=l;x.isAll=e.every((e=>!!o&&!o({column:e})||e.visible)),x.isIndeterminate=!x.isAll&&e.some((e=>(!o||o({column:e}))&&(e.visible||e.halfVisible)))},F=()=>{R.handleCustom()},P=()=>{const{custom:t}=e,l=D.value;x.visible&&(x.visible=!1,t&&!l.immediate&&F())},H=(e,t)=>{(T||R).dispatchEvent("custom",{type:e},t)},_=e=>{P(),H("confirm",e)},j=e=>{L()&&(x.visible||(x.visible=!0,N(),H("open",e)))},B=e=>{x.visible&&(P(),H("close",e))},W=e=>{const{columns:t}=d,{computeCustomOpts:l}=R.getComputeMaps(),o=l.value,{checkMethod:n}=o;a.eachTree(t,(e=>{n&&!n({column:e})||(e.visible=e.defaultVisible,e.halfVisible=!1),e.resizeWidth=0})),R.saveCustomResizable(!0),P(),H("reset",e)},q=e=>{const{columns:t}=d,l=a.findTree(t,(t=>t===e));if(l&&l.parent){const{parent:e}=l;e.children&&e.children.length&&(e.visible=e.children.every((e=>e.visible)),e.halfVisible=!e.visible&&e.children.some((e=>e.visible||e.halfVisible)),q(e))}},Y=()=>{const{columns:e}=d,{computeCustomOpts:t}=R.getComputeMaps(),l=t.value,{checkMethod:o}=l,n=!x.isAll;a.eachTree(e,(e=>{o&&!o({column:e})||(e.visible=n,e.halfVisible=!1)})),x.isAll=n,N()},U=e=>{se(e,b.value).flag||B(e)},G=e=>{B(e)},X=e=>{x.visible?B(e):j(e)},Z=e=>{x.activeBtn=!0,j(e)},K=e=>{x.activeBtn=!1,setTimeout((()=>{x.activeBtn||x.activeWrapper||B(e)}),300)},J=e=>{x.activeWrapper=!0,j(e)},Q=e=>{x.activeWrapper=!1,setTimeout((()=>{x.activeBtn||x.activeWrapper||B(e)}),300)},ee=()=>{const{isRefresh:e}=d,t=O.value;if(!e){const{query:e}=t;if(e){d.isRefresh=!0;try{Promise.resolve(e({})).catch((e=>e)).then((()=>{d.isRefresh=!1}))}catch(l){d.isRefresh=!1}}else T&&(d.isRefresh=!0,T.commitProxy("reload").catch((e=>e)).then((()=>{d.isRefresh=!1})))}},te=e=>{T&&T.triggerZoomEvent(e)},le=(e,t)=>{const{code:l}=t;if(l)if(T)T.triggerToolbarBtnEvent(t,e);else{const o=Rt.commands.get(l),n={code:l,button:t,$table:R,$event:e};o&&o(n,e),C.dispatchEvent("button-click",n,e)}},oe=(e,t)=>{const{code:l}=t;if(l)if(T)T.triggerToolbarTolEvent(t,e);else{const o=Rt.commands.get(l),n={code:l,tool:t,$table:R,$event:e};o&&o(n,e),C.dispatchEvent("tool-click",n,e)}},ne=()=>{L()&&R.openImport()},re=()=>{L()&&R.openExport()},ae=()=>{L()&&R.openPrint()},ie=(e,t)=>{const{dropdowns:l}=e;return l?l.map(((e,l)=>!1===e.visible?v():s(c("vxe-button"),{key:l,disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,onClick:l=>t?le(l,e):oe(l,e)}))):[]},ce=()=>{const{buttons:t}=e,o=l.buttons;if(o)return o({$grid:T,$table:R});const n=[];return t&&t.forEach((e=>{const{dropdowns:t,buttonRender:l}=e;if(!1!==e.visible){const o=l?Rt.renderer.get(l.name):null;l&&o&&o.renderToolbarButton?n.push(s("span",{class:"vxe-button--item"},o.renderToolbarButton(l,{$grid:T,$table:R,button:e}))):n.push(s(c("vxe-button"),{disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:t=>le(t,e)},t&&t.length?{dropdowns:()=>ie(e,!0)}:{}))}})),n},de=()=>{const{tools:t}=e,o=l.tools;if(o)return o({$grid:T,$table:R});const n=[];return t&&t.forEach((e=>{const{dropdowns:t,toolRender:l}=e;if(!1!==e.visible){const o=l?Rt.renderer.get(l.name):null;l&&o&&o.renderToolbarTool?n.push(s("span",{class:"vxe-tool--item"},o.renderToolbarTool(l,{$grid:T,$table:R,tool:e}))):n.push(s(c("vxe-button"),{disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:t=>oe(t,e)},t&&t.length?{dropdowns:()=>ie(e,!1)}:{}))}})),n},ue=()=>{const{columns:t}=d,l=D.value,o=[],n={},i={};let u;if(R){const{computeCustomOpts:e}=R.getComputeMaps(),t=e.value;u=t.checkMethod}return"manual"===l.trigger||("hover"===l.trigger?(n.onMouseenter=Z,n.onMouseleave=K,i.onMouseenter=J,i.onMouseleave=Q):n.onClick=X),a.eachTree(t,(t=>{const l=z(t.getTitle(),1),n=t.getKey(),r=t.children&&t.children.length,i=!!u&&!u({column:t});(r||n)&&o.push(s("li",{class:["vxe-custom--option",`level--${t.level}`,{"is--group":r,"is--checked":t.visible,"is--indeterminate":t.halfVisible,"is--disabled":i}],title:l,onClick:()=>{i||(t=>{const l=!t.visible,o=D.value;a.eachTree([t],(e=>{e.visible=l,e.halfVisible=!1})),q(t),e.custom&&o.immediate&&F(),N()})(t)}},[s("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"}),s("span",{class:"vxe-checkbox--label"},l)]))})),s("div",{class:["vxe-custom--wrapper",{"is--active":x.visible}],ref:b},[s(c("vxe-button"),r({circle:!0,icon:l.icon||E.icon.TOOLBAR_TOOLS_CUSTOM,title:E.i18n("vxe.toolbar.custom")},n)),s("div",{class:"vxe-custom--option-wrapper"},[s("ul",{class:"vxe-custom--header"},[s("li",{class:["vxe-custom--option",{"is--checked":x.isAll,"is--indeterminate":x.isIndeterminate}],title:E.i18n("vxe.table.allTitle"),onClick:Y},[s("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),s("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"}),s("span",{class:"vxe-checkbox--label"},E.i18n("vxe.toolbar.customAll"))])]),s("ul",r({class:"vxe-custom--body"},i),o),!1===l.isFooter?null:s("div",{class:"vxe-custom--footer"},[s("button",{class:"btn--confirm",onClick:_},E.i18n("vxe.toolbar.customConfirm")),s("button",{class:"btn--reset",onClick:W},E.i18n("vxe.toolbar.customRestore"))])])])};S={dispatchEvent(e,t,l){o(e,Object.assign({$toolbar:C,$event:l},t))},syncUpdate(e){const{collectColumn:t}=e;R=e.$table,d.columns=t}},Object.assign(C,S),m((()=>{el.on(C,"mousedown",U),el.on(C,"blur",G)})),y((()=>{el.off(C,"mousedown"),el.off(C,"blur")})),m((()=>{const{refresh:t}=e,l=O.value;!t||T||l.query||A("vxe.error.notFunc",["query"])}));return C.renderVN=()=>{const{perfect:t,loading:l,refresh:o,zoom:n,custom:r,className:u}=e,p=i.value,m=O.value,f=k.value,g=I.value,b=$.value,x=M.value;return s("div",{ref:h,class:["vxe-toolbar",u?a.isFunction(u)?u({$toolbar:C}):u:"",{[`size--${p}`]:p,"is--perfect":t,"is--loading":l}]},[s("div",{class:"vxe-buttons--wrapper"},ce()),s("div",{class:"vxe-tools--wrapper"},de()),s("div",{class:"vxe-tools--operate"},[e.import?s(c("vxe-button"),{circle:!0,icon:f.icon||E.icon.TOOLBAR_TOOLS_IMPORT,title:E.i18n("vxe.toolbar.import"),onClick:ne}):v(),e.export?s(c("vxe-button"),{circle:!0,icon:g.icon||E.icon.TOOLBAR_TOOLS_EXPORT,title:E.i18n("vxe.toolbar.export"),onClick:re}):v(),e.print?s(c("vxe-button"),{circle:!0,icon:b.icon||E.icon.TOOLBAR_TOOLS_PRINT,title:E.i18n("vxe.toolbar.print"),onClick:ae}):v(),o?s(c("vxe-button"),{circle:!0,icon:d.isRefresh?m.iconLoading||E.icon.TOOLBAR_TOOLS_REFRESH_LOADING:m.icon||E.icon.TOOLBAR_TOOLS_REFRESH,title:E.i18n("vxe.toolbar.refresh"),onClick:ee}):v(),n&&T?s(c("vxe-button"),{circle:!0,icon:T.isMaximized()?x.iconOut||E.icon.TOOLBAR_TOOLS_ZOOM_OUT:x.iconIn||E.icon.TOOLBAR_TOOLS_ZOOM_IN,title:E.i18n("vxe.toolbar.zoom"+(T.isMaximized()?"Out":"In")),onClick:te}):v(),r?ue():v()])])},C},render(){return this.renderVN()}});const Oo=Object.assign(Ro,{install:function(e){Dt.component(Ro.name,Ro),e.component(Ro.name,Ro)}});var Eo=d({name:"VxePager",props:{size:{type:String,default:()=>E.pager.size||E.size},layouts:{type:Array,default:()=>E.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>E.pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>E.pager.pagerCount||7},pageSizes:{type:Array,default:()=>E.pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>E.pager.align},border:{type:Boolean,default:()=>E.pager.border},background:{type:Boolean,default:()=>E.pager.background},perfect:{type:Boolean,default:()=>E.pager.perfect},autoHidden:{type:Boolean,default:()=>E.pager.autoHidden},transfer:{type:Boolean,default:()=>E.pager.transfer},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),i=il(e),d=p("$xegrid",null),f=g(),h={refElem:f},v={xID:n,props:e,context:t,getRefMaps:()=>h};let b={},x={};const w=(e,t)=>Math.max(Math.ceil(e/t),1),y=u((()=>w(e.total,e.pageSize))),C=(t,l)=>{o("update:currentPage",l),t&&l!==e.currentPage&&b.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:l},t)},S=(t,l)=>{o("update:currentPage",t),l&&t!==e.currentPage&&b.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:t},l)},T=e=>{const t=e.target,l=a.toNumber(t.value),o=y.value,n=l<=0?1:l>=o?o:l;t.value=a.toValueString(n),S(n,e)},R=u((()=>{const{pagerCount:t}=e,l=y.value>t?t-2:t,o=[];for(let e=0;e<l;e++)o.push(e);return o})),O=u((()=>Math.floor((e.pagerCount-2)/2))),k=u((()=>e.pageSizes.map((e=>a.isNumber(e)?{value:e,label:`${E.i18n("vxe.pager.pagesize",[e])}`}:r({value:"",label:""},e))))),I=t=>{const{currentPage:l}=e,o=y.value;l>1&&S(Math.min(o,Math.max(l-1,1)),t)},$=t=>{const{currentPage:l}=e,o=y.value;l<o&&S(Math.min(o,l+1),t)},M=t=>{const l=R.value;S(Math.max(e.currentPage-l.length,1),t)},D=t=>{const l=y.value,o=R.value;S(Math.min(e.currentPage+o.length,l),t)},L=t=>{const{value:l}=t,n=a.toNumber(l);o("update:pageSize",n),b.dispatchEvent("page-change",{type:"size",pageSize:n,currentPage:Math.min(e.currentPage,w(e.total,n))})},N=e=>{Jt(e,At)?T(e):Jt(e,Bt)?(e.preventDefault(),$(e)):Jt(e,Wt)&&(e.preventDefault(),I(e))},F=()=>s("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],title:E.i18n("vxe.pager.prevPage"),onClick:I},[s("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||E.icon.PAGER_PREV_PAGE]})]),P=t=>s(t||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!t,"is--disabled":e.currentPage<=1}],title:E.i18n("vxe.pager.prevJump"),onClick:M},[t?s("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||E.icon.PAGER_JUMP_MORE]}):null,s("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||E.icon.PAGER_JUMP_PREV]})]),A=t=>{const l=y.value;return s(t||"button",{class:["vxe-pager--jump-next",{"is--fixed":!t,"is--disabled":e.currentPage>=l}],title:E.i18n("vxe.pager.nextJump"),onClick:D},[t?s("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||E.icon.PAGER_JUMP_MORE]}):null,s("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||E.icon.PAGER_JUMP_NEXT]})])},V=()=>{const t=y.value;return s("button",{class:["vxe-pager--next-btn",{"is--disabled":e.currentPage>=t}],title:E.i18n("vxe.pager.nextPage"),onClick:$},[s("i",{class:["vxe-pager--btn-icon",e.iconNextPage||E.icon.PAGER_NEXT_PAGE]})])},H=()=>(t=>{const{currentPage:l,pagerCount:o}=e,n=[],r=y.value,a=R.value,i=O.value,c=r>o,d=c&&l>i+1,u=c&&l<r-i;let p=1;return c&&(p=l>=r-i?Math.max(r-a.length+1,1):Math.max(l-i,1)),t&&d&&n.push(s("button",{class:"vxe-pager--num-btn",onClick:e=>C(e,1)},1),P("span")),a.forEach(((e,t)=>{const o=p+t;o<=r&&n.push(s("button",{key:o,class:["vxe-pager--num-btn",{"is--active":l===o}],onClick:e=>C(e,o)},o))})),t&&u&&n.push(A("button"),s("button",{class:"vxe-pager--num-btn",onClick:e=>C(e,r)},r)),s("span",{class:"vxe-pager--btn-wrapper"},n)})(!0),_=()=>{const t=k.value;return s(c("vxe-select"),{class:"vxe-pager--sizes",modelValue:e.pageSize,placement:"top",transfer:e.transfer,options:t,onChange:L})},j=t=>s("span",{class:"vxe-pager--jump"},[t?s("span",{class:"vxe-pager--goto-text"},E.i18n("vxe.pager.goto")):null,s("input",{class:"vxe-pager--goto",value:e.currentPage,type:"text",autocomplete:"off",onKeydown:N,onBlur:T}),t?s("span",{class:"vxe-pager--classifier-text"},E.i18n("vxe.pager.pageClassifier")):null]),z=()=>j(!0),B=()=>{const e=y.value;return s("span",{class:"vxe-pager--count"},[s("span",{class:"vxe-pager--separator"}),s("span",e)])},W=()=>s("span",{class:"vxe-pager--total"},E.i18n("vxe.pager.total",[e.total]));b={dispatchEvent(e,t,l){o(e,Object.assign({$pager:v,$event:l},t))},prevPage:()=>(I(),m()),nextPage:()=>($(),m()),prevJump:()=>(M(),m()),nextJump:()=>(D(),m())},x={handlePrevPage:I,handleNextPage:$,handlePrevJump:M,handleNextJump:D},Object.assign(v,b,x);return v.renderVN=()=>{const{align:t,layouts:o,className:n}=e,r=[],c=i.value,u=y.value;return l.left&&r.push(s("span",{class:"vxe-pager--left-wrapper"},l.left({$grid:d}))),o.forEach((e=>{let t;switch(e){case"PrevPage":t=F;break;case"PrevJump":t=P;break;case"JumpNumber":t=H;break;case"NextJump":t=A;break;case"NextPage":t=V;break;case"Sizes":t=_;break;case"FullJump":t=z;break;case"Jump":t=j;break;case"PageCount":t=B;break;case"Total":t=W}t&&r.push(t())})),l.right&&r.push(s("span",{class:"vxe-pager--right-wrapper"},l.right({$grid:d}))),s("div",{ref:f,class:["vxe-pager",n?a.isFunction(n)?n({$pager:v}):n:"",{[`size--${c}`]:c,[`align--${t}`]:t,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&1===u,"is--loading":e.loading}]},[s("div",{class:"vxe-pager--wrapper"},r)])},v},render(){return this.renderVN()}});const ko=Object.assign(Eo,{install:function(e){Dt.component(Eo.name,Eo),e.component(Eo.name,Eo)}}),Io=Object.assign(fl,{install(e){Dt.component(fl.name,fl),e.component(fl.name,fl)}});var $o=d({name:"VxeCheckboxGroup",props:{modelValue:Array,disabled:Boolean,size:{type:String,default:()=>E.checkbox.size||E.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:o}=t,n={xID:a.uniqueId(),props:e,context:t};il(e);const r={dispatchEvent(e,t,l){o(e,Object.assign({$checkboxGroup:n,$event:l},t))}},i={handleChecked(t,l){const{checked:r,label:a}=t,i=e.modelValue||[],s=i.indexOf(a);r?-1===s&&i.push(a):i.splice(s,1),o("update:modelValue",i),n.dispatchEvent("change",Object.assign({checklist:i},t),l)}};Object.assign(n,r,i);const c=()=>s("div",{class:"vxe-checkbox-group"},l.default?l.default({}):[]);return n.renderVN=c,x("$xecheckboxgroup",n),c}});const Mo=Object.assign($o,{install(e){Dt.component($o.name,$o),e.component($o.name,$o)}}),Do=Object.assign(xl,{install:function(e){Dt.component(xl.name,xl),e.component(xl.name,xl)}}),Lo=Object.assign(bl,{install:function(e){Dt.component(bl.name,bl),e.component(bl.name,bl)}});var No=d({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,size:{type:String,default:()=>E.radio.size||E.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),r=il(e),i={xID:n,props:e,context:t};let c={};const d=p("$xeradiogroup",null),m=u((()=>e.disabled||d&&d.props.disabled)),f=u((()=>d?d.name:null)),h=u((()=>{const{modelValue:t,label:l}=e;return d?d.props.modelValue===l:t===l}));c={dispatchEvent(e,t,l){o(e,Object.assign({$radioButton:i,$event:l},t))}},Object.assign(i,c);const g=t=>{const{label:l}=e;m.value||(d?d.handleChecked({label:l},t):(o("update:modelValue",l),c.dispatchEvent("change",{label:l},t)))},v=()=>{const t=r.value,o=m.value,n=f.value,a=h.value;return s("label",{class:["vxe-radio","vxe-radio-button",{[`size--${t}`]:t,"is--disabled":o}],title:e.title},[s("input",{class:"vxe-radio--input",type:"radio",name:n,checked:a,disabled:o,onChange:g}),s("span",{class:"vxe-radio--label"},l.default?l.default({}):j(e.content))])};return Object.assign(i,{renderVN:v,dispatchEvent:dispatchEvent}),v}});const Fo=Object.assign(No,{install:function(e){Dt.component(No.name,No),e.component(No.name,No)}}),Po=Object.assign(ml,{install(e){Dt.component(ml.name,ml),e.component(ml.name,ml)}});let Ao;var Vo=d({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:String,maxlength:[String,Number],rows:{type:[String,Number],default:2},showWordCount:Boolean,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>E.textarea.resize},size:{type:String,default:()=>E.textarea.size||E.size}},emits:["update:modelValue","input","change","focus","blur"],setup(e,t){const{emit:l}=t,o=a.uniqueId(),n=il(e),r=f({inputValue:e.modelValue}),c=g(),d=g(),p={refElem:c,refTextarea:d},h={xID:o,props:e,context:t,reactData:r,getRefMaps:()=>p};let v={};const b=u((()=>a.getSize(r.inputValue))),x=u((()=>{const t=b.value;return e.maxlength&&t>a.toNumber(e.maxlength)})),w=u((()=>Object.assign({minRows:1,maxRows:10},E.textarea.autosize,e.autosize))),y=()=>{const{size:t,autosize:l}=e,{inputValue:o}=r;if(l){Ao||(Ao=document.createElement("div")),Ao.parentNode||document.body.appendChild(Ao);const e=d.value,l=getComputedStyle(e);Ao.className=["vxe-textarea--autosize",t?`size--${t}`:""].join(" "),Ao.style.width=`${e.clientWidth}px`,Ao.style.padding=l.padding,Ao.innerHTML=(""+(o||"　")).replace(/\n$/,"\n　")}},C=()=>{e.autosize&&m((()=>{const e=w.value,{minRows:t,maxRows:l}=e,o=d.value,n=Ao.clientHeight,r=getComputedStyle(o),i=a.toNumber(r.lineHeight),s=a.toNumber(r.paddingTop)+a.toNumber(r.paddingBottom)+a.toNumber(r.borderTopWidth)+a.toNumber(r.borderBottomWidth),c=(n-s)/i,u=c&&/[0-9]/.test(""+c)?c:Math.floor(c)+1;let p=u;u<t?p=t:u>l&&(p=l),o.style.height=`${p*i+s}px`}))},S=e=>{const t=r.inputValue;h.dispatchEvent(e.type,{value:t},e)},T=(t,o)=>{r.inputValue=t,l("update:modelValue",t),a.toValueString(e.modelValue)!==t&&v.dispatchEvent("change",{value:t},o)},R=t=>{const{immediate:l}=e,o=t.target.value;r.inputValue=o,l&&T(o,t),h.dispatchEvent("input",{value:o},t),C()},O=t=>{const{immediate:l}=e;l?S(t):T(r.inputValue,t)},k=t=>{const{immediate:l}=e,{inputValue:o}=r;l||T(o,t),h.dispatchEvent("blur",{value:o},t)};v={dispatchEvent(e,t,o){l(e,Object.assign({$textarea:h,$event:o},t))},focus:()=>(d.value.focus(),m()),blur:()=>(d.value.blur(),m())},Object.assign(h,v),i((()=>e.modelValue),(e=>{r.inputValue=e,y()})),m((()=>{const{autosize:t}=e;t&&(y(),C())}));return h.renderVN=()=>{const{className:t,resize:l,placeholder:o,disabled:a,maxlength:i,autosize:u,showWordCount:p}=e,{inputValue:m}=r,f=n.value,h=x.value,g=b.value;return s("div",{ref:c,class:["vxe-textarea",t,{[`size--${f}`]:f,"is--autosize":u,"is--disabled":a}]},[s("textarea",{ref:d,class:"vxe-textarea--inner",value:m,name:e.name,placeholder:o?j(o):null,maxlength:i,readonly:e.readonly,disabled:a,style:l?{resize:l}:null,onInput:R,onChange:O,onFocus:S,onBlur:k}),p?s("span",{class:["vxe-textarea--count",{"is--error":h}]},`${g}${i?`/${i}`:""}`):null])},h},render(){return this.renderVN()}});const Ho=Object.assign(Vo,{install:function(e){Dt.component(Vo.name,Vo),e.component(Vo.name,Vo)}}),_o=Object.assign(sl,{install(e){Dt.component(sl.name,sl),e.component(sl.name,sl)}});function jo(e){return $t||($t=document.createElement("div"),$t.className="vxe-dynamics",document.body.appendChild($t),Dt.mount($t)),new Promise((t=>{if(e&&e.id&&cl.some((t=>t.props.id===e.id)))t("exist");else{const l=e.onHide,o=Object.assign(e,{key:a.uniqueId(),modelValue:!0,onHide(e){const n=Mt.modals;l&&l(e),Mt.modals=n.filter((e=>e.key!==o.key)),t(e.type)}});Mt.modals.push(o)}}))}function zo(e){return a.find(cl,(t=>t.props.id===e))}function Bo(e,t,l,o){let n;return n=a.isObject(t)?t:{content:a.toValueString(t),title:l},jo(r(r(r({},e),o),n))}const Wo={get:zo,close:function(e){const t=e?[zo(e)]:cl,l=[];return t.forEach((e=>{e&&l.push(e.close())})),Promise.all(l)},open:jo,alert:function(e,t,l){return Bo({type:"alert",showFooter:!0},e,t,l)},confirm:function(e,t,l){return Bo({type:"confirm",status:"question",showFooter:!0},e,t,l)},message:function(e,t){return Bo({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",t)}},qo=Wo,Yo=Object.assign(ul,{install:function(e){Dt.component(ul.name,ul),e.component(ul.name,ul),Rt.modal=Wo}});var Uo=d({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>E.tooltip.size||E.size},trigger:{type:String,default:()=>E.tooltip.trigger},theme:{type:String,default:()=>E.tooltip.theme},content:[String,Number],zIndex:[String,Number],isArrow:{type:Boolean,default:!0},enterable:Boolean,leaveDelay:{type:Number,default:E.tooltip.leaveDelay},leaveMethod:Function},emits:["update:modelValue"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),c=il(e),d=f({target:null,isUpdate:!1,isHover:!1,visible:!1,message:"",tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),u=g(),p={refElem:u},h={xID:n,props:e,context:t,reactData:d,getRefMaps:()=>p};let v,b={};const x=()=>{const{tipTarget:e,tipStore:t}=d;if(e){const{scrollTop:l,scrollLeft:o,visibleWidth:n}=le(),{top:r,left:a}=de(e),i=u.value,s=6,c=i.offsetHeight,d=i.offsetWidth;let p=a,m=r-c-s;p=Math.max(s,a+Math.floor((e.offsetWidth-d)/2)),p+d+s>o+n&&(p=o+n-d-s),r-c<l+s&&(t.placement="bottom",m=r+e.offsetHeight+s),t.style.top=`${m}px`,t.style.left=`${p}px`,t.arrowStyle.left=a-p+e.offsetWidth/2+"px"}},w=e=>{e!==d.visible&&(d.visible=e,d.isUpdate=!0,o("update:modelValue",e))},y=()=>{d.visible?b.close():b.open()},C=()=>{b.open()},S=()=>{const{trigger:t,enterable:l,leaveDelay:o}=e;v=!1,l&&"hover"===t?setTimeout((()=>{d.isHover||b.close()}),o):b.close()},R=()=>{d.isHover=!0},O=t=>{const{leaveMethod:l,trigger:o,enterable:n,leaveDelay:r}=e;d.isHover=!1,l&&!1===l({$event:t})||n&&"hover"===o&&setTimeout((()=>{v||b.close()}),r)};b={dispatchEvent(e,t,l){o(e,Object.assign({$tooltip:h,$event:l},t))},open:(e,t)=>b.toVisible(e||d.target,t),close:()=>(d.tipTarget=null,Object.assign(d.tipStore,{style:{},placement:"",arrowStyle:null}),w(!1),m()),toVisible(t,l){if(v=!0,t){const{tipStore:o}=d,n=u.value;return n.parentNode||document.body.appendChild(n),l&&(d.message=l),d.tipTarget=t,w(!0),d.tipZindex<P()&&(d.tipZindex=F()),o.placement="top",o.style={width:"auto",left:0,top:0,zIndex:e.zIndex||d.tipZindex},o.arrowStyle={left:"50%"},b.updatePlacement()}return m()},updatePlacement:()=>m().then((()=>{const{tipTarget:e}=d,t=u.value;if(e&&t)return x(),m().then(x)}))},Object.assign(h,b),i((()=>e.content),(()=>{d.message=e.content})),i((()=>e.modelValue),(()=>{d.isUpdate||(e.modelValue?b.open():b.close()),d.isUpdate=!1})),m((()=>{const{trigger:t,content:l,modelValue:o}=e,n=u.value,r=n.parentNode;if(r){d.message=l,d.tipZindex=F(),a.arrayEach(n.children,((e,t)=>{t>1&&(r.insertBefore(e,n),d.target||(d.target=e))})),r.removeChild(n);const{target:e}=d;e&&("hover"===t?(e.onmouseleave=S,e.onmouseenter=C):"click"===t&&(e.onclick=y)),o&&b.open()}})),T((()=>{const{trigger:t}=e,{target:l}=d,o=u.value,n=o.parentNode;n&&n.removeChild(o),l&&("hover"===t?(l.onmouseenter=null,l.onmouseleave=null):"click"===t&&(l.onclick=null))}));return h.renderVN=()=>{const{theme:t,isArrow:o,enterable:n}=e,{isHover:a,visible:i,tipStore:p,message:m}=d,f=c.value;let h;return n&&(h={onMouseenter:R,onMouseleave:O}),s("div",r({ref:u,class:["vxe-table--tooltip-wrapper",`theme--${t}`,{[`size--${f}`]:f,[`placement--${p.placement}`]:p.placement,"is--enterable":n,"is--visible":i,"is--arrow":o,"is--hover":a}],style:p.style},h),[s("div",{class:"vxe-table--tooltip-content"},l.content?l.content({}):z(m)),s("div",{class:"vxe-table--tooltip-arrow",style:p.arrowStyle})].concat(l.default?l.default({}):[]))},h},render(){return this.renderVN()}});const Go=Object.assign(Uo,{install:function(e){Rt.tooltip=!0,Dt.component(Uo.name,Uo),e.component(Uo.name,Uo)}});class Xo{constructor(e,t){Object.assign(this,{id:a.uniqueId("item_"),title:t.title,field:t.field,span:t.span,align:t.align,titleAlign:t.titleAlign,titleWidth:t.titleWidth,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,titleOverflow:t.titleOverflow,resetValue:t.resetValue,visibleMethod:t.visibleMethod,visible:t.visible,folding:t.folding,collapseNode:t.collapseNode,className:t.className,itemRender:t.itemRender,showError:!1,errRule:null,slots:t.slots,children:[]})}update(e,t){this[e]=t}}function Zo(e,t){return t instanceof Xo?t:new Xo(e,t)}function Ko(e,t){Object.keys(e).forEach((l=>{i((()=>e[l]),(e=>{t.update(l,e)}))}))}function Jo(e,t,l,o){const{reactData:n}=e,{staticItems:r}=n,i=t.parentNode,s=o?o.formItem:null,c=s?s.children:r;i&&(c.splice(a.arrayIndexOf(i.children,t),0,l),n.staticItems=r.slice(0))}function Qo(e,t){const{reactData:l}=e,{staticItems:o}=l,n=a.findIndexOf(o,(e=>e.id===t.id));n>-1&&o.splice(n,1),l.staticItems=o.slice(0)}class en{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get message(){return j(this.$options.message)}}const tn=(e,t)=>{const{type:l,min:o,max:n,pattern:r}=e,i="number"===l,s=i?a.toNumber(t):a.getSize(t);return!(!i||!isNaN(t))||(!a.eqNull(o)&&s<a.toNumber(o)||(!a.eqNull(n)&&s>a.toNumber(n)||!(!r||(a.isRegExp(r)?r:new RegExp(r)).test(t))))};var ln=d({name:"VxeForm",props:{loading:Boolean,data:Object,size:{type:String,default:()=>E.form.size||E.size},span:[String,Number],align:{type:String,default:()=>E.form.align},titleAlign:{type:String,default:()=>E.form.titleAlign},titleWidth:[String,Number],titleColon:{type:Boolean,default:()=>E.form.titleColon},titleAsterisk:{type:Boolean,default:()=>E.form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:null},className:[String,Function],items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>E.form.preventSubmit},validConfig:Object,tooltipConfig:Object},emits:["toggle-collapse","submit","submit-invalid","reset"],setup(e,t){const l=Rt.tooltip,{slots:o,emit:n}=t,d=a.uniqueId(),p=il(e),h=f({collapseAll:!0,staticItems:[],formItems:[]}),b=f({tooltipTimeout:null,tooltipActive:!1,tooltipStore:{item:null,visible:!1}}),w=g(),y=g(),C={refElem:w},S={xID:d,props:e,context:t,reactData:h,getRefMaps:()=>C};let T={};const R=u((()=>Object.assign({},E.form.validConfig,e.validConfig)));let O=g();const k=()=>{const e=O.value;return setTimeout((()=>{b.tooltipActive||T.closeTooltip()}),e.leaveDelay),!1};O=u((()=>{const t=Object.assign({leaveDelay:300},E.form.tooltipConfig,e.tooltipConfig);return t.enterable&&(t.leaveMethod=k),t}));const I=(e,t)=>e&&(a.isString(e)&&(e=o[e]||null),a.isFunction(e))?e(t):[],$=e=>(e.length&&(h.staticItems=a.mapTree(e,(e=>Zo(S,e)),{children:"children"})),m()),M=()=>{const e=[];return a.eachTree(h.formItems,(t=>{e.push(t)}),{children:"children"}),e},L=()=>(h.collapseAll=!h.collapseAll,m()),N=t=>{L(),T.dispatchEvent("toggle-collapse",{collapse:!h.collapseAll,data:e.data},t)},F=e=>{const t=M();if(e){const l=t.find((t=>t.field===e));l&&(l.showError=!1)}else t.forEach((e=>{e.showError=!1}));return m()},P=()=>{const{data:t}=e,l=M();return t&&l.forEach((e=>{const{field:l,resetValue:o,itemRender:n}=e;if(D(n)){const r=Rt.renderer.get(n.name);r&&r.itemResetMethod?r.itemResetMethod({data:t,property:l,item:e,$form:S}):l&&a.set(t,l,null===o?function(e,t){return a.isArray(e)&&(t=[]),t}(a.get(t,l),void 0):o)}})),F()},A=t=>{t.preventDefault(),P(),T.dispatchEvent("reset",{data:e.data},t)},V=(t,l,o)=>{const{data:n,rules:r}=e,i=[],s=[];if(l&&r){const e=a.get(r,l);if(e){const r=a.isUndefined(o)?a.get(n,l):o;e.forEach((o=>{const{type:c,trigger:d,required:u}=o;if("all"===t||!d||t===d)if(a.isFunction(o.validator)){const t=o.validator({itemValue:r,rule:o,rules:e,data:n,property:l,$form:S});t&&(a.isError(t)?i.push(new en({type:"custom",trigger:d,message:t.message,rule:new en(o)})):t.catch&&s.push(t.catch((e=>{i.push(new en({type:"custom",trigger:d,message:e?e.message:o.message,rule:new en(o)}))}))))}else{const e="array"===c?!a.isArray(r)||!r.length:B(r);(u?e||tn(o,r):!e&&tn(o,r))&&i.push(new en(o))}}))}}return Promise.all(s).then((()=>{if(i.length){const e={rules:i,rule:i[0]};return Promise.reject(e)}}))};let H;const _=(t,l)=>{const{data:o,rules:n}=e,r=R.value,a={},i=[],s=[],c=M();return F(),clearTimeout(H),o&&n?(c.forEach((e=>{const{field:l}=e;l&&s.push(V(t||"all",l).then((()=>{e.errRule=null})).catch((({rule:t,rules:n})=>{const r={rule:t,rules:n,data:o,property:l,$form:S};return a[l]||(a[l]=[]),a[l].push(r),i.push(l),e.errRule=t,Promise.reject(r)})))})),Promise.all(s).then((()=>{l&&l()})).catch((()=>new Promise(((e,t)=>{H=window.setTimeout((()=>{c.forEach((e=>{e.errRule&&(e.showError=!0)}))}),20),!1!==r.autoPos&&m((()=>{(e=>{const t=M(),l=w.value;e.some((e=>{const o=t.find((t=>t.field===e));if(o&&D(o.itemRender)){const{itemRender:e}=o,t=Rt.renderer.get(e.name);let n=null;if(e.autofocus&&(n=l.querySelector(`.${o.id} ${e.autofocus}`)),!n&&t&&t.autofocus&&(n=l.querySelector(`.${o.id} ${t.autofocus}`)),n)return n.focus(),!0}}))})(i)})),l?(l(a),e()):t(a)}))))):(l&&l(),Promise.resolve())},z=t=>{t.preventDefault(),e.preventSubmit||_().then((()=>{T.dispatchEvent("submit",{data:e.data},t)})).catch((l=>{T.dispatchEvent("submit-invalid",{data:e.data,errMap:l},t)}))},W=()=>{const{tooltipStore:e}=b,t=y.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),t&&t.close()),m()},q=()=>{const e=O.value;b.tooltipActive=!1,e.enterable?b.tooltipTimeout=setTimeout((()=>{const e=y.value;e&&!e.reactData.isHover&&W()}),e.leaveDelay):W()},Y=e=>s("span",{class:"vxe-form--item-title-prefix"},[s("i",{class:e.icon||E.icon.FORM_PREFIX})]),U=e=>s("span",{class:"vxe-form--item-title-suffix"},[s("i",{class:e.icon||E.icon.FORM_SUFFIX})]),G=t=>{const{data:l}=e,{slots:o,field:n,itemRender:r,titlePrefix:a,titleSuffix:i}=t,d=D(r)?Rt.renderer.get(r.name):null,u={data:l,property:n,item:t,$form:S},p=o?o.title:null,m=[];return a&&m.push(a.message?s(c("vxe-tooltip"),{content:j(a.message),enterable:a.enterable,theme:a.theme},{default:()=>Y(a)}):Y(a)),m.push(s("span",{class:"vxe-form--item-title-label"},d&&d.renderItemTitle?d.renderItemTitle(r,u):p?I(p,u):j(t.title))),i&&m.push(i.message?s(c("vxe-tooltip"),{content:j(i.message),enterable:i.enterable,theme:i.theme},{default:()=>U(i)}):U(i)),m},X=t=>{const{rules:l,data:o,titleOverflow:n}=e,{collapseAll:i}=h,c=R.value;return t.map(((t,d)=>{const{slots:u,title:p,visible:m,folding:f,visibleMethod:h,field:g,collapseNode:x,itemRender:w,showError:C,errRule:T,className:R,titleOverflow:O,children:k}=t,$=D(w)?Rt.renderer.get(w.name):null,M=u?u.default:null,L=u?u.title:null,F=t.span||e.span,P=t.align||e.align,A=t.titleAlign||e.titleAlign,V=t.titleWidth||e.titleWidth,H=a.isUndefined(O)||a.isNull(O)?n:O,_="title"===H,z=!0===H||"tooltip"===H,B=_||z||"ellipsis"===H;let Y=h;const U={data:o,property:g,item:t,$form:S};let Z;if(!1===m)return v();if(k&&k.length>0){const e=X(t.children);return e.length?s("div",{class:["vxe-form--gather vxe-row",t.id,F?`vxe-col--${F} is--span`:"",R?a.isFunction(R)?R(U):R:""]},e):v()}if(!Y&&$&&$.itemVisibleMethod&&(Y=$.itemVisibleMethod),l){const e=l[g];e&&(Z=e.some((e=>e.required)))}let K=[];M?K=I(M,U):$&&$.renderItemContent?K=$.renderItemContent(w,U):g&&(K=[`${a.get(o,g)}`]),x&&K.push(s("div",{class:"vxe-form--item-trigger-node",onClick:N},[s("span",{class:"vxe-form--item-trigger-text"},i?E.i18n("vxe.form.unfolding"):E.i18n("vxe.form.folding")),s("i",{class:["vxe-form--item-trigger-icon",i?E.icon.FORM_FOLDING:E.icon.FORM_UNFOLDING]})])),T&&c.showMessage&&K.push(s("div",{class:"vxe-form--item-valid",style:T.maxWidth?{width:`${T.maxWidth}px`}:null},T.message));const J=z?{onMouseenter(e){((e,t)=>{const{item:l}=t,{tooltipStore:o}=b,n=y.value,r=e.currentTarget,a=(r.textContent||"").trim(),i=r.scrollWidth>r.clientWidth;clearTimeout(b.tooltipTimeout),b.tooltipActive=!0,W(),a&&i&&(Object.assign(o,{item:l,visible:!0}),n&&n.open(r,a))})(e,U)},onMouseleave:q}:{};return s("div",{class:["vxe-form--item",t.id,F?`vxe-col--${F} is--span`:"",R?a.isFunction(R)?R(U):R:"",{"is--title":p,"is--required":Z,"is--hidden":f&&i,"is--active":!Y||Y(U),"is--error":C}],key:d},[s("div",{class:"vxe-form--item-inner"},[p||L?s("div",r({class:["vxe-form--item-title",A?`align--${A}`:null,{"is--ellipsis":B}],style:V?{width:isNaN(V)?V:`${V}px`}:null,title:_?j(p):null},J),G(t)):null,s("div",{class:["vxe-form--item-content",P?`align--${P}`:null]},K)])])}))};T={dispatchEvent(e,t,l){n(e,Object.assign({$form:S,$event:l},t))},reset:P,validate:e=>_("",e),clearValidate:F,updateStatus:(e,t)=>{const{property:l}=e;l&&V("change",l,t).then((()=>{F(l)})).catch((({rule:e})=>{const t=M().find((e=>e.field===l));t&&(t.showError=!0,t.errRule=e)}))},toggleCollapse:L,getItems:M,closeTooltip:W},Object.assign(S,T),i((()=>h.staticItems),(e=>{h.formItems=e})),i((()=>e.items),(e=>{$(e||[])})),m((()=>{$(e.items||[])}));return S.renderVN=()=>{const{loading:t,className:n,data:i}=e,{formItems:d}=h,u=p.value,m=O.value;return s("form",{ref:w,class:["vxe-form",n?a.isFunction(n)?n({items:d,data:i,$form:S}):n:"",{[`size--${u}`]:u,"is--colon":e.titleColon,"is--asterisk":e.titleAsterisk,"is--loading":t}],onSubmit:z,onReset:A},[s("div",{class:"vxe-form--wrapper vxe-row"},X(d)),s("div",{class:"vxe-form-slots",ref:"hideItem"},o.default?o.default({}):[]),s("div",{class:["vxe-loading",{"is--visible":t}]},[s("div",{class:"vxe-loading--spinner"})]),l?s(c("vxe-tooltip"),r({ref:y},m)):v()])},x("$xeform",S),S},render(){return this.renderVN()}});const on=Object.assign(ln,{install(e){Dt.component(ln.name,ln),e.component(ln.name,ln)}}),nn={title:String,field:String,span:[String,Number],align:String,titleAlign:String,titleWidth:[String,Number],className:[String,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object};var rn=d({name:"VxeFormItem",props:nn,setup(e,{slots:t}){const l=g(),o=p("$xeform",{}),n=p("xeformgather",null),r=Zo(o,e);r.slots=t,Ko(e,r),C((()=>{Jo(o,l.value,r,n)})),y((()=>{Qo(o,r)}));return()=>s("div",{ref:l})}});const an=Object.assign(rn,{install(e){Dt.component(rn.name,rn),e.component(rn.name,rn)}});var sn=d({name:"VxeFormGather",props:nn,setup(e,{slots:t}){const l=g(),o=p("$xeform",{}),n=p("xeformgather",null),r=Zo(o,e),a={formItem:r};r.children=[],x("xeformgather",a),Ko(e,r),C((()=>{Jo(o,l.value,r,n)})),y((()=>{Qo(o,r)}));return()=>s("div",{ref:l},t.default?t.default():[])}});const cn=Object.assign(sn,{install(e){Dt.component(sn.name,sn),e.component(sn.name,sn)}}),dn=Object.assign(gl,{install:function(e){Dt.component(gl.name,gl),e.component(gl.name,gl)}});class un{constructor(e,t){Object.assign(this,{id:a.uniqueId("option_"),value:t.value,label:t.label,visible:t.visible,className:t.className,disabled:t.disabled})}update(e,t){this[e]=t}}function pn(e,t){return t instanceof un?t:new un(e,t)}function mn(e,t){Object.keys(e).forEach((l=>{i((()=>e[l]),(e=>{t.update(l,e)}))}))}function fn(e,t,l,o){const{reactData:n}=e,{staticOptions:r}=n,i=t.parentNode,s=o?o.option:null,c=s?s.options:r;i&&c&&(c.splice(a.arrayIndexOf(i.children,t),0,l),n.staticOptions=r.slice(0))}function hn(e,t){const{reactData:l}=e,{staticOptions:o}=l,n=a.findTree(o,(e=>e.id===t.id),{children:"options"});n&&n.items.splice(n.index,1),l.staticOptions=o.slice(0)}var gn=d({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const l=g(),o=p("$xeselect",{}),n=pn(o,e),r={option:n};return n.options=[],x("xeoptgroup",r),mn(e,n),C((()=>{fn(o,l.value,n)})),y((()=>{hn(o,n)})),()=>s("div",{ref:l},t.default?t.default():[])}});const vn=Object.assign(gn,{install:function(e){Dt.component(gn.name,gn),e.component(gn.name,gn)}});var bn=d({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const l=g(),o=p("$xeselect",{}),n=p("xeoptgroup",null),r=pn(o,e);return r.slots=t,mn(e,r),C((()=>{fn(o,l.value,r,n)})),y((()=>{hn(o,r)})),()=>s("div",{ref:l})}});const xn=Object.assign(bn,{install:function(e){Dt.component(bn.name,bn),e.component(bn.name,bn)}});var wn=d({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:()=>E.switch.size||E.size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,t){const{emit:l}=t,o=a.uniqueId(),n=il(e),r=f({isActivated:!1,hasAnimat:!1,offsetLeft:0}),i={xID:o,props:e,context:t,reactData:r},c=g();let d={};const p=u((()=>j(e.openLabel))),h=u((()=>j(e.closeLabel))),b=u((()=>e.modelValue===e.openValue));let x;const w=t=>{if(!e.disabled){const o=b.value;clearTimeout(x);const n=o?e.closeValue:e.openValue;r.hasAnimat=!0,l("update:modelValue",n),d.dispatchEvent("change",{value:n},t),x=setTimeout((()=>{r.hasAnimat=!1}),400)}},y=t=>{r.isActivated=!0,d.dispatchEvent("focus",{value:e.modelValue},t)},C=t=>{r.isActivated=!1,d.dispatchEvent("blur",{value:e.modelValue},t)};d={dispatchEvent(e,t,o){l(e,Object.assign({$switch:i,$event:o},t))},focus(){const e=c.value;return r.isActivated=!0,e.focus(),m()},blur:()=>(c.value.blur(),r.isActivated=!1,m())},Object.assign(i,d);return i.renderVN=()=>{const{disabled:t,openIcon:l,closeIcon:o}=e,a=b.value,i=n.value,d=p.value,u=h.value;return s("div",{class:["vxe-switch",a?"is--on":"is--off",{[`size--${i}`]:i,"is--disabled":t,"is--animat":r.hasAnimat}]},[s("button",{ref:c,class:"vxe-switch--button",type:"button",disabled:t,onClick:w,onFocus:y,onBlur:C},[s("span",{class:"vxe-switch--label vxe-switch--label-on"},[l?s("i",{class:["vxe-switch--label-icon",l]}):v(),d]),s("span",{class:"vxe-switch--label vxe-switch--label-off"},[o?s("i",{class:["vxe-switch--label-icon",o]}):v(),u]),s("span",{class:"vxe-switch--icon"})])])},i},render(){return this.renderVN()}});const yn=Object.assign(wn,{install:function(e){Dt.component(wn.name,wn),e.component(wn.name,wn)}});let Cn;const Sn=[];function Tn(){Sn.length&&(Sn.forEach((e=>{e.tarList.forEach((t=>{const{target:l,width:o,heighe:n}=t,r=l.clientWidth,a=l.clientHeight;(r&&o!==r||a&&n!==a)&&(t.width=r,t.heighe=a,setTimeout(e.callback))}))})),Rn())}function Rn(){clearTimeout(Cn),Cn=setTimeout(Tn,E.resizeInterval||500)}class On{constructor(e){this.tarList=[],this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some((t=>t.target===e))||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),Sn.length||Rn(),Sn.some((e=>e===this))||Sn.push(this)}}unobserve(e){a.remove(Sn,(t=>t.tarList.some((t=>t.target===e))))}disconnect(){a.remove(Sn,(e=>e===this))}}function En(e){return window.ResizeObserver?new window.ResizeObserver(e):new On(e)}var kn=d({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>E.list.size||E.size},autoResize:{type:Boolean,default:()=>E.list.autoResize},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),r=il(e),c=f({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),d=g(),p=g(),h=g(),v={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},b={refElem:d},x={xID:n,props:e,context:t,reactData:c,internalData:v,getRefMaps:()=>b};let w={};const C=u((()=>Object.assign({},E.list.scrollY,e.scrollY))),S=u((()=>{const{height:t,maxHeight:l}=e,o={};return t?o.height=H(t)?`${t}px`:t:l&&(o.height="auto",o.maxHeight=H(l)?`${l}px`:l),o})),T=()=>{const{scrollYLoad:e}=c,{scrollYStore:t,fullData:l}=v;c.bodyHeight=e?l.length*t.rowHeight:0,c.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},R=()=>{const{scrollYLoad:e}=c,{fullData:t,scrollYStore:l}=v;return c.items=e?t.slice(l.startIndex,l.endIndex):t.slice(0),m()},O=()=>{R(),T()},k=()=>m().then((()=>{const{scrollYLoad:e}=c,{scrollYStore:t}=v,l=h.value,o=C.value;let n,r=0;if(l&&(o.sItem&&(n=l.querySelector(o.sItem)),n||(n=l.children[0])),n&&(r=n.offsetHeight),r=Math.max(20,r),t.rowHeight=r,e){const e=p.value,l=Math.max(8,Math.ceil(e.clientHeight/r)),n=o.oSize?a.toNumber(o.oSize):G.edge?10:0;t.offsetSize=n,t.visibleSize=l,t.endIndex=Math.max(t.startIndex,l+n,t.endIndex),O()}else T();c.rowHeight=r})),I=()=>{const e=p.value;return e&&(e.scrollTop=0),m()},$=(e,t)=>{const l=p.value;return a.isNumber(e)&&(l.scrollLeft=e),a.isNumber(t)&&(l.scrollTop=t),c.scrollYLoad?new Promise((e=>setTimeout((()=>e(m())),50))):m()},M=()=>{const{lastScrollLeft:e,lastScrollTop:t}=v;return I().then((()=>{if(e||t)return v.lastScrollLeft=0,v.lastScrollTop=0,$(e,t)}))},D=()=>{const e=d.value;return e.clientWidth&&e.clientHeight?k():Promise.resolve()},L=e=>{const t=e.target,l=t.scrollTop,o=t.scrollLeft,n=o!==v.lastScrollLeft,r=l!==v.lastScrollTop;v.lastScrollTop=l,v.lastScrollLeft=o,c.scrollYLoad&&(e=>{const{scrollYStore:t}=v,{startIndex:l,endIndex:o,visibleSize:n,offsetSize:r,rowHeight:a}=t,i=e.target.scrollTop,s=Math.floor(i/a),c=Math.max(0,s-1-r),d=s+n+r;(s<=l||s>=o-n-1)&&(l===c&&o===d||(t.startIndex=c,t.endIndex=d,O()))})(e),w.dispatchEvent("scroll",{scrollLeft:o,scrollTop:l,isX:n,isY:r},e)};let N;w={dispatchEvent(e,t,l){o(e,Object.assign({$list:x,$event:l},t))},loadData(e){const{scrollYStore:t}=v,l=C.value,o=e||[];return t.startIndex=0,t.visibleIndex=0,v.fullData=o,c.scrollYLoad=l.enabled&&l.gt>-1&&l.gt<=o.length,R(),k().then((()=>{M()}))},reloadData:e=>(I(),w.loadData(e)),recalculate:D,scrollTo:$,refreshScroll:M,clearScroll:I},Object.assign(x,w),i((()=>e.data),(e=>{w.loadData(e||[])})),i((()=>e.syncResize),(e=>{e&&(D(),m((()=>setTimeout((()=>D())))))})),m((()=>{if(el.on(x,"resize",(()=>{D()})),e.autoResize){const e=d.value;N=En((()=>D())),N.observe(e)}w.loadData(e.data||[])})),y((()=>{N&&N.disconnect(),el.off(x,"resize")}));return x.renderVN=()=>{const{className:t,loading:o}=e,{bodyHeight:n,topSpaceHeight:i,items:u}=c,m=r.value,f=S.value;return s("div",{ref:d,class:["vxe-list",t?a.isFunction(t)?t({$list:x}):t:"",{[`size--${m}`]:m,"is--loading":o}]},[s("div",{ref:p,class:"vxe-list--virtual-wrapper",style:f,onScroll:L},[s("div",{class:"vxe-list--y-space",style:{height:n?`${n}px`:""}}),s("div",{ref:h,class:"vxe-list--body",style:{marginTop:i?`${i}px`:""}},l.default?l.default({items:u,$list:x}):[])]),s("div",{class:["vxe-list--loading vxe-loading",{"is--visible":o}]},[s("div",{class:"vxe-loading--spinner"})])])},x},render(){return this.renderVN()}});const In=Object.assign(kn,{install(e){Dt.component(kn.name,kn),e.component(kn.name,kn)}});var $n=d({name:"VxePulldown",props:{disabled:Boolean,placement:String,size:{type:String,default:()=>E.size},destroyOnClose:Boolean,transfer:Boolean},emits:["hide-panel"],setup(e,t){const{slots:l,emit:o}=t,n=a.uniqueId(),r=il(e),i=f({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),c=g(),d=g(),u=g(),p={refElem:c},h={xID:n,props:e,context:t,reactData:i,getRefMaps:()=>p};let v={};const x=()=>m().then((()=>{const{transfer:t,placement:l}=e,{panelIndex:o,visiblePanel:n}=i;if(n){const e=d.value,n=u.value;if(n&&e){const r=e.offsetHeight,a=e.offsetWidth,s=n.offsetHeight,c=n.offsetWidth,d=5,u={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:h}=de(e);let g="bottom";if(t){let e=m,t=p+r;"top"===l?(g="top",t=p-s):l||(t+s+d>f&&(g="top",t=p-s),t<d&&(g="bottom",t=p+r)),e+c+d>h&&(e-=e+c+d-h),e<d&&(e=d),Object.assign(u,{left:`${e}px`,top:`${t}px`,minWidth:`${a}px`})}else"top"===l?(g="top",u.bottom=`${r}px`):l||p+r+s>f&&p-r-s>d&&(g="top",u.bottom=`${r}px`);i.panelStyle=u,i.panelPlacement=g}}return m()}));let w;const C=()=>(i.inited||(i.inited=!0),new Promise((t=>{e.disabled?t(m()):(clearTimeout(w),i.isActivated=!0,i.animatVisible=!0,setTimeout((()=>{i.visiblePanel=!0,x(),setTimeout((()=>{t(x())}),40)}),10),i.panelIndex<P()&&(i.panelIndex=F()))}))),S=()=>(i.visiblePanel=!1,new Promise((e=>{i.animatVisible?w=window.setTimeout((()=>{i.animatVisible=!1,e(m())}),350):e(m())}))),T=t=>{const{disabled:l}=e,{visiblePanel:o}=i,n=u.value;l||o&&(se(t,n).flag?x():(S(),v.dispatchEvent("hide-panel",{},t)))},R=t=>{const{disabled:l}=e,{visiblePanel:o}=i,n=c.value,r=u.value;l||(i.isActivated=se(t,n).flag||se(t,r).flag,o&&!i.isActivated&&(S(),v.dispatchEvent("hide-panel",{},t)))},O=e=>{i.visiblePanel&&(i.isActivated=!1,S(),v.dispatchEvent("hide-panel",{},e))};v={dispatchEvent(e,t,l){o(e,Object.assign({$pulldown:h,$event:l},t))},isPanelVisible:()=>i.visiblePanel,togglePanel:()=>i.visiblePanel?S():C(),showPanel:C,hidePanel:S},Object.assign(h,v),m((()=>{el.on(h,"mousewheel",T),el.on(h,"mousedown",R),el.on(h,"blur",O)})),y((()=>{el.off(h,"mousewheel"),el.off(h,"mousedown"),el.off(h,"blur")}));return h.renderVN=()=>{const{destroyOnClose:t,transfer:o,disabled:n}=e,{inited:a,isActivated:p,animatVisible:m,visiblePanel:f,panelStyle:g,panelPlacement:v}=i,x=r.value;return s("div",{ref:c,class:["vxe-pulldown",{[`size--${x}`]:x,"is--visivle":f,"is--disabled":n,"is--active":p}]},[s("div",{ref:d,class:"vxe-pulldown--content"},l.default?l.default({$pulldown:h}):[]),s(b,{to:"body",disabled:!o||!a},[s("div",{ref:u,class:["vxe-table--ignore-clear vxe-pulldown--panel",{[`size--${x}`]:x,"is--transfer":o,"animat--leave":m,"animat--enter":f}],placement:v,style:g},l.dropdown?[s("div",{class:"vxe-pulldown--wrapper"},!a||t&&!f&&!m?[]:l.dropdown({$pulldown:h}))]:[])])])},h},render(){return this.renderVN()}});const Mn=Object.assign($n,{install:function(e){Dt.component($n.name,$n),e.component($n.name,$n)}}),Dn={mini:3,small:2,medium:1};var Ln=d({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=p("$xetable",{}),l=p("xesize",null),{xID:o,props:n,context:i,reactData:c,internalData:d}=t,{refTableHeader:u,refTableBody:f,refTableFooter:h,refTableLeftBody:b,refTableRightBody:x,refValidTooltip:w}=t.getRefMaps(),{computeEditOpts:y,computeMouseOpts:C,computeSYOpts:S,computeEmptyOpts:R,computeKeyboardOpts:O,computeTooltipOpts:k,computeRadioOpts:I,computeTreeOpts:$,computeCheckboxOpts:M,computeValidOpts:L}=t.getComputeMaps(),N=g(),F=g(),P=g(),A=g(),V=g(),H=g(),_=g(),j=()=>{if(l){const e=l.value;if(e)return Dn[e]||0}return 0},z=(e,l)=>{const o=e[$.value.children];let n=1;if(t.isTreeExpandByRow(e))for(let t=0;t<o.length;t++)n+=z(o[t]);return n},B=(e,t)=>{const{$rowIndex:l}=e;let o=1;return l&&(o=z(t[l-1])),c.rowHeight*o-(l?1:12-j())},W=()=>{const{delayHover:e}=n,{lastScrollTime:t,_isResize:l}=d;return l||t&&Date.now()<t+e},q=(e,l,o,i,u,p,m,f,h,g,v,b,x)=>{const{columnKey:w,height:C,showOverflow:S,cellClassName:T,cellStyle:R,align:O,spanMethod:E,mouseConfig:I,editConfig:N,editRules:F,tooltipConfig:P}=n,{tableData:A,overflowX:V,scrollXLoad:H,scrollYLoad:_,currentColumn:z,mergeList:q,editStore:Y,validStore:U,isAllOverflow:G}=c,{afterFullData:X}=d,Z=L.value,K=M.value,J=y.value,Q=k.value,{type:ee,cellRender:te,editRender:le,align:oe,showOverflow:ne,className:re,treeNode:ae}=g,{actived:se}=Y,ce=Q.showAll,de=t.getColumnIndex(g),ue=t.getVTColumnIndex(g),pe=D(le);let me=i?g.fixed!==i:g.fixed&&V;const fe=a.isUndefined(ne)||a.isNull(ne)?S:ne;let he="ellipsis"===fe;const ge="title"===fe,ve=!0===fe||"tooltip"===fe;let be,xe=ge||ve||he;const we={},Ce=oe||O,Se=U.row===p&&U.column===g,Te=F&&Z.showMessage&&("default"===Z.message?C||A.length>1:"inline"===Z.message),Re={colid:g.id},Ee={$table:t,$seq:e,seq:l,rowid:o,row:p,rowIndex:m,$rowIndex:f,_rowIndex:h,column:g,columnIndex:de,$columnIndex:v,_columnIndex:ue,fixed:i,type:"body",isHidden:me,level:u,visibleData:X,data:A,items:x};if(!H&&!_||xe||(he=xe=!0),(ge||ve||ce||P)&&(we.onMouseenter=e=>{W()||(ge?ie(e.currentTarget,g):(ve||ce)&&t.triggerBodyTooltipEvent(e,Ee),t.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},Ee),e))}),(ve||ce||P)&&(we.onMouseleave=e=>{W()||((ve||ce)&&t.handleTargetLeaveEvent(e),t.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},Ee),e))}),(K.range||I)&&(we.onMousedown=e=>{t.triggerCellMousedownEvent(e,Ee)}),we.onClick=e=>{t.triggerCellClickEvent(e,Ee)},we.onDblclick=e=>{t.triggerCellDblclickEvent(e,Ee)},q.length){const e=Oe(q,h,ue);if(e){const{rowspan:t,colspan:l}=e;if(!t||!l)return null;t>1&&(Re.rowspan=t),l>1&&(Re.colspan=l)}}else if(E){const{rowspan:e=1,colspan:t=1}=E(Ee)||{};if(!e||!t)return null;e>1&&(Re.rowspan=e),t>1&&(Re.colspan=t)}me&&q&&(Re.colspan>1||Re.rowspan>1)&&(me=!1),!me&&N&&(le||te)&&(J.showStatus||J.showUpdateStatus)&&(be=t.isUpdateByRow(p,g.property));const ke=[];return me&&(S?G:S)?ke.push(s("div",{class:["vxe-cell",{"c--title":ge,"c--tooltip":ve,"c--ellipsis":he}]})):(ke.push(...((e,l,o)=>{const{column:r}=o,{treeConfig:a}=n,i=$.value,{slots:c,treeNode:d}=r;return c&&c.line?t.callSlot(c.line,o):a&&d&&i.line?[s("div",{class:"vxe-tree--line-wrapper"},[s("div",{class:"vxe-tree--line",style:{height:`${B(o,l)}px`,left:e*i.indent+(e?2-j():0)+16+"px"}})])]:[]})(u,x,Ee),s("div",{class:["vxe-cell",{"c--title":ge,"c--tooltip":ve,"c--ellipsis":he}],title:ge?t.getCellLabel(p,g):null},g.renderCell(Ee))),Te&&Se&&ke.push(s("div",{class:"vxe-cell--valid",style:U.rule&&U.rule.maxWidth?{width:`${U.rule.maxWidth}px`}:null},[s("span",{class:"vxe-cell--valid-msg"},U.content)]))),s("td",r(r(r({class:["vxe-body--column",g.id,{[`col--${Ce}`]:Ce,[`col--${ee}`]:ee,"col--last":v===b.length-1,"col--tree-node":ae,"col--edit":pe,"col--ellipsis":xe,"fixed--hidden":me,"col--dirty":be,"col--actived":N&&pe&&se.row===p&&(se.column===g||"row"===J.mode),"col--valid-error":Se,"col--current":z===g},ye(re,Ee),ye(T,Ee)],key:w?g.id:v},Re),{style:R?a.isFunction(R)?R(Ee):R:null}),we),ke)},Y=(e,l,o,i,u)=>{const{stripe:p,rowKey:m,highlightHoverRow:f,rowClassName:h,rowStyle:g,showOverflow:v,editConfig:b,treeConfig:x}=n,{hasFixedColumn:w,treeExpandeds:C,scrollYLoad:S,editStore:T,rowExpandeds:R,expandColumn:O,selectRow:E}=c,{scrollYStore:k}=d,D=M.value,L=I.value,N=$.value,F=y.value,P=[];return i.forEach(((n,c)=>{const d={};let y=c,I=y+1;S&&(I+=k.startIndex);const $=t.getVTRowIndex(n);y=t.getRowIndex(n),f&&(d.onMouseenter=e=>{W()||t.triggerHoverEvent(e,{row:n,rowIndex:y})},d.onMouseleave=()=>{W()||t.clearHoverRow()});const M=me(t,n),A={$table:t,$seq:e,seq:I,rowid:M,fixed:o,type:"body",level:l,row:n,rowIndex:y,$rowIndex:c,_rowIndex:$};let V=!1;if(b&&(V=t.findRowIndexOf(T.insertList,n)>-1),P.push(s("tr",r({class:["vxe-body--row",{"row--stripe":p&&(t.getVTRowIndex(n)+1)%2==0,"is--new":V,"row--new":V&&(F.showStatus||F.showInsertStatus),"row--radio":L.highlight&&E===n,"row--checked":D.highlight&&t.isCheckedByCheckboxRow(n)},h?a.isFunction(h)?h(A):h:""],rowid:M,style:g?a.isFunction(g)?g(A):g:null,key:m||x?M:c},d),u.map(((t,r)=>q(e,I,M,o,l,n,y,c,$,t,r,u,i))))),O&&R.length&&t.findRowIndexOf(R,n)>-1){let i;x&&(i={paddingLeft:l*N.indent+30+"px"});const{showOverflow:p}=O,m=a.isUndefined(p)||a.isNull(p)?v:p,f={$table:t,$seq:e,seq:I,column:O,fixed:o,type:"body",level:l,row:n,rowIndex:y,$rowIndex:c,_rowIndex:$};P.push(s("tr",r({class:"vxe-body--expanded-row",key:`expand_${M}`,style:g?a.isFunction(g)?g(f):g:null},d),[s("td",{class:["vxe-body--expanded-column",{"fixed--hidden":o&&!w,"col--ellipsis":m}],colspan:u.length},[s("div",{class:"vxe-body--expanded-cell",style:i},[O.renderData(f)])])]))}if(x&&C.length){const r=n[N.children];r&&r.length&&t.findRowIndexOf(C,n)>-1&&P.push(...Y(e?`${e}.${I}`:`${I}`,l+1,o,r,u))}})),P};let U;const X=(e,t,l)=>{(t||l)&&(t&&(t.onscroll=null,t.scrollTop=e),l&&(l.onscroll=null,l.scrollTop=e),clearTimeout(U),U=setTimeout((function(){t&&(t.onscroll=t._onscroll),l&&(l.onscroll=l._onscroll)}),300))},Z=l=>{const{fixedType:o}=e,{highlightHoverRow:r}=n,{scrollXLoad:a,scrollYLoad:i}=c,{lastScrollTop:s,lastScrollLeft:p}=d,m=u.value,g=f.value,v=h.value,y=b.value,C=x.value,S=w.value,T=N.value,R=m?m.$el:null,O=v?v.$el:null,E=g.$el,k=y?y.$el:null,I=C?C.$el:null;let $=T.scrollTop;const M=E.scrollLeft,D=M!==p,L=$!==s;d.lastScrollTop=$,d.lastScrollLeft=M,d.lastScrollTime=Date.now(),r&&t.clearHoverRow(),k&&"left"===o?($=k.scrollTop,X($,E,I)):I&&"right"===o?($=I.scrollTop,X($,E,k)):(D&&(R&&(R.scrollLeft=E.scrollLeft),O&&(O.scrollLeft=E.scrollLeft)),(k||I)&&(t.checkScrolling(),L&&X($,k,I))),a&&D&&t.triggerScrollXEvent(l),i&&L&&t.triggerScrollYEvent(l),D&&S&&S.reactData.visible&&S.updatePlacement(),t.dispatchEvent("scroll",{type:"body",fixed:o,scrollTop:$,scrollLeft:M,isX:D,isY:L},l)};let K,J=0,Q=0,ee=0,te=!1;const le=l=>{const{deltaY:o,deltaX:r}=l,{highlightHoverRow:a}=n,{scrollYLoad:i}=c,{lastScrollTop:s,lastScrollLeft:u}=d,p=f.value,m=N.value,h=p.$el,g=G.firefox?40*o:o,v=G.firefox?40*r:r,w=g<0;if(w?m.scrollTop<=0:m.scrollTop>=m.scrollHeight-m.clientHeight)return;const y=m.scrollTop+g,C=h.scrollLeft+v,S=C!==u,T=y!==s;T&&(l.preventDefault(),d.lastScrollTop=y,d.lastScrollLeft=C,d.lastScrollTime=Date.now(),a&&t.clearHoverRow(),((l,o,n,r,a)=>{const i=f.value,s=b.value,c=x.value,d=s?s.$el:null,u=c?c.$el:null,p=i.$el,m=te===o?Math.max(0,J-ee):0;te=o,J=Math.abs(o?n-m:n+m),Q=0,ee=0,clearTimeout(K);const h=()=>{if(ee<J){const{fixedType:n}=e;Q=Math.max(5,Math.floor(1.5*Q)),ee+=Q,ee>J&&(Q-=ee-J);const{scrollTop:i,clientHeight:s,scrollHeight:c}=p,m=i+Q*(o?-1:1);p.scrollTop=m,d&&(d.scrollTop=m),u&&(u.scrollTop=m),(o?m<c-s:m>=0)&&(K=setTimeout(h,10)),t.dispatchEvent("scroll",{type:"body",fixed:n,scrollTop:p.scrollTop,scrollLeft:p.scrollLeft,isX:r,isY:a},l)}};h()})(l,w,g,S,T),i&&t.triggerScrollYEvent(l))};m((()=>{const{fixedType:t}=e,{elemStore:l}=d,o=`${t||"main"}-body-`,n=N.value;l[`${o}wrapper`]=N.value,l[`${o}table`]=F.value,l[`${o}colgroup`]=P.value,l[`${o}list`]=A.value,l[`${o}xSpace`]=V.value,l[`${o}ySpace`]=H.value,l[`${o}emptyBlock`]=_.value,n.onscroll=Z,n._onscroll=Z})),T((()=>{const e=N.value;clearTimeout(K),e._onscroll=null,e.onscroll=null}));return()=>{let{fixedColumn:l,fixedType:a,tableColumn:d}=e;const{keyboardConfig:u,showOverflow:p,spanMethod:m,mouseConfig:f}=n,{tableData:h,mergeList:g,scrollXLoad:b,scrollYLoad:x,isAllOverflow:w}=c,{slots:y}=i,T=S.value,k=R.value,I=O.value,$=C.value;let M;if(a&&(g.length||m||u&&I.isMerge||!(b||x||(p?w:p))||(d=l)),y.empty)M=t.callSlot(y.empty,{$table:t});else{const e=k.name?Rt.renderer.get(k.name):null,l=e?e.renderEmpty:null;M=l?l(k,{$table:t}):n.emptyText||E.i18n("vxe.table.emptyText")}return s("div",r({ref:N,class:["vxe-table--body-wrapper",a?`fixed-${a}--wrapper`:"body--wrapper"],xid:o},x&&"wheel"===T.mode?{onWheel:le}:{}),[a?v():s("div",{ref:V,class:"vxe-body--x-space"}),s("div",{ref:H,class:"vxe-body--y-space"}),s("table",{ref:F,class:"vxe-table--body",xid:o,cellspacing:0,cellpadding:0,border:0},[s("colgroup",{ref:P},d.map(((e,t)=>s("col",{name:e.id,key:t})))),s("tbody",{ref:A},Y("",0,a,h,d))]),s("div",{class:"vxe-table--checkbox-range"}),f&&$.area?s("div",{class:"vxe-table--cell-area"},[s("span",{class:"vxe-table--cell-main-area"},$.extension?[s("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){t.triggerCellExtendMousedownEvent(e,{$table:t,fixed:a,type:"body"})}})]:[]),s("span",{class:"vxe-table--cell-copy-area"}),s("span",{class:"vxe-table--cell-extend-area"}),s("span",{class:"vxe-table--cell-multi-area"}),s("span",{class:"vxe-table--cell-active-area"})]):null,a?null:s("div",{class:"vxe-table--empty-block",ref:_},[s("div",{class:"vxe-table--empty-content"},M)])])}}});const Nn=G["-webkit"]&&!G.edge;var Fn=d({name:"VxeTable",props:bo,emits:xo,setup(e,t){const{slots:l,emit:o}=t,n=Rt.tooltip,d=a.uniqueId(),h=il(e),b=S(),w=f({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selection:[],currentRow:null,currentColumn:null,selectRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandeds:[],expandLazyLoadeds:[],treeExpandeds:[],treeLazyLoadeds:[],treeIndeterminates:[],mergeList:[],mergeFooterList:[],initStore:{filter:!1,import:!1,export:!1},filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},insertList:[],removeList:[]},validStore:{visible:!1,row:null,column:null,content:"",rule:null,isArrow:!1},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1}}),C={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tooltipStore:{},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,lastScrollTime:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},tableFullData:[],afterFullData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},inited:!1,tooltipActive:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let k={},I={};const M=g(),L=g(),N=g(),A=g(),H=g(),W=g(),q=g(),Y=g(),U=g(),X=g(),Z=g(),le=g(),oe=g(),ie=g(),ce=g(),de=g(),he=g(),ge=g(),ve=g(),be=p("$xegrid",null);let ye;const Ce=u((()=>Object.assign({},E.table.validConfig,e.validConfig))),Se=u((()=>Object.assign({},E.table.scrollX,e.scrollX))),Te=u((()=>Object.assign({},E.table.scrollY,e.scrollY))),Re=u((()=>({default:48,medium:44,small:40,mini:36}))),Oe=u((()=>Object.assign({},e.columnConfig))),Ee=u((()=>Object.assign({},E.table.resizableConfig,e.resizableConfig))),ke=u((()=>Object.assign({startIndex:0},E.table.seqConfig,e.seqConfig))),Ie=u((()=>Object.assign({},E.table.radioConfig,e.radioConfig))),$e=u((()=>Object.assign({},E.table.checkboxConfig,e.checkboxConfig)));let Me=g();const De=()=>{const e=Me.value;return setTimeout((()=>{C.tooltipActive||k.closeTooltip()}),e.leaveDelay),!1};Me=u((()=>{const t=Object.assign({leaveDelay:300},E.table.tooltipConfig,e.tooltipConfig);return t.enterable&&(t.leaveMethod=De),t}));const Le=u((()=>{const e=Me.value;return Object.assign({isArrow:!1},e)})),Ne=u((()=>Object.assign({},E.table.editConfig,e.editConfig))),Fe=u((()=>Object.assign({orders:["asc","desc",null]},E.table.sortConfig,e.sortConfig))),Pe=u((()=>Object.assign({},E.table.filterConfig,e.filterConfig))),Ae=u((()=>Object.assign({},E.table.mouseConfig,e.mouseConfig))),Ve=u((()=>Object.assign({},E.table.areaConfig,e.areaConfig))),He=u((()=>Object.assign({},E.table.keyboardConfig,e.keyboardConfig))),_e=u((()=>Object.assign({},E.table.clipConfig,e.clipConfig))),je=u((()=>Object.assign({},E.table.fnrConfig,e.fnrConfig))),ze=u((()=>Object.assign({},E.table.menuConfig,e.menuConfig))),Be=u((()=>{const e=ze.value.header;return e&&e.options?e.options:[]})),We=u((()=>{const e=ze.value.body;return e&&e.options?e.options:[]})),qe=u((()=>{const e=ze.value.footer;return e&&e.options?e.options:[]})),Ye=u((()=>{const t=ze.value,l=Be.value,o=We.value,n=qe.value;return!!(e.menuConfig&&D(t)&&(l.length||o.length||n.length))})),Ue=u((()=>{const{ctxMenuStore:e}=w,t=[];return e.list.forEach((e=>{e.forEach((e=>{t.push(e)}))})),t})),Ge=u((()=>Object.assign({},E.table.exportConfig,e.exportConfig))),Xe=u((()=>Object.assign({},E.table.importConfig,e.importConfig))),Ze=u((()=>Object.assign({},E.table.printConfig,e.printConfig))),Ke=u((()=>Object.assign({},E.table.expandConfig,e.expandConfig))),Je=u((()=>Object.assign({},E.table.treeConfig,e.treeConfig))),Qe=u((()=>Object.assign({},E.table.emptyRender,e.emptyRender))),et=u((()=>e.border?Math.max(2,Math.ceil(w.scrollbarWidth/w.tableColumn.length)):1)),tt=u((()=>Object.assign({},E.table.customConfig,e.customConfig))),lt=u((()=>{const{border:t}=e;return!0===t?"full":t||"default"})),ot=u((()=>{const{tableData:e}=w,{tableFullData:t}=C,l=$e.value,{strict:o,checkMethod:n}=l;return!!o&&(!e.length&&!t.length||!!n&&t.every((e=>!n({row:e}))))})),nt={refElem:M,refTooltip:L,refValidTooltip:A,refTableFilter:H,refTableMenu:W,refTableHeader:q,refTableBody:Y,refTableFooter:U,refTableLeftHeader:X,refTableLeftBody:Z,refTableLeftFooter:le,refTableRightHeader:oe,refTableRightBody:ie,refTableRightFooter:ce,refLeftContainer:de,refRightContainer:he,refCellResizeBar:ge},rt={computeSize:h,computeValidOpts:Ce,computeSXOpts:Se,computeSYOpts:Te,computeResizableOpts:Ee,computeSeqOpts:ke,computeRadioOpts:Ie,computeCheckboxOpts:$e,computeTooltipOpts:Me,computeEditOpts:Ne,computeSortOpts:Fe,computeFilterOpts:Pe,computeMouseOpts:Ae,computeAreaOpts:Ve,computeKeyboardOpts:He,computeClipOpts:_e,computeFNROpts:je,computeHeaderMenu:Be,computeBodyMenu:We,computeFooterMenu:qe,computeIsMenu:Ye,computeMenuOpts:ze,computeExportOpts:Ge,computeImportOpts:Xe,computePrintOpts:Ze,computeExpandOpts:Ke,computeTreeOpts:Je,computeEmptyOpts:Qe,computeCustomOpts:tt,computeIsAllCheckboxDisabled:ot},at={xID:d,props:e,context:t,instance:b,reactData:w,internalData:C,getRefMaps:()=>nt,getComputeMaps:()=>rt,xegrid:be},it=(e,t,l)=>{const o=a.get(e,l),n=a.get(t,l);return!(!B(o)||!B(n))||(a.isString(o)||a.isNumber(o)?o==n:a.isEqual(o,n))},st=e=>{const t=Fe.value,{orders:l}=t,o=e.order||null,n=l.indexOf(o)+1;return l[n<l.length?n:0]},ct=e=>{const t=E.version,l=a.toStringJSON(localStorage.getItem(e)||"");return l&&l._v===t?l:{_v:t}},dt=e=>{const{fullAllDataRowIdData:t}=C;return e.filter((e=>{const l=me(at,e);return!!t[l]}))},ut=e=>{const{fullDataRowIdData:t}=C,l=[];return a.each(e,((e,o)=>{t[o]&&-1===at.findRowIndexOf(l,t[o].row)&&l.push(t[o].row)})),l},pt=(e,t)=>k.clearScroll().then((()=>{if(e||t)return C.lastScrollLeft=0,C.lastScrollTop=0,k.scrollTo(e,t)})),mt=()=>{const{visibleColumn:e}=C,t=Y.value,l=t?t.$el:null;if(l){const{scrollLeft:t,clientWidth:o}=l,n=t+o;let r=-1,a=0,i=0;for(let l=0,s=e.length;l<s&&(a+=e[l].renderWidth,-1===r&&t<a&&(r=l),!(r>=0&&(i++,a>n)));l++);return{toVisibleIndex:Math.max(0,r),visibleSize:Math.max(8,i)}}return{toVisibleIndex:0,visibleSize:8}},ft=(e,t,l)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o],{startIndex:r,endIndex:a}=t,i=n[l],s=i+n[l+"span"];i<r&&r<s&&(t.startIndex=i),i<a&&a<s&&(t.endIndex=s),t.startIndex===r&&t.endIndex===a||(o=-1)}},ht=(t,l,o)=>{if(t){const{treeConfig:n}=e,{visibleColumn:r}=C;if(n)return void V("vxe.error.noTree",["merge-footer-items"]);a.isArray(t)||(t=[t]),t.forEach((e=>{let{row:t,col:n,rowspan:i,colspan:s}=e;if(o&&a.isNumber(t)&&(t=o[t]),a.isNumber(n)&&(n=r[n]),(o?t:a.isNumber(t))&&n&&(i||s)&&(i=a.toNumber(i)||1,s=a.toNumber(s)||1,i>1||s>1)){const e=a.findIndexOf(l,(e=>!(e._row!==t&&me(at,e._row)!==me(at,t)||e._col.id!==n&&e._col.id!==n.id))),r=l[e];if(r)r.rowspan=i,r.colspan=s,r._rowspan=i,r._colspan=s;else{const e=o?at.findRowIndexOf(o,t):t,r=k.getVTColumnIndex(n);l.push({row:e,col:r,rowspan:i,colspan:s,_row:t,_col:n,_rowspan:i,_colspan:s})}}}))}},gt=(t,l,o)=>{const n=[];if(t){const{treeConfig:r}=e,{visibleColumn:i}=C;if(r)throw new Error($("vxe.error.noTree",["merge-cells"]));a.isArray(t)||(t=[t]),t.forEach((e=>{let{row:t,col:r}=e;o&&a.isNumber(t)&&(t=o[t]),a.isNumber(r)&&(r=i[r]);const s=a.findIndexOf(l,(e=>!(e._row!==t&&me(at,e._row)!==me(at,t)||e._col.id!==r&&e._col.id!==r.id)));if(s>-1){const e=l.splice(s,1);n.push(e[0])}}))}return n},vt=()=>{const{tableFullColumn:e}=C;e.forEach((e=>{e.order=null}))},bt=t=>{const{parentHeight:l}=w,o=e[t];let n=0;if(o)if("auto"===o)n=l;else{const e=at.getExcludeHeight();n=J(o)?Math.floor((a.toInteger(o)||1)/100*l):a.toNumber(o),n=Math.max(40,n-e)}return n},xt=()=>{C.customHeight=bt("height"),C.customMaxHeight=bt("maxHeight")},wt=(t,l,o)=>{let n=0;const r=l.clientWidth-1;let a=r,i=a/100;const{fit:s}=e,{columnStore:c}=w,{resizeList:d,pxMinList:u,pxList:p,scaleList:f,scaleMinList:h,autoList:g}=c;if(u.forEach((e=>{const t=parseInt(e.minWidth);n+=t,e.renderWidth=t})),h.forEach((e=>{const t=Math.floor(parseInt(e.minWidth)*i);n+=t,e.renderWidth=t})),f.forEach((e=>{const t=Math.floor(parseInt(e.width)*i);n+=t,e.renderWidth=t})),p.forEach((e=>{const t=parseInt(e.width);n+=t,e.renderWidth=t})),d.forEach((e=>{const t=parseInt(e.resizeWidth);n+=t,e.renderWidth=t})),a-=n,i=a>0?Math.floor(a/(h.length+u.length+g.length)):0,s?a>0&&h.concat(u).forEach((e=>{n+=i,e.renderWidth+=i})):i=40,g.forEach((e=>{const t=Math.max(i,40);e.renderWidth=t,n+=t})),s){const e=f.concat(h).concat(u).concat(g);let t=e.length-1;if(t>0){let l=r-n;if(l>0){for(;l>0&&t>=0;)l--,e[t--].renderWidth++;n=r}}}const v=l.offsetHeight,b=l.scrollHeight>l.clientHeight;let x=0;b&&(x=Math.max(l.offsetWidth-l.clientWidth,0)),w.scrollbarWidth=x,w.overflowY=b,C.tableWidth=n,C.tableHeight=v;let y=0;t&&(y=t.clientHeight,m((()=>{t&&l&&t.scrollLeft!==l.scrollLeft&&(t.scrollLeft=l.scrollLeft)}))),C.headerHeight=y;let S=!1,T=0,R=0;o?(T=o.offsetHeight,S=n>o.clientWidth,S&&(R=Math.max(T-o.clientHeight,0))):(S=n>r,S&&(R=Math.max(v-l.clientHeight,0))),C.footerHeight=T,w.overflowX=S,w.scrollbarHeight=R,xt(),w.parentHeight=Math.max(C.headerHeight+T+20,I.getParentHeight()),S&&I.checkScrolling()},yt=e=>{const{sortBy:t,sortType:l}=e;return o=>{let n;return n=t?a.isFunction(t)?t({row:o,column:e}):a.get(o,t):I.getCellLabel(o,e),l&&"auto"!==l?"number"===l?a.toNumber(n):"string"===l?a.toValueString(n):n:isNaN(n)?n:a.toNumber(n)}},Ct=()=>{const{afterFullData:e,fullDataRowIdData:t}=C;e.forEach(((e,l)=>{const o=me(at,e),n=t[o];n?n._index=l:t[o]={row:e,rowid:o,index:-1,$index:-1,_index:l,items:[],parent:null}}))},St=()=>{const{border:t,showFooter:l,showOverflow:o,showHeaderOverflow:n,showFooterOverflow:r,mouseConfig:i,spanMethod:s,footerSpanMethod:c,keyboardConfig:d}=e;let{isGroup:u,currentRow:p,tableColumn:f,scrollXLoad:h,scrollYLoad:g,scrollbarWidth:v,scrollbarHeight:b,columnStore:x,editStore:y,mergeList:S,mergeFooterList:T,isAllOverflow:R}=w,{fullColumnIdData:O,tableHeight:E,tableWidth:I,headerHeight:$,footerHeight:M,elemStore:D,customHeight:L,customMaxHeight:N}=C;const F=ve.value,P=et.value,A=Ae.value,V=He.value,H=D["main-body-wrapper"];return F&&(F.style.top=`${$}px`,F.style.height=H?H.offsetHeight-b+"px":""),L>0&&l&&(L+=b),["main","left","right"].forEach(((e,i)=>{const p=i>0?e:"",m="left"===p;let w,y=[];p&&(y=m?x.leftList:x.rightList,w=m?de.value:he.value),["header","body","footer"].forEach((i=>{const x=D[`${e}-${i}-wrapper`],C=D[`${e}-${i}-table`];if("header"===i){let l=I,o=!1;u||p&&(h||n)&&(o=!0),o&&(f=y),(o||h)&&(l=f.reduce(((e,t)=>e+t.renderWidth),0)),C&&(C.style.width=l?`${l+v}px`:"",G.msie&&a.arrayEach(C.querySelectorAll(".vxe-resizable"),(e=>{e.style.height=`${e.parentNode.offsetHeight}px`})));const r=D[`${e}-${i}-repair`];r&&(r.style.width=`${I}px`);const s=D[`${e}-${i}-list`];u&&s&&a.arrayEach(s.querySelectorAll(".col--group"),(e=>{const l=k.getColumnNode(e);if(l){const o=l.item,{showHeaderOverflow:r}=o,i=a.isBoolean(r)?r:n,s="ellipsis"===i,c=!0===i||"tooltip"===i,d="title"===i||c||s;let u=0,p=0;d&&a.eachTree(o.children,(e=>{e.children&&o.children.length||p++,u+=e.renderWidth})),e.style.width=d?u-p-(t?2:0)+"px":""}}))}else if("body"===i){const t=D[`${e}-${i}-emptyBlock`];x&&(N?x.style.maxHeight=(p?N-$-(l?0:b):N-$)+"px":x.style.height=L>0?(p?(L>0?L-$-M:E)-(l?0:b):L-$-M)+"px":""),w&&(x&&(x.style.top=`${$}px`),w.style.height=(L>0?L-$-M:E)+$+M-b*(l?2:1)+"px",w.style.width=`${y.reduce(((e,t)=>e+t.renderWidth),m?0:v)}px`);let n=I,r=!1;p&&(S.length||s||d&&V.isMerge||!(h||g||(o?R:o))||(r=!0)),r&&(f=y),(r||h)&&(n=f.reduce(((e,t)=>e+t.renderWidth),0)),C&&(C.style.width=n?`${n}px`:"",C.style.paddingRight=v&&p&&(G["-moz"]||G.safari)?`${v}px`:""),t&&(t.style.width=n?`${n}px`:"")}else if("footer"===i){let e=I,t=!1;p&&(T.length&&c||!h&&!r||(t=!0)),t&&(f=y),(t||h)&&(e=f.reduce(((e,t)=>e+t.renderWidth),0)),x&&(w&&(x.style.top=`${L>0?L-M:E+$}px`),x.style.marginTop=-Math.max(1,b)+"px"),C&&(C.style.width=e?`${e+v}px`:"")}const F=D[`${e}-${i}-colgroup`];F&&a.arrayEach(F.children,(t=>{const l=t.getAttribute("name");if("col_gutter"===l&&(t.style.width=`${v}px`),O[l]){const s=O[l].column,{showHeaderOverflow:c,showFooterOverflow:d,showOverflow:u}=s;let p;t.style.width=`${s.renderWidth}px`,p="header"===i?a.isUndefined(c)||a.isNull(c)?n:c:"footer"===i?a.isUndefined(d)||a.isNull(d)?r:d:a.isUndefined(u)||a.isNull(u)?o:u;const m="ellipsis"===p,f=!0===p||"tooltip"===p;let v="title"===p||f||m;const b=D[`${e}-${i}-list`];"header"===i||"footer"===i?h&&!v&&(v=!0):!h&&!g||v||(v=!0),b&&a.arrayEach(b.querySelectorAll(`.${s.id}`),(e=>{const t=parseInt(e.getAttribute("colspan")||1),l=e.querySelector(".vxe-cell");let o=s.renderWidth;if(l){if(t>1){const e=k.getColumnIndex(s);for(let l=1;l<t;l++){const t=k.getColumns(e+l);t&&(o+=t.renderWidth)}}l.style.width=v?o-P*t+"px":""}}))}}))}))})),p&&k.setCurrentRow(p),i&&A.selected&&y.selected.row&&y.selected.column&&at.addCellSelectedClass(),m()},Tt=e=>at.triggerValidate?at.triggerValidate(e):m(),Ot=(e,t)=>{Tt("blur").catch((e=>e)).then((()=>{at.handleActived(t,e).then((()=>Tt("change"))).catch((e=>e))}))},Et=(e,t)=>{const{checkboxReserveRowMap:l}=C;if($e.value.reserve){const o=me(at,e);t?l[o]=e:l[o]&&delete l[o]}},kt=e=>{const{treeExpandeds:t,treeLazyLoadeds:l}=w,{fullAllDataRowIdData:o}=C,n=Je.value,r=$e.value,{loadMethod:i}=n,{checkStrictly:s}=r,c=o[me(at,e)];return new Promise((o=>{i?(l.push(e),i({$table:at,row:e}).catch((()=>[])).then((n=>{c.treeLoaded=!0,a.remove(l,(t=>t===e)),a.isArray(n)||(n=[]),n&&k.loadChildren(e,n).then((l=>{l.length&&-1===at.findRowIndexOf(t,e)&&t.push(e),!s&&k.isCheckedByCheckboxRow(e)&&k.setCheckboxRow(l,!0)})),o(m().then((()=>k.recalculate())))}))):o()}))},It=(e,t)=>{const{treeExpandedReserveRowMap:l}=C;if(Je.value.reserve){const o=me(at,e);t?l[o]=e:l[o]&&delete l[o]}},$t=e=>{const{rowExpandeds:t,expandLazyLoadeds:l}=w,{fullAllDataRowIdData:o}=C,n=o[me(at,e)];return new Promise((o=>{const r=Ke.value,{loadMethod:i}=r;i?(l.push(e),i({$table:at,row:e,rowIndex:k.getRowIndex(e),$rowIndex:k.getVMRowIndex(e)}).catch((e=>e)).then((()=>{n.expandLoaded=!0,a.remove(l,(t=>t===e)),t.push(e),o(m().then((()=>k.recalculate())))}))):o()}))},Mt=(e,t)=>{const{rowExpandedReserveRowMap:l}=C;if(Ke.value.reserve){const o=me(at,e);t?l[o]=e:l[o]&&delete l[o]}},Dt=()=>m().then((()=>{const{scrollXLoad:e,scrollYLoad:t}=w,{scrollXStore:l,scrollYStore:o}=C,n=Te.value,r=Se.value;if(e){const{visibleSize:e}=mt(),t=r.oSize?a.toNumber(r.oSize):G.msie?10:G.edge?5:0;l.offsetSize=t,l.visibleSize=e,l.endIndex=Math.max(l.startIndex+l.visibleSize+t,l.endIndex),I.updateScrollXData()}else I.updateScrollXSpace();const{rowHeight:i,visibleSize:s}=(()=>{const e=q.value,t=Y.value,l=t?t.$el:null,o=h.value,n=Re.value;if(l){const t=e?e.$el:null;let r,a=0;return r=l.querySelector("tr"),!r&&t&&(r=t.querySelector("tr")),r&&(a=r.clientHeight),a||(a=n[o||"default"]),{rowHeight:a,visibleSize:Math.max(8,Math.ceil(l.clientHeight/a)+2)}}return{rowHeight:0,visibleSize:8}})();if(o.rowHeight=i,t){const e=n.oSize?a.toNumber(n.oSize):G.msie?20:G.edge?10:0;o.offsetSize=e,o.visibleSize=s,o.endIndex=Math.max(o.startIndex+s+e,o.endIndex),I.updateScrollYData()}else I.updateScrollYSpace();w.rowHeight=i,m(St)})),Lt=t=>{const{keepSource:l,treeConfig:o}=e,{editStore:n,scrollYLoad:r}=w,{scrollYStore:i,scrollXStore:s,lastScrollLeft:c,lastScrollTop:d}=C,u=Te.value,p=t?t.slice(0):[],f=!o&&u.enabled&&u.gt>-1&&u.gt<p.length;return i.startIndex=0,i.endIndex=1,s.startIndex=0,s.endIndex=1,n.insertList=[],n.removeList=[],C.tableFullData=p,I.updateCache(!0),C.tableSynchData=t,l&&(C.tableSourceData=a.clone(p,!0)),w.scrollYLoad=f,at.clearCellAreas&&e.mouseConfig&&(at.clearCellAreas(),at.clearCopyCellArea()),k.clearMergeCells(),k.clearMergeFooterItems(),I.handleTableData(!0),k.updateFooter(),m().then((()=>{xt(),St()})).then((()=>{Dt()})).then((()=>(f&&(i.endIndex=i.visibleSize),(()=>{const{treeConfig:t}=e,{expandColumn:l,currentRow:o,selectRow:n,selection:r,rowExpandeds:a,treeExpandeds:i}=w,{fullDataRowIdData:s,fullAllDataRowIdData:c,radioReserveRow:d}=C,u=Ke.value,p=Je.value,m=Ie.value,f=$e.value;if(n&&!c[me(at,n)]&&(w.selectRow=null),m.reserve&&d){const e=me(at,d);s[e]&&k.setRadioRow(s[e].row)}w.selection=dt(r),f.reserve&&k.setCheckboxRow(ut(C.checkboxReserveRowMap),!0),o&&!c[me(at,o)]&&(w.currentRow=null),w.rowExpandeds=l?dt(a):[],l&&u.reserve&&k.setRowExpand(ut(C.rowExpandedReserveRowMap),!0),w.treeExpandeds=t?dt(i):[],t&&p.reserve&&k.setTreeExpand(ut(C.treeExpandedReserveRowMap),!0)})(),I.checkSelectionStatus(),new Promise((e=>{m().then((()=>k.recalculate())).then((()=>{r===f?pt(c,d).then(e):setTimeout((()=>pt(c,d).then(e)))}))})))))},Nt=()=>{(()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:e}=C,t=$e.value,{checkAll:l,checkRowKeys:o}=t;if(l)k.setAllCheckboxRow(!0);else if(o){const t=[];o.forEach((l=>{e[l]&&t.push(e[l].row)})),k.setCheckboxRow(t,!0)}}})(),(()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:e}=C,t=Ie.value,{checkRowKey:l,reserve:o}=t;if(l&&(e[l]&&k.setRadioRow(e[l].row),o)){const e=pe(at);C.radioReserveRow={[e]:l}}}})(),(()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:e}=C,t=Ke.value,{expandAll:l,expandRowKeys:o}=t;if(l)k.setAllRowExpand(!0);else if(o){const t=[];o.forEach((l=>{e[l]&&t.push(e[l].row)})),k.setRowExpand(t,!0)}}})(),(()=>{const{treeConfig:t}=e;if(t){const{tableFullData:e}=C,t=Je.value,{expandAll:l,expandRowKeys:o}=t;if(l)k.setAllTreeExpand(!0);else if(o){const l=[],n=pe(at);o.forEach((o=>{const r=a.findTree(e,(e=>o===a.get(e,n)),t);r&&l.push(r.item)})),k.setTreeExpand(l,!0)}}})(),(()=>{const{mergeCells:t}=e;t&&k.setMergeCells(t)})(),(()=>{const{mergeFooterItems:t}=e;t&&k.setMergeFooterItems(t)})(),m((()=>setTimeout((()=>k.recalculate()))))},Ut=()=>{(()=>{const{sortConfig:t}=e;if(t){const e=Fe.value;let{defaultSort:l}=e;l&&(a.isArray(l)||(l=[l]),l.length&&((t.multiple?l:l.slice(0,1)).forEach((e=>{const{field:t,order:l}=e;if(t&&l){const e=k.getColumnByField(t);e&&e.sortable&&(e.order=l)}})),e.remote||I.handleTableData(!0).then(St)))}})()},Gt=()=>{const{scrollXLoad:e}=w,{visibleColumn:t,scrollXStore:l,fullColumnIdData:o}=C,n=e?t.slice(l.startIndex,l.endIndex):t.slice(0);n.forEach(((e,t)=>{const l=e.id,n=o[l];n&&(n.$index=t)})),w.tableColumn=n},Xt=()=>{const{mergeList:e,mergeFooterList:t}=w,{scrollXStore:l}=C,{startIndex:o,endIndex:n,offsetSize:r}=l,{toVisibleIndex:a,visibleSize:i}=mt(),s={startIndex:Math.max(0,a-1-r),endIndex:a+i+r};ft(e.concat(t),s,"col");const{startIndex:c,endIndex:d}=s;(a<=o||a>=n-i-1)&&(o===c&&n===d||(l.startIndex=c,l.endIndex=d,I.updateScrollXData())),k.closeTooltip()},Zt=e=>{const t=[];return e.forEach((e=>{t.push(...e.children&&e.children.length?Zt(e.children):[e])})),t},Kt=()=>{const e=[],t=[],l=[],{isGroup:o,columnStore:n}=w,r=Se.value,{collectColumn:i,tableFullColumn:s,scrollXStore:c,fullColumnIdData:d}=C;if(o){const o=[],n=[],r=[];a.eachTree(i,((o,n,r,i,s)=>{const c=_(o);s&&s.fixed&&(o.fixed=s.fixed),s&&o.fixed!==s.fixed&&V("vxe.error.groupFixed"),c?o.visible=!!a.findTree(o.children,(e=>!_(e)&&e.visible)):o.visible&&("left"===o.fixed?e.push(o):"right"===o.fixed?l.push(o):t.push(o))})),i.forEach((e=>{e.visible&&("left"===e.fixed?o.push(e):"right"===e.fixed?r.push(e):n.push(e))})),w.tableGroupColumn=o.concat(n).concat(r)}else s.forEach((o=>{o.visible&&("left"===o.fixed?e.push(o):"right"===o.fixed?l.push(o):t.push(o))}));const u=e.concat(t).concat(l);let p=r.enabled&&r.gt>-1&&r.gt<s.length;if(w.hasFixedColumn=e.length>0||l.length>0,Object.assign(n,{leftList:e,centerList:t,rightList:l}),p&&o&&(p=!1),p){const{visibleSize:e}=mt();c.startIndex=0,c.endIndex=e,c.visibleSize=e}return u.length===C.visibleColumn.length&&C.visibleColumn.every(((e,t)=>e===u[t]))||(k.clearMergeCells(),k.clearMergeFooterItems()),w.scrollXLoad=p,u.forEach(((e,t)=>{const l=e.id,o=d[l];o&&(o._index=t)})),C.visibleColumn=u,Gt(),k.updateFooter().then((()=>k.recalculate())).then((()=>(I.updateCellAreas(),k.recalculate())))},Qt=t=>{C.collectColumn=t;const l=Zt(t);C.tableFullColumn=l,(()=>{const{tableFullColumn:t,collectColumn:l}=C,o=C.fullColumnIdData={},n=C.fullColumnFieldData={},r=l.some(_);let i,s,c=!!e.showOverflow;const d=(e,t,l,r,a)=>{const{id:d,property:u,fixed:p,type:m,treeNode:f}=e,h={column:e,colid:d,index:t,items:l,parent:a};u&&(n[u]=h),f?s||(s=e):"expand"===m&&(i||(i=e)),c&&!1===e.showOverflow&&(c=!1),o[d]&&V("vxe.error.colRepet",["colId",d]),o[d]=h};r?a.eachTree(l,((e,t,l,o,n,r)=>{e.level=r.length,d(e,t,l,0,n)})):t.forEach(d),w.isGroup=r,w.treeNodeColumn=s,w.expandColumn=i,w.isAllOverflow=c})(),(()=>{const{id:t,customConfig:l}=e,{collectColumn:o}=C,n=tt.value,{storage:r}=n,i=!0===r||r&&r.resizable,s=!0===r||r&&r.visible;if(l&&(i||s)){const e={};if(!t)return void V("vxe.error.reqProp",["id"]);if(i){const l=ct("VXE_TABLE_CUSTOM_COLUMN_WIDTH")[t];l&&a.each(l,((t,l)=>{e[l]={field:l,resizeWidth:t}}))}if(s){const l=ct("VXE_TABLE_CUSTOM_COLUMN_VISIBLE")[t];if(l){const t=l.split("|"),o=t[0]?t[0].split(","):[],n=t[1]?t[1].split(","):[];o.forEach((t=>{e[t]?e[t].visible=!1:e[t]={field:t,visible:!1}})),n.forEach((t=>{e[t]?e[t].visible=!0:e[t]={field:t,visible:!0}}))}}const l={};a.eachTree(o,(e=>{const t=e.getKey();t&&(l[t]=e)})),a.each(e,(({visible:e,resizeWidth:t},o)=>{const n=l[o];n&&(a.isNumber(t)&&(n.resizeWidth=t),a.isBoolean(e)&&(n.visible=e))}))}})(),Kt().then((()=>{w.scrollXLoad&&Xt()})),k.clearMergeCells(),k.clearMergeFooterItems(),I.handleTableData(!0),m((()=>{ye&&ye.syncUpdate({collectColumn:t,$table:at})}))},tl=e=>{const{mergeList:t}=w,{scrollYStore:l}=C,{startIndex:o,endIndex:n,visibleSize:r,offsetSize:a,rowHeight:i}=l,s=(e.currentTarget||e.target).scrollTop,c=Math.floor(s/i),d={startIndex:Math.max(0,c-1-a),endIndex:c+r+a};ft(t,d,"row");const{startIndex:u,endIndex:p}=d;(c<=o||c>=n-r-1)&&(o===u&&n===p||(l.startIndex=u,l.endIndex=p,I.updateScrollYData()))},ll=a.debounce((function(e){tl(e)}),20,{leading:!1,trailing:!0});let ol;k={dispatchEvent(e,t,l){o(e,Object.assign({$table:at,$event:l},t))},clearAll:()=>function(e){return e.clearFilter&&e.clearFilter(),function(e){const{props:t,internalData:l}=e;return l.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}(e)}(at),syncData:()=>m().then((()=>(w.tableData=[],o("update:data",C.tableFullData),m()))),updateData:()=>I.handleTableData(!0).then(k.updateFooter).then((()=>k.recalculate())),loadData(e){const{inited:t,initStatus:l}=C;return Lt(e).then((()=>(C.inited=!0,C.initStatus=!0,l||Nt(),t||Ut(),k.recalculate())))},reloadData(e){const{inited:t}=C;return k.clearAll().then((()=>(C.inited=!0,C.initStatus=!0,Lt(e)))).then((()=>(Nt(),t||Ut(),k.recalculate())))},reloadRow(t,l,o){const{keepSource:n}=e,{tableData:r}=w,{tableSourceData:i}=C;if(n){const e=k.getRowIndex(t),n=i[e];n&&t&&(o?a.set(n,o,a.get(l||t,o)):l?(i[e]=l,a.clear(t,void 0),Object.assign(t,I.defineField(Object.assign({},l))),I.updateCache(!0)):a.destructuring(n,a.clone(t,!0))),w.tableData=r.slice(0)}return m()},loadChildren(t,l){return this.createData(l).then((l=>{const{keepSource:o}=e,{fullDataRowIdData:n,fullAllDataRowIdData:r}=C,{tableSourceData:i}=C,s=Je.value,{children:c}=s;if(o){const e=me(at,t),o=a.findTree(i,(t=>e===me(at,t)),s);o&&(o.item[c]=a.clone(l,!0))}return a.eachTree(l,((e,t,l,o,a)=>{const i=me(at,e),s={row:e,rowid:i,index:-1,_index:-1,$index:-1,items:l,parent:a};n[i]=s,r[i]=s}),s),t[c]=l,l}))},loadColumn(e){const t=a.mapTree(e,(e=>po.createColumn(at,e)));return Qt(t),m()},reloadColumn:e=>k.clearAll().then((()=>k.loadColumn(e))),getRowNode(e){if(e){const{fullAllDataRowIdData:t}=C,l=e.getAttribute("rowid");if(l){const e=t[l];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=C,l=e.getAttribute("colid");if(l){const e=t[l];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowIndex(e){const{fullDataRowIdData:t}=C;if(e){const l=t[me(at,e)];if(l)return l.index}return-1},getVTRowIndex(e){const{fullDataRowIdData:t}=C;if(e){const l=t[me(at,e)];if(l)return l._index}return-1},getVMRowIndex(e){const{fullDataRowIdData:t}=C;if(e){const l=t[me(at,e)];if(l)return l.$index}return-1},getColumnIndex(e){const{fullColumnIdData:t}=C;if(e){const l=t[e.id];if(l)return l.index}return-1},getVTColumnIndex(e){const{fullColumnIdData:t}=C;if(e){const l=t[e.id];if(l)return l._index}return-1},getVMColumnIndex(e){const{fullColumnIdData:t}=C;if(e){const l=t[e.id];if(l)return l.$index}return-1},createData(t){const{treeConfig:l}=e,o=Je.value,n=e=>I.defineField(Object.assign({},e)),r=l?a.mapTree(t,n,o):t.map(n);return m().then((()=>r))},createRow(e){const t=a.isArray(e);return t||(e=[e]),m().then((()=>k.createData(e).then((e=>t?e:e[0]))))},revertData(t,l){const{keepSource:o}=e,{tableSourceData:n,tableFullData:r}=C;if(!o)return m();let i=t;return t?a.isArray(t)||(i=[t]):i=a.toArray(at.getUpdateRecords()),i.length&&i.forEach((e=>{if(!k.isInsertByRow(e)){const t=at.findRowIndexOf(r,e),o=n[t];o&&e&&(l?a.set(e,l,a.clone(a.get(o,l),!0)):a.destructuring(e,a.clone(o,!0)))}})),t?m():k.reloadData(n)},clearData(e,t){const{tableFullData:l,visibleColumn:o}=C;return arguments.length?e&&!a.isArray(e)&&(e=[e]):e=l,t?e.forEach((e=>a.set(e,t,null))):e.forEach((e=>{o.forEach((t=>{t.property&&we(e,t,null)}))})),m()},isInsertByRow(e){const{editStore:t}=w;return at.findRowIndexOf(t.insertList,e)>-1},isUpdateByRow(t,l){const{keepSource:o,treeConfig:n}=e,{visibleColumn:r,tableSourceData:i,fullDataRowIdData:s}=C,c=Je.value;if(o){let e,o;const d=me(at,t);if(!s[d])return!1;if(n){const l=c.children,o=a.findTree(i,(e=>d===me(at,e)),c);t=Object.assign({},t,{[l]:null}),o&&(e=Object.assign({},o.item,{[l]:null}))}else{e=i[s[d].index]}if(e){if(arguments.length>1)return!it(e,t,l);for(let l=0,n=r.length;l<n;l++)if(o=r[l].property,o&&!it(e,t,o))return!0}}return!1},getColumns(e){const t=C.visibleColumn;return a.isUndefined(e)?t.slice(0):t[e]},getColumnById(e){const t=C.fullColumnIdData;return t[e]?t[e].column:null},getColumnByField(e){const t=C.fullColumnFieldData;return t[e]?t[e].column:null},getTableColumn:()=>({collectColumn:C.collectColumn.slice(0),fullColumn:C.tableFullColumn.slice(0),visibleColumn:C.visibleColumn.slice(0),tableColumn:w.tableColumn.slice(0)}),getData(t){const l=e.data||C.tableSynchData;return a.isUndefined(t)?l.slice(0):l[t]},getCheckboxRecords(){const{treeConfig:t}=e,{tableFullData:l}=C,o=Je.value,n=$e.value,{checkField:r}=n;let i=[];if(r)i=t?a.filterTree(l,(e=>a.get(e,r)),o):l.filter((e=>a.get(e,r)));else{const{selection:e}=w;i=t?a.filterTree(l,(t=>at.findRowIndexOf(e,t)>-1),o):l.filter((t=>at.findRowIndexOf(e,t)>-1))}return i},getRowById(e){const{fullDataRowIdData:t}=C;return t[e]?t[e].row:null},getRowid:e=>me(at,e),getTableData(){const{tableData:e,footerTableData:t}=w,{tableFullData:l,afterFullData:o}=C;return{fullData:l.slice(0),visibleData:o.slice(0),tableData:e.slice(0),footerData:t.slice(0)}},hideColumn(e){const t=fe(at,e);return t&&(t.visible=!1),I.handleCustom()},showColumn(e){const t=fe(at,e);return t&&(t.visible=!0),I.handleCustom()},resetColumn(e){const{tableFullColumn:t}=C,l=tt.value,{checkMethod:o}=l,n=Object.assign({visible:!0,resizable:!0===e},e);return t.forEach((e=>{n.resizable&&(e.resizeWidth=0),o&&!o({column:e})||(e.visible=e.defaultVisible)})),n.resizable&&I.saveCustomResizable(!0),I.handleCustom()},refreshColumn:()=>Kt().then((()=>k.refreshScroll())).then((()=>k.recalculate())),refreshScroll(){const{lastScrollLeft:e,lastScrollTop:t}=C,l=Y.value,o=U.value,n=Z.value,r=ie.value,a=l?l.$el:null,i=n?n.$el:null,s=r?r.$el:null,c=o?o.$el:null;return e||t?pt(e,t):(re(a,t),re(i,t),re(s,t),ae(c,e),m())},recalculate(e){const t=q.value,l=Y.value,o=U.value,n=l?l.$el:null,r=t?t.$el:null,a=o?o.$el:null;return n&&(wt(r,n,a),!0===e)?Dt().then((()=>(wt(r,n,a),Dt()))):Dt()},openTooltip(e,t){const l=N.value;return l?l.open(e,t):m()},closeTooltip(){const{tooltipStore:e}=C,t=L.value,l=N.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1}),t&&t.close()),l&&l.close(),m()},isAllCheckboxChecked:()=>w.isAllSelected,isCheckboxIndeterminate:()=>!w.isAllSelected&&w.isIndeterminate,getCheckboxIndeterminateRecords(){const{treeConfig:t}=e,{treeIndeterminates:l}=w;return t?l.slice(0):[]},setCheckboxRow:(e,t)=>(e&&!a.isArray(e)&&(e=[e]),e.forEach((e=>I.handleSelectRow({row:e},!!t))),m()),isCheckedByCheckboxRow(e){const{selection:t}=w,l=$e.value,{checkField:o}=l;return o?a.get(e,o):at.findRowIndexOf(t,e)>-1},toggleCheckboxRow:e=>(I.handleToggleCheckRowEvent(null,{row:e}),m()),setAllCheckboxRow(t){const{treeConfig:l}=e,{selection:o}=w,{afterFullData:n,checkboxReserveRowMap:r}=C,i=Je.value,s=$e.value,{checkField:c,reserve:d,checkStrictly:u,checkMethod:p}=s;let f=[];const h=l?[]:o.filter((e=>-1===at.findRowIndexOf(n,e)));if(u)w.isAllSelected=t;else{if(c){const e=e=>{p&&!p({row:e})||(t&&f.push(e),a.set(e,c,t))};l?a.eachTree(n,e,i):n.forEach(e)}else l?t?a.eachTree(n,(e=>{p&&!p({row:e})||f.push(e)}),i):p&&a.eachTree(n,(e=>{!p({row:e})&&at.findRowIndexOf(o,e)>-1&&f.push(e)}),i):t?f=p?n.filter((e=>at.findRowIndexOf(o,e)>-1||p({row:e}))):n.slice(0):p&&(f=n.filter((e=>p({row:e})?0:at.findRowIndexOf(o,e)>-1)));d&&(t?f.forEach((e=>{r[me(at,e)]=e})):n.forEach((e=>Et(e,!1)))),w.selection=c?[]:h.concat(f)}return w.treeIndeterminates=[],I.checkSelectionStatus(),m()},getRadioReserveRecord(){const{fullDataRowIdData:e,radioReserveRow:t}=C;return Ie.value.reserve&&t&&!e[me(at,t)]?t:null},clearRadioReserve:()=>(C.radioReserveRow=null,m()),getCheckboxReserveRecords(){const{fullDataRowIdData:e,checkboxReserveRowMap:t}=C,l=$e.value,o=[];return l.reserve&&a.each(t,((t,l)=>{t&&!e[l]&&o.push(t)})),o},clearCheckboxReserve:()=>(C.checkboxReserveRowMap={},m()),toggleAllCheckboxRow:()=>(I.triggerCheckAllEvent(null,!w.isAllSelected),m()),clearCheckboxRow(){const{treeConfig:t}=e,{tableFullData:l}=C,o=Je.value,n=$e.value,{checkField:r,reserve:i}=n;return r&&(t?a.eachTree(l,(e=>a.set(e,r,!1)),o):l.forEach((e=>a.set(e,r,!1)))),i&&l.forEach((e=>Et(e,!1))),w.isAllSelected=!1,w.isIndeterminate=!1,w.selection=[],w.treeIndeterminates=[],m()},setCurrentRow(t){const l=M.value;return k.clearCurrentRow(),k.clearCurrentColumn(),w.currentRow=t,e.highlightCurrentRow&&l&&a.arrayEach(l.querySelectorAll(`[rowid="${me(at,t)}"]`),(e=>te(e,"row--current"))),m()},isCheckedByRadioRow:e=>w.selectRow===e,setRadioRow(e){const t=Ie.value,{checkMethod:l}=t;return!e||l&&!l({row:e})||(w.selectRow=e,(e=>{Ie.value.reserve&&(C.radioReserveRow=e)})(e)),m()},clearCurrentRow(){const e=M.value;return w.currentRow=null,C.hoverRow=null,e&&a.arrayEach(e.querySelectorAll(".row--current"),(e=>ee(e,"row--current"))),m()},clearRadioRow:()=>(w.selectRow=null,m()),getCurrentRecord:()=>e.highlightCurrentRow?w.currentRow:null,getRadioRecord:()=>w.selectRow,getCurrentColumn:()=>e.highlightCurrentColumn?w.currentColumn:null,setCurrentColumn(e){const t=fe(at,e);return t&&(k.clearCurrentRow(),k.clearCurrentColumn(),w.currentColumn=t),m()},clearCurrentColumn:()=>(w.currentColumn=null,m()),sort(e,t){const l=Fe.value,{multiple:o,remote:n,orders:r}=l;return e&&a.isString(e)&&(e=[{field:e,order:t}]),a.isArray(e)||(e=[e]),e.length?(o||vt(),(o?e:[e[0]]).forEach((e=>{let{field:t,order:l}=e,o=t;a.isString(t)&&(o=k.getColumnByField(t)),o&&o.sortable&&(-1===r.indexOf(l)&&(l=st(o)),o.order!==l&&(o.order=l),o.sortTime=Date.now())})),n||I.handleTableData(!0),m().then(St)):m()},clearSort(e){const t=Fe.value;if(e){const t=fe(at,e);t&&(t.order=null)}else vt();return t.remote?m():I.handleTableData(!0)},isSort(e){if(e){const t=fe(at,e);return!!t&&(t.sortable&&!!t.order)}return k.getSortColumns().length>0},getSortColumns(){const e=[],{tableFullColumn:t}=C;return t.forEach((t=>{const{order:l}=t;t.sortable&&l&&e.push({column:t,property:t.property,order:l})})),e},closeFilter(){const{filterStore:e}=w;return Object.assign(e,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),m()},isFilter(e){const t=fe(at,e);return t?t.filters&&t.filters.some((e=>e.checked)):at.getCheckedFilters().length>0},isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=C,l=t[me(at,e)];return l&&!!l.expandLoaded},clearRowExpandLoaded(e){const{expandLazyLoadeds:t}=w,{fullAllDataRowIdData:l}=C,o=Ke.value,{lazy:n}=o,r=l[me(at,e)];return n&&r&&(r.expandLoaded=!1,a.remove(t,(t=>e===t))),m()},reloadExpandContent(e){const{expandLazyLoadeds:t}=w,l=Ke.value,{lazy:o}=l;return o&&-1===at.findRowIndexOf(t,e)&&k.clearRowExpandLoaded(e).then((()=>$t(e))),m()},toggleRowExpand:e=>k.setRowExpand(e,!k.isExpandByRow(e)),setAllRowExpand(e){const t=Ke.value;return k.setRowExpand(t.lazy?w.tableData:C.tableFullData,e)},setRowExpand(e,t){let{rowExpandeds:l,expandLazyLoadeds:o,expandColumn:n}=w;const{fullAllDataRowIdData:r}=C,i=Ke.value,{reserve:s,lazy:c,accordion:d,toggleMethod:u}=i,p=[],m=k.getColumnIndex(n),f=k.getVMColumnIndex(n);if(e){a.isArray(e)||(e=[e]),d&&(l=[],e=e.slice(e.length-1,e.length));const i=u?e.filter((e=>u({$table:at,expanded:t,column:n,columnIndex:m,$columnIndex:f,row:e,rowIndex:k.getRowIndex(e),$rowIndex:k.getVMRowIndex(e)}))):e;t?i.forEach((e=>{if(-1===at.findRowIndexOf(l,e)){const t=r[me(at,e)];c&&!t.expandLoaded&&-1===at.findRowIndexOf(o,e)?p.push($t(e)):l.push(e)}})):a.remove(l,(e=>at.findRowIndexOf(i,e)>-1)),s&&i.forEach((e=>Mt(e,t)))}return w.rowExpandeds=l,Promise.all(p).then((()=>k.recalculate()))},isExpandByRow(e){const{rowExpandeds:t}=w;return at.findRowIndexOf(t,e)>-1},clearRowExpand(){const{rowExpandeds:e}=w,{tableFullData:t}=C,l=Ke.value,{reserve:o}=l,n=e.length;return w.rowExpandeds=[],o&&t.forEach((e=>Mt(e,!1))),m().then((()=>{n&&k.recalculate()}))},clearRowExpandReserve:()=>(C.rowExpandedReserveRowMap={},m()),getRowExpandRecords:()=>w.rowExpandeds.slice(0),getTreeExpandRecords:()=>w.treeExpandeds.slice(0),isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=C,l=t[me(at,e)];return l&&!!l.treeLoaded},clearTreeExpandLoaded(e){const{treeExpandeds:t}=w,{fullAllDataRowIdData:l}=C,o=Je.value,{lazy:n}=o,r=l[me(at,e)];return n&&r&&(r.treeLoaded=!1,a.remove(t,(t=>e===t))),m()},reloadTreeChilds(e){const{treeLazyLoadeds:t}=w,l=Je.value,{lazy:o,hasChild:n}=l;return o&&e[n]&&-1===at.findRowIndexOf(t,e)&&k.clearTreeExpandLoaded(e).then((()=>kt(e))),m()},toggleTreeExpand:e=>k.setTreeExpand(e,!k.isTreeExpandByRow(e)),setAllTreeExpand(e){const{tableFullData:t}=C,l=Je.value,{lazy:o,children:n}=l,r=[];return a.eachTree(t,(e=>{const t=e[n];(o||t&&t.length)&&r.push(e)}),l),k.setTreeExpand(r,e)},setTreeExpand(e,t){const{treeExpandeds:l,treeLazyLoadeds:o,treeNodeColumn:n}=w,{fullAllDataRowIdData:r,tableFullData:i}=C,s=Je.value,{reserve:c,lazy:d,hasChild:u,children:p,accordion:f,toggleMethod:h}=s,g=[],v=k.getColumnIndex(n),b=k.getVMColumnIndex(n);if(e&&(a.isArray(e)||(e=[e]),e.length)){let m=h?e.filter((e=>h({$table:at,expanded:t,column:n,columnIndex:v,$columnIndex:b,row:e}))):e;if(f){m=m.length?[m[m.length-1]]:[];const e=a.findTree(i,(e=>e===m[0]),s);e&&a.remove(l,(t=>e.items.indexOf(t)>-1))}return t?m.forEach((e=>{if(-1===at.findRowIndexOf(l,e)){const t=r[me(at,e)];d&&e[u]&&!t.treeLoaded&&-1===at.findRowIndexOf(o,e)?g.push(kt(e)):e[p]&&e[p].length&&l.push(e)}})):a.remove(l,(e=>at.findRowIndexOf(m,e)>-1)),c&&m.forEach((e=>It(e,t))),Promise.all(g).then((()=>k.recalculate()))}return m()},isTreeExpandByRow(e){const{treeExpandeds:t}=w;return at.findRowIndexOf(t,e)>-1},clearTreeExpand(){const{treeExpandeds:e}=w,{tableFullData:t}=C,l=Je.value,{reserve:o}=l,n=e.length;return w.treeExpandeds=[],o&&a.eachTree(t,(e=>It(e,!1)),l),m().then((()=>{n&&k.recalculate()}))},clearTreeExpandReserve:()=>(C.treeExpandedReserveRowMap={},m()),getScroll(){const{scrollXLoad:e,scrollYLoad:t}=w,l=Y.value.$el;return{virtualX:e,virtualY:t,scrollTop:l.scrollTop,scrollLeft:l.scrollLeft}},scrollTo(e,t){const l=Y.value,o=U.value,n=ie.value,r=l?l.$el:null,i=n?n.$el:null,s=o?o.$el:null;return a.isNumber(e)&&ae(s||r,e),a.isNumber(t)&&re(i||r,t),w.scrollXLoad||w.scrollYLoad?new Promise((e=>setTimeout((()=>e(m())),50))):m()},scrollToRow(t,l){const o=[];return t&&(e.treeConfig?o.push(I.scrollToTreeRow(t)):o.push(function(e,t){const{reactData:l,internalData:o}=e,{refTableBody:n}=e.getRefMaps(),{scrollYLoad:r}=l,{afterFullData:a,scrollYStore:i}=o,s=n.value.$el,c=s.querySelector(`[rowid="${me(e,t)}"]`);if(c){const t=s.clientHeight,l=s.scrollTop,o=c.offsetParent,n=c.offsetTop+(o?o.offsetTop:0),r=c.clientHeight;if(n<l||n>l+t)return e.scrollTo(null,n);if(n+r>=t+l)return e.scrollTo(null,l+r)}else if(r)return e.scrollTo(null,(a.indexOf(t)-1)*i.rowHeight);return Promise.resolve()}(at,t))),l&&o.push(k.scrollToColumn(l)),Promise.all(o)},scrollToColumn(e){const{fullColumnIdData:t}=C,l=fe(at,e);return l&&t[l.id]?function(e,t){const{reactData:l,internalData:o}=e,{refTableBody:n}=e.getRefMaps(),{scrollXLoad:r}=l,{visibleColumn:a}=o,i=n.value.$el,s=i.querySelector(`.${t.id}`);if(s){const t=i.clientWidth,l=i.scrollLeft,o=s.offsetParent,n=s.offsetLeft+(o?o.offsetLeft:0),r=s.clientWidth;if(n<l||n>l+t)return e.scrollTo(n);if(n+r>=t+l)return e.scrollTo(l+r)}else if(r){let l=0;for(let e=0;e<a.length&&a[e]!==t;e++)l+=a[e].renderWidth;return e.scrollTo(l)}return Promise.resolve()}(at,l):m()},clearScroll(){const e=Y.value,t=U.value,l=ie.value,o=e?e.$el:null,n=l?l.$el:null,r=t?t.$el:null;return n&&(n.scrollTop=0),r&&(r.scrollLeft=0),o&&(o.scrollTop=0,o.scrollLeft=0),m()},updateFooter(){const{showFooter:t,footerMethod:l}=e,{visibleColumn:o,afterFullData:n}=C;return t&&l&&(w.footerTableData=o.length?l({columns:o,data:n,$table:at,$grid:be}):[]),m()},updateStatus(t,l){const o=!a.isUndefined(l);return m().then((()=>{const{editRules:n}=e,{validStore:r}=w,a=Y.value;if(t&&a&&n){const{row:e,column:n}=t,a="change";if(at.hasCellRules&&at.hasCellRules(a,e,n)){const t=I.getCell(e,n);if(t)return at.validCellRules(a,e,n,l).then((()=>{o&&r.visible&&we(e,n,l),at.clearValidate()})).catch((({rule:r})=>{o&&we(e,n,l),at.showValidTooltip({rule:r,row:e,column:n,cell:t})}))}}}))},setMergeCells:t=>(e.spanMethod&&V("vxe.error.errConflicts",["merge-cells","span-method"]),ht(t,w.mergeList,C.afterFullData),m().then((()=>I.updateCellAreas()))),removeMergeCells(t){e.spanMethod&&V("vxe.error.errConflicts",["merge-cells","span-method"]);const l=gt(t,w.mergeList,C.afterFullData);return m().then((()=>(I.updateCellAreas(),l)))},getMergeCells:()=>w.mergeList.slice(0),clearMergeCells:()=>(w.mergeList=[],m()),setMergeFooterItems:t=>(e.footerSpanMethod&&V("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),ht(t,w.mergeFooterList),m().then((()=>I.updateCellAreas()))),removeMergeFooterItems(t){e.footerSpanMethod&&V("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const l=gt(t,w.mergeFooterList);return m().then((()=>(I.updateCellAreas(),l)))},getMergeFooterItems:()=>w.mergeFooterList.slice(0),clearMergeFooterItems:()=>(w.mergeFooterList=[],m()),focus:()=>(C.isActivated=!0,m()),blur:()=>(C.isActivated=!1,m()),connect:e=>(e?(ye=e,ye.syncUpdate({collectColumn:C.collectColumn,$table:at})):V("vxe.error.barUnableLink"),m())};const nl=t=>{const{editStore:l,ctxMenuStore:o,filterStore:n}=w,{mouseConfig:r}=e,a=M.value,i=Ne.value,{actived:s}=l,c=A.value,d=H.value,u=W.value;if(d&&(se(t,a,"vxe-cell--filter").flag||se(t,d.$el).flag||se(t,document.body,"vxe-table--ignore-clear").flag||I.preventEvent(t,"event.clearFilter",n.args,k.closeFilter)),s.row){if(!1!==i.autoClear){const l=s.args.cell;l&&se(t,l).flag||c&&se(t,c.$el).flag||(!C._lastCallTime||C._lastCallTime+50<Date.now())&&(se(t,document.body,"vxe-table--ignore-clear").flag||I.preventEvent(t,"event.clearActived",s.args,(()=>{let l;if("row"===i.mode){const e=se(t,a,"vxe-body--row"),o=e.flag?k.getRowNode(e.targetElem):null;l=!!o&&!at.eqRow(o.item,s.args.row)}else l=!se(t,a,"col--edit").flag;if(l||(l=se(t,a,"vxe-header--row").flag),l||(l=se(t,a,"vxe-footer--row").flag),!l&&e.height&&!w.overflowY){const e=t.target;Q(e,"vxe-table--body-wrapper")&&(l=t.offsetY<e.clientHeight)}!l&&se(t,a).flag||setTimeout((()=>at.clearActived(t)))})))}}else r&&(se(t,a).flag||be&&se(t,be.getRefMaps().refElem.value).flag||u&&se(t,u.getRefMaps().refElem.value).flag||ye&&se(t,ye.getRefMaps().refElem.value).flag||(at.clearSelected(),at.clearCellAreas&&(se(t,document.body,"vxe-table--ignore-areas-clear").flag||I.preventEvent(t,"event.clearAreas",{},(()=>{at.clearCellAreas(),at.clearCopyCellArea()})))));at.closeMenu&&o.visible&&u&&!se(t,u.getRefMaps().refElem.value).flag&&at.closeMenu(),C.isActivated=se(t,be?be.getRefMaps().refElem.value:a).flag},rl=()=>{k.closeFilter(),at.closeMenu&&at.closeMenu()},al=()=>{k.closeTooltip(),at.closeMenu&&at.closeMenu()},sl=t=>{const{mouseConfig:l,keyboardConfig:o}=e,{filterStore:n,ctxMenuStore:r,editStore:a}=w,i=Ae.value,{actived:s}=a;Jt(t,Pt)&&I.preventEvent(t,"event.keydown",null,(()=>{if(o&&l&&i.area&&at.handleKeyboardEvent)at.handleKeyboardEvent(t);else if((s.row||n.visible||r.visible)&&(t.stopPropagation(),at.closeMenu(),k.closeFilter(),s.row)){const e=s.args;at.clearActived(t),i.selected&&m((()=>at.handleSelected(e,t)))}k.dispatchEvent("keydown",{},t)}))},cl=t=>{C.isActivated&&I.preventEvent(t,"event.keydown",null,(()=>{const{mouseConfig:l,keyboardConfig:o,treeConfig:n,editConfig:r,highlightCurrentRow:i}=e,{ctxMenuStore:s,editStore:c,currentRow:d}=w,u=Ye.value,p=We.value,f=He.value,h=Ae.value,g=Ne.value,v=Je.value,b=Ue.value,{selected:x,actived:y}=c,S=t.keyCode,T=Jt(t,Pt),R=Jt(t,_t),O=Jt(t,Vt),E=Jt(t,At),$=Jt(t,jt),M=Jt(t,qt),L=Jt(t,Bt),N=Jt(t,Yt),F=Jt(t,Wt),P=Jt(t,Ht),A=Jt(t,Ft),V=Jt(t,zt),H=t.metaKey,j=t.ctrlKey,z=t.shiftKey,B=t.altKey,W=M||L||N||F,q=u&&s.visible&&(E||$||W),Y=r&&y.column&&y.row;let U;if(q)t.preventDefault(),s.showChild&&_(s.selected)?at.moveCtxMenu(t,s,"selectChild",M,!1,s.selected.children):at.moveCtxMenu(t,s,"selected",N,!0,b);else if(o&&l&&h.area&&at.handleKeyboardEvent)at.handleKeyboardEvent(t);else if(T){if(at.closeMenu(),k.closeFilter(),y.row&&y.row){const e=y.args;at.clearActived(t),h.selected&&m((()=>at.handleSelected(e,t)))}}else if($&&o&&f.isChecked&&x.row&&x.column&&("checkbox"===x.column.type||"radio"===x.column.type))t.preventDefault(),"checkbox"===x.column.type?I.handleToggleCheckRowEvent(t,x.args):I.triggerRadioRowEvent(t,x.args);else if(A)Y||x.row&&x.column&&(t.preventDefault(),at.handleActived(x.args,t));else if(V)C._keyCtx=x.row&&x.column&&p.length,clearTimeout(ol),ol=setTimeout((()=>{C._keyCtx=!1}),1e3);else if(E&&!B&&o&&f.isEnter&&(x.row||y.row||n&&i&&d)){if(j)y.row&&(U=y.args,at.clearActived(t),h.selected&&m((()=>at.handleSelected(U,t))));else if(x.row||y.row){const e=x.row?x.args:y.args;z?f.enterToTab?at.moveTabSelected(e,z,t):at.moveSelected(e,M,!0,N,!1,t):f.enterToTab?at.moveTabSelected(e,z,t):at.moveSelected(e,M,!1,N,!0,t)}else if(n&&i&&d){const e=d[v.children];if(e&&e.length){t.preventDefault();const l=e[0];U={$table:at,row:l,rowIndex:k.getRowIndex(l),$rowIndex:k.getVMRowIndex(l)},k.setTreeExpand(d,!0).then((()=>k.scrollToRow(l))).then((()=>I.triggerCurrentRowEvent(t,U)))}}}else if(W&&o&&f.isArrow)Y||(x.row&&x.column?at.moveSelected(x.args,M,L,N,F,t):(L||F)&&i&&at.moveCurrentRow(L,F,t));else if(O&&o&&f.isTab)x.row||x.column?at.moveTabSelected(x.args,z,t):(y.row||y.column)&&at.moveTabSelected(y.args,z,t);else if(o&&(P||(n&&i&&d?R&&f.isArrow:R))){if(!Y){const{delMethod:e,backMethod:l}=f;if(f.isDel&&(x.row||x.column))e?e({row:x.row,rowIndex:k.getRowIndex(x.row),column:x.column,columnIndex:k.getColumnIndex(x.column),$table:at}):we(x.row,x.column,null),R?l?l({row:x.row,rowIndex:k.getRowIndex(x.row),column:x.column,columnIndex:k.getColumnIndex(x.column),$table:at}):at.handleActived(x.args,t):P&&k.updateFooter();else if(R&&f.isArrow&&n&&i&&d){const{parent:e}=a.findTree(C.afterFullData,(e=>e===d),v);e&&(t.preventDefault(),U={$table:at,row:e,rowIndex:k.getRowIndex(e),$rowIndex:k.getVMRowIndex(e)},k.setTreeExpand(e,!1).then((()=>k.scrollToRow(e))).then((()=>I.triggerCurrentRowEvent(t,U))))}}}else if(o&&f.isEdit&&!j&&!H&&($||S>=48&&S<=57||S>=65&&S<=90||S>=96&&S<=111||S>=186&&S<=192||S>=219&&S<=222)){const{editMethod:e}=f;x.column&&x.row&&D(x.column.editRender)&&(g.activeMethod&&!g.activeMethod(x.args)||(e?e({row:x.row,rowIndex:k.getRowIndex(x.row),column:x.column,columnIndex:k.getColumnIndex(x.column),$table:at}):(we(x.row,x.column,null),at.handleActived(x.args,t))))}k.dispatchEvent("keydown",{},t)}))},dl=t=>{const{keyboardConfig:l,mouseConfig:o}=e,{editStore:n,filterStore:r}=w,{isActivated:a}=C,i=Ae.value,s=He.value,{actived:c}=n;a&&!r.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&at.handlePasteCellAreaEvent&&at.handlePasteCellAreaEvent(t),k.dispatchEvent("paste",{},t))},ul=t=>{const{keyboardConfig:l,mouseConfig:o}=e,{editStore:n,filterStore:r}=w,{isActivated:a}=C,i=Ae.value,s=He.value,{actived:c}=n;a&&!r.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&at.handleCopyCellAreaEvent&&at.handleCopyCellAreaEvent(t),k.dispatchEvent("copy",{},t))},pl=t=>{const{keyboardConfig:l,mouseConfig:o}=e,{editStore:n,filterStore:r}=w,{isActivated:a}=C,i=Ae.value,s=He.value,{actived:c}=n;a&&!r.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&at.handleCutCellAreaEvent&&at.handleCutCellAreaEvent(t),k.dispatchEvent("cut",{},t))},ml=()=>{at.closeMenu&&at.closeMenu(),I.updateCellAreas(),k.recalculate(!0)},fl=()=>{clearTimeout(C.tooltipTimeout),C.tooltipActive=!0,k.closeTooltip()},hl=(e,t,l,o,n)=>{n.cell=t;const{tooltipStore:r}=C,i=Me.value,{column:s,row:c}=n,{showAll:d,contentMethod:u}=i,p=L.value,f=u?u(n):null,h=u&&!a.eqNull(f),g=h?f:("html"===s.type?l.innerText:l.textContent).trim(),v=l.scrollWidth>l.clientWidth;return g&&(d||h||v)&&(Object.assign(r,{row:c,column:s,visible:!0}),p&&p.open(v?l:o||l,z(g))),m()};I={updateAfterDataIndex:Ct,callSlot(e,t){if(e){if(be)return be.callSlot(e,t);if(a.isFunction(e))return e(t)}return[]},getParentElem(){const e=M.value;if(be){const e=be.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:t}=e,l=M.value;if(l){const e=l.parentNode,o="auto"===t?ne(e):0;return Math.floor(be?be.getParentHeight():a.toNumber(getComputedStyle(e).height)-o)}return 0},getExcludeHeight:()=>be?be.getExcludeHeight():0,defineField(t){const{treeConfig:l}=e,o=Ke.value,n=Je.value,r=Ie.value,i=$e.value,s=pe(at);C.visibleColumn.forEach((({property:e,editRender:l})=>{e&&!a.has(t,e)&&a.set(t,e,l&&!a.isUndefined(l.defaultValue)?l.defaultValue:null)}));return[r.labelField,i.checkField,i.labelField,o.labelField].forEach((e=>{e&&!a.get(t,e)&&a.set(t,e,null)})),l&&n.lazy&&a.isUndefined(t[n.children])&&(t[n.children]=null),a.get(t,s)||a.set(t,s,ue()),t},handleTableData(e){const{scrollYLoad:t}=w,{scrollYStore:l,fullDataRowIdData:o}=C,n=e?(()=>{const{tableFullColumn:e,tableFullData:t}=C,l=Pe.value,o=Fe.value,{remote:n,filterMethod:r}=l,{remote:i,sortMethod:s}=o;let c=t.slice(0);if(!n||!i){const t=[],l=[];if(e.forEach((e=>{const{sortable:o,order:r,filters:a}=e;if(!n&&a&&a.length){const l=[],o=[];a.forEach((e=>{e.checked&&(o.push(e),l.push(e.value))})),o.length&&t.push({column:e,valueList:l,itemList:o})}!i&&o&&r&&l.push({column:e,property:e.property,order:r})})),!n&&t.length&&(c=c.filter((e=>t.every((({column:t,valueList:l,itemList:o})=>{const{filterMethod:n,filterRender:i}=t,s=i?Rt.renderer.get(i.name):null,c=s&&s.renderFilter?s.filterMethod:null,d=xe(e,t);return n?o.some((l=>n({value:l.value,option:l,cellValue:d,row:e,column:t,$table:at}))):c?o.some((l=>c({value:l.value,option:l,cellValue:d,row:e,column:t,$table:at}))):r?r({options:o,values:l,cellValue:d,row:e,column:t}):l.indexOf(a.get(e,t.property))>-1}))))),!i&&l.length)if(s){const e=s({data:c,sortList:l,$table:at});c=a.isArray(e)?e:c}else c=a.orderBy(c,l.map((({column:e,order:t})=>[yt(e),t])))}return C.afterFullData=c,Ct(),c})():C.afterFullData,r=t?n.slice(l.startIndex,l.endIndex):n.slice(0);return r.forEach(((e,t)=>{const l=me(at,e),n=o[l];n&&(n.$index=t)})),w.tableData=r,m()},updateCache(t){const{treeConfig:l}=e,o=Je.value;let{fullDataRowIdData:n,fullAllDataRowIdData:r,tableFullData:i}=C;const s=pe(at),c=l&&o.lazy,d=(e,i,d,u,p)=>{let m=me(at,e);m||(m=ue(),a.set(e,s,m)),c&&e[o.hasChild]&&a.isUndefined(e[o.children])&&(e[o.children]=null);const f={row:e,rowid:m,index:l&&p?-1:i,_index:-1,$index:-1,items:d,parent:p};t&&(n[m]=f),r[m]=f};t&&(n=C.fullDataRowIdData={}),r=C.fullAllDataRowIdData={},l?a.eachTree(i,d,o):i.forEach(d)},analyColumnWidth(){const{tableFullColumn:e}=C,t=Oe.value,{width:l,minWidth:o}=t,n=[],r=[],a=[],i=[],s=[],c=[];e.forEach((e=>{l&&!e.width&&(e.width=l),o&&!e.minWidth&&(e.minWidth=o),e.visible&&(e.resizeWidth?n.push(e):K(e.width)?r.push(e):J(e.width)?i.push(e):K(e.minWidth)?a.push(e):J(e.minWidth)?s.push(e):c.push(e))})),Object.assign(w.columnStore,{resizeList:n,pxList:r,pxMinList:a,scaleList:i,scaleMinList:s,autoList:c})},saveCustomResizable(t){const{id:l,customConfig:o}=e,n=tt.value,{collectColumn:r}=C,{storage:i}=n,s=!0===i||i&&i.resizable;if(o&&s){const e=ct("VXE_TABLE_CUSTOM_COLUMN_WIDTH");let o;if(!l)return void V("vxe.error.reqProp",["id"]);t||(o=a.isPlainObject(e[l])?e[l]:{},a.eachTree(r,(e=>{if(e.resizeWidth){const t=e.getKey();t&&(o[t]=e.renderWidth)}}))),e[l]=a.isEmpty(o)?void 0:o,localStorage.setItem("VXE_TABLE_CUSTOM_COLUMN_WIDTH",a.toJSONString(e))}},saveCustomVisible(){const{id:t,customConfig:l}=e,{collectColumn:o}=C,n=tt.value,{checkMethod:r,storage:i}=n,s=!0===i||i&&i.visible;if(l&&s){const e=ct("VXE_TABLE_CUSTOM_COLUMN_VISIBLE"),l=[],n=[];if(!t)return void V("vxe.error.reqProp",["id"]);a.eachTree(o,(e=>{if(!r||r({column:e}))if(!e.visible&&e.defaultVisible){const t=e.getKey();t&&l.push(t)}else if(e.visible&&!e.defaultVisible){const t=e.getKey();t&&n.push(t)}})),e[t]=[l.join(",")].concat(n.length?[n.join(",")]:[]).join("|")||void 0,localStorage.setItem("VXE_TABLE_CUSTOM_COLUMN_VISIBLE",a.toJSONString(e))}},handleCustom:()=>(I.saveCustomVisible(),I.analyColumnWidth(),k.refreshColumn()),preventEvent(e,t,l,o,n){let r;return Rt.interceptor.get(t).some((t=>!1===t(Object.assign({$grid:be,$table:at,$event:e},l))))||o&&(r=o()),n&&n(),r},checkSelectionStatus(){const{treeConfig:t}=e,{selection:l,treeIndeterminates:o}=w,{afterFullData:n}=C,r=$e.value,{checkField:i,halfField:s,checkStrictly:c,checkMethod:d}=r;if(!c){let e=!1,r=!1;i?(e=n.length>0&&n.every(d?e=>!d({row:e})||a.get(e,i):e=>a.get(e,i)),r=t?s?!e&&n.some((e=>a.get(e,i)||a.get(e,s)||at.findRowIndexOf(o,e)>-1)):!e&&n.some((e=>a.get(e,i)||at.findRowIndexOf(o,e)>-1)):s?!e&&n.some((e=>a.get(e,i)||a.get(e,s))):!e&&n.some((e=>a.get(e,i)))):(e=n.length>0&&n.every(d?e=>!d({row:e})||at.findRowIndexOf(l,e)>-1:e=>at.findRowIndexOf(l,e)>-1),r=t?!e&&n.some((e=>at.findRowIndexOf(o,e)>-1||at.findRowIndexOf(l,e)>-1)):!e&&n.some((e=>at.findRowIndexOf(l,e)>-1))),w.isAllSelected=e,w.isIndeterminate=r}},handleSelectRow({row:t},l){const{treeConfig:o}=e,{selection:n,treeIndeterminates:r}=w,{afterFullData:i}=C,s=Je.value,c=$e.value,{checkField:d,checkStrictly:u,checkMethod:p}=c;if(d)if(o&&!u){-1===l?(-1===at.findRowIndexOf(r,t)&&r.push(t),a.set(t,d,!1)):a.eachTree([t],(e=>{t!==e&&p&&!p({row:e})||(a.set(e,d,l),a.remove(r,(t=>t===e)),Et(t,l))}),s);const e=a.findTree(i,(e=>e===t),s);if(e&&e.parent){let t;const o=p?e.items.filter((e=>p({row:e}))):e.items;if(a.find(e.items,(e=>at.findRowIndexOf(r,e)>-1)))t=-1;else{const n=e.items.filter((e=>a.get(e,d)));t=n.filter((e=>at.findRowIndexOf(o,e)>-1)).length===o.length||!(!n.length&&-1!==l)&&-1}return I.handleSelectRow({row:e.parent},t)}}else p&&!p({row:t})||(a.set(t,d,l),Et(t,l));else if(o&&!u){-1===l?(-1===at.findRowIndexOf(r,t)&&r.push(t),a.remove(n,(e=>e===t))):a.eachTree([t],(e=>{t!==e&&p&&!p({row:e})||(l?n.push(e):a.remove(n,(t=>t===e)),a.remove(r,(t=>t===e)),Et(t,l))}),s);const e=a.findTree(i,(e=>e===t),s);if(e&&e.parent){let t;const o=p?e.items.filter((e=>p({row:e}))):e.items;if(a.find(e.items,(e=>at.findRowIndexOf(r,e)>-1)))t=-1;else{const r=e.items.filter((e=>at.findRowIndexOf(n,e)>-1));t=r.filter((e=>at.findRowIndexOf(o,e)>-1)).length===o.length||!(!r.length&&-1!==l)&&-1}return I.handleSelectRow({row:e.parent},t)}}else p&&!p({row:t})||(l?-1===at.findRowIndexOf(n,t)&&n.push(t):a.remove(n,(e=>e===t)),Et(t,l));I.checkSelectionStatus()},triggerHeaderHelpEvent(e,t){const{column:l}=t,{titleHelp:o}=l;if(o.message){const{tooltipStore:t}=C,l=L.value,n=j(o.message);fl(),t.visible=!0,l&&l.open(e.currentTarget,n)}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:l}=C,{column:o}=t,n=e.currentTarget;fl(),l.column===o&&l.visible||hl(0,n,n,null,t)},triggerBodyTooltipEvent(t,l){const{editConfig:o}=e,{editStore:n}=w,{tooltipStore:r}=C,a=Ne.value,{actived:i}=n,{row:s,column:c}=l,d=t.currentTarget;if(fl(),!(o&&("row"===a.mode&&i.row===s||i.row===s&&i.column===c)||r.column===c&&r.row===s&&r.visible)){let e,t;c.treeNode?(e=d.querySelector(".vxe-tree-cell"),"html"===c.type&&(t=d.querySelector(".vxe-cell--html"))):t=d.querySelector("html"===c.type?".vxe-cell--html":".vxe-cell--label"),hl(0,d,e||d.children[0],t,l)}},triggerFooterTooltipEvent(e,t){const{column:l}=t,{tooltipStore:o}=C,n=e.currentTarget;fl(),o.column===l&&o.visible||hl(0,n,n.querySelector(".vxe-cell--item")||n.children[0],null,t)},handleTargetLeaveEvent(){const e=Me.value;C.tooltipActive=!1,e.enterable?C.tooltipTimeout=setTimeout((()=>{const e=L.value;e&&!e.reactData.isHover&&k.closeTooltip()}),e.leaveDelay):k.closeTooltip()},triggerHeaderCellClickEvent(t,l){const{_lastResizeTime:o}=C,n=Fe.value,{column:r}=l,a=t.currentTarget,i=o&&o>Date.now()-300,s=se(t,a,"vxe-cell--sort").flag,c=se(t,a,"vxe-cell--filter").flag;"cell"!==n.trigger||i||s||c||I.triggerSortEvent(t,r,st(r)),k.dispatchEvent("header-cell-click",Object.assign({triggerResizable:i,triggerSort:s,triggerFilter:c,cell:a},l),t),e.highlightCurrentColumn&&k.setCurrentColumn(r)},triggerHeaderCellDblclickEvent(e,t){k.dispatchEvent("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(t,l){const{highlightCurrentRow:o,editConfig:n}=e,{editStore:r}=w,a=Ke.value,i=Ne.value,s=Je.value,c=Ie.value,d=$e.value,{actived:u}=r,{row:p,column:m}=l,{type:f,treeNode:h}=m,g="radio"===f,v="checkbox"===f,b="expand"===f,x=t.currentTarget,y=g&&se(t,x,"vxe-cell--radio").flag,C=v&&se(t,x,"vxe-cell--checkbox").flag,S=h&&se(t,x,"vxe-tree--btn-wrapper").flag,T=b&&se(t,x,"vxe-table--expanded").flag;l=Object.assign({cell:x,triggerRadio:y,triggerCheckbox:C,triggerTreeNode:S,triggerExpandNode:T},l),C||y||(!T&&("row"===a.trigger||b&&"cell"===a.trigger)&&I.triggerRowExpandEvent(t,l),("row"===s.trigger||h&&"cell"===s.trigger)&&I.triggerTreeExpandEvent(t,l)),S||(T||(o&&(C||y||I.triggerCurrentRowEvent(t,l)),!y&&("row"===c.trigger||g&&"cell"===c.trigger)&&I.triggerRadioRowEvent(t,l),!C&&("row"===d.trigger||v&&"cell"===d.trigger)&&I.handleToggleCheckRowEvent(t,l)),n&&("manual"===i.trigger?u.args&&u.row===p&&m!==u.column&&Ot(t,l):u.args&&p===u.row&&m===u.column||("click"===i.trigger||"dblclick"===i.trigger&&"row"===i.mode&&u.row===p)&&Ot(t,l))),k.dispatchEvent("cell-click",l,t)},triggerCellDblclickEvent(t,l){const{editConfig:o}=e,{editStore:n}=w,r=Ne.value,{actived:a}=n,i=t.currentTarget;l=Object.assign({cell:i},l),o&&"dblclick"===r.trigger&&(a.args&&t.currentTarget===a.args.cell||("row"===r.mode?Tt("blur").catch((e=>e)).then((()=>{at.handleActived(l,t).then((()=>Tt("change"))).catch((e=>e))})):"cell"===r.mode&&at.handleActived(l,t).then((()=>Tt("change"))).catch((e=>e)))),k.dispatchEvent("cell-dblclick",l,t)},handleToggleCheckRowEvent(e,t){const{selection:l}=w,o=$e.value,{checkField:n}=o,{row:r}=t,i=n?!a.get(r,n):-1===at.findRowIndexOf(l,r);e?I.triggerCheckRowEvent(e,t,i):I.handleSelectRow(t,i)},triggerCheckRowEvent(e,t,l){const o=$e.value,{checkMethod:n}=o;n&&!n({row:t.row})||(I.handleSelectRow(t,l),k.dispatchEvent("checkbox-change",Object.assign({records:k.getCheckboxRecords(),reserves:k.getCheckboxReserveRecords(),indeterminates:k.getCheckboxIndeterminateRecords(),checked:l},t),e))},triggerCheckAllEvent(e,t){k.setAllCheckboxRow(t),e&&k.dispatchEvent("checkbox-all",{records:k.getCheckboxRecords(),reserves:k.getCheckboxReserveRecords(),indeterminates:k.getCheckboxIndeterminateRecords(),checked:t},e)},triggerRadioRowEvent(e,t){const l=w.selectRow!==t.row;k.setRadioRow(t.row),l&&k.dispatchEvent("radio-change",t,e)},triggerCurrentRowEvent(e,t){const l=w.currentRow!==t.row;k.setCurrentRow(t.row),l&&k.dispatchEvent("current-change",t,e)},triggerRowExpandEvent(e,t){const{expandLazyLoadeds:l,expandColumn:o}=w,n=Ke.value,{row:r}=t,{lazy:a}=n;if(!a||-1===at.findRowIndexOf(l,r)){const t=!k.isExpandByRow(r),l=k.getColumnIndex(o),n=k.getVMColumnIndex(o);k.setRowExpand(r,t),k.dispatchEvent("toggle-row-expand",{expanded:t,column:o,columnIndex:l,$columnIndex:n,row:r,rowIndex:k.getRowIndex(r),$rowIndex:k.getVMRowIndex(r)},e)}},triggerTreeExpandEvent(e,t){const{treeLazyLoadeds:l}=w,o=Je.value,{row:n,column:r}=t,{lazy:a}=o;if(!a||-1===at.findRowIndexOf(l,n)){const t=!k.isTreeExpandByRow(n),l=k.getColumnIndex(r),o=k.getVMColumnIndex(r);k.setTreeExpand(n,t),k.dispatchEvent("toggle-tree-expand",{expanded:t,column:r,columnIndex:l,$columnIndex:o,row:n},e)}},triggerSortEvent(e,t,l){const o=Fe.value,n=t.property;if(t.sortable){l&&t.order!==l?k.sort({field:n,order:l}):k.clearSort(o.multiple?t:null);const r={column:t,property:n,order:t.order,sortList:k.getSortColumns()};k.dispatchEvent("sort-change",r,e)}},triggerScrollXEvent(){Xt()},triggerScrollYEvent(e){const{scrollYStore:t}=C,{adaptive:l,offsetSize:o,visibleSize:n}=t;Nn&&l&&2*o+n<=40?tl(e):ll(e)},scrollToTreeRow(t){const{treeConfig:l}=e,{tableFullData:o}=C;if(l){const e=Je.value,l=a.findTree(o,(e=>e===t),e);if(l){const e=l.nodes;e.forEach(((t,l)=>{l<e.length-1&&!k.isTreeExpandByRow(t)&&k.setTreeExpand(t,!0)}))}}return m()},updateScrollXSpace(){const{scrollXLoad:e,scrollbarWidth:t}=w,{visibleColumn:l,scrollXStore:o,elemStore:n,tableWidth:r}=C,a=q.value,i=Y.value,s=U.value,c=i?i.$el:null;if(c){const i=a?a.$el:null,d=s?s.$el:null,u=i?i.querySelector(".vxe-table--header"):null,p=c.querySelector(".vxe-table--body"),f=d?d.querySelector(".vxe-table--footer"):null,h=l.slice(0,o.startIndex).reduce(((e,t)=>e+t.renderWidth),0);let g="";e&&(g=`${h}px`),u&&(u.style.marginLeft=g),p.style.marginLeft=g,f&&(f.style.marginLeft=g);["main"].forEach((l=>{["header","body","footer"].forEach((o=>{const a=n[`${l}-${o}-xSpace`];a&&(a.style.width=e?`${r+("header"===o?t:0)}px`:"")}))})),m(St)}},updateScrollYSpace(){const{scrollYLoad:e}=w,{scrollYStore:t,elemStore:l,afterFullData:o}=C,{startIndex:n,rowHeight:r}=t,a=o.length*r,i=Math.max(0,n*r);let s="",c="";e&&(s=`${i}px`,c=`${a}px`),["main","left","right"].forEach((e=>{const t=l[`${e}-body-table`];t&&(t.style.marginTop=s),["header","body","footer"].forEach((t=>{const o=l[`${e}-${t}-ySpace`];o&&(o.style.height=c)}))})),m(St)},updateScrollXData(){Gt(),I.updateScrollXSpace()},updateScrollYData(){I.handleTableData(),I.updateScrollYSpace()},checkScrolling(){const e=de.value,t=he.value,l=Y.value,o=l?l.$el:null;o&&(e&&(o.scrollLeft>0?te(e,"scrolling--middle"):ee(e,"scrolling--middle")),t&&(o.clientWidth<o.scrollWidth-Math.ceil(o.scrollLeft)?te(t,"scrolling--middle"):ee(t,"scrolling--middle")))},updateZindex(){e.zIndex?C.tZindex=e.zIndex:C.tZindex<P()&&(C.tZindex=F())},updateCellAreas(){const{mouseConfig:t}=e,l=Ae.value;t&&l.area&&at.handleUpdateCellAreas&&at.handleUpdateCellAreas()},triggerHoverEvent(e,{row:t}){I.setHoverRow(t)},setHoverRow(e){const t=me(at,e),l=M.value;I.clearHoverRow(),l&&a.arrayEach(l.querySelectorAll(`[rowid="${t}"]`),(e=>te(e,"row--hover"))),C.hoverRow=e},clearHoverRow(){const e=M.value;e&&a.arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),(e=>ee(e,"row--hover"))),C.hoverRow=null},getCell(e,t){const l=me(at,e),o=Y.value,n=Z.value,r=ie.value;let a;return t.fixed&&("left"===t.fixed?n&&(a=n.$el):r&&(a=r.$el)),a||(a=o.$el),a?a.querySelector(`.vxe-body--row[rowid="${l}"] .${t.id}`):null},getCellLabel(e,t){const l=t.formatter,o=xe(e,t);let n=o;if(l){let r;const{fullAllDataRowIdData:i}=C,s=me(at,e),c=t.id,d=i[s];if(d&&(r=d.formatData,r||(r=i[s].formatData={}),d&&r[c]&&r[c].value===o))return r[c].label;const u={cellValue:o,row:e,rowIndex:k.getRowIndex(e),column:t,columnIndex:k.getColumnIndex(t)};if(a.isString(l)){const e=Rt.formats.get(l);n=e?e(u):""}else if(a.isArray(l)){const e=Rt.formats.get(l[0]);n=e?e(u,...l.slice(1)):""}else n=l(u);r&&(r[c]={value:o,label:n})}return n},findRowIndexOf:(e,t)=>t?a.findIndexOf(e,(e=>at.eqRow(e,t))):-1,eqRow:(e,t)=>!(!e||!t)&&(e===t||me(at,e)===me(at,t))},Object.assign(at,k,I);const gl=t=>{const{showHeader:l,showFooter:o}=e,{tableData:n,tableColumn:r,tableGroupColumn:a,columnStore:i,footerTableData:d}=w,u="left"===t,p=u?i.leftList:i.rightList;return s("div",{ref:u?de:he,class:`vxe-table--fixed-${t}-wrapper`},[l?s(c("vxe-table-header"),{ref:u?X:oe,fixedType:t,tableData:n,tableColumn:r,tableGroupColumn:a,fixedColumn:p}):v(),s(Ln,{ref:u?Z:ie,fixedType:t,tableData:n,tableColumn:r,fixedColumn:p}),o?s(c("vxe-table-footer"),{ref:u?le:ce,footerTableData:d,tableColumn:r,fixedColumn:p,fixedType:t}):v()])},vl=()=>{const t=Qe.value,o={$table:at};if(l.empty)return l.empty(o);{const e=t.name?Rt.renderer.get(t.name):null,l=e?e.renderEmpty:null;if(l)return l(t,o)}return j(e.emptyText)||E.i18n("vxe.table.emptyText")};function bl(){const e=M.value;e&&e.clientWidth&&e.clientHeight&&k.recalculate()}let xl;i((()=>e.data),(e=>{const{inited:t,initStatus:l}=C;Lt(e||[]).then((()=>{C.inited=!0,C.initStatus=!0,l||Nt(),t||Ut(),k.recalculate()}))})),i((()=>w.staticColumns),(e=>{Qt(e)})),i((()=>w.tableColumn),(()=>{I.analyColumnWidth()})),i((()=>e.showHeader),(()=>{m((()=>{k.recalculate(!0).then((()=>k.refreshScroll()))}))})),i((()=>e.showFooter),(()=>{m((()=>{k.recalculate(!0).then((()=>k.refreshScroll()))}))})),i((()=>e.height),(()=>{m((()=>k.recalculate(!0)))})),i((()=>e.maxHeight),(()=>{m((()=>k.recalculate(!0)))})),i((()=>e.syncResize),(e=>{e&&(bl(),m((()=>{bl(),setTimeout((()=>bl()))})))})),i((()=>e.mergeCells),(e=>{k.clearMergeCells(),e&&k.setMergeCells(e)})),i((()=>e.mergeFooterItems),(e=>{k.clearMergeFooterItems(),e&&k.setMergeFooterItems(e)})),Rt.hooks.forEach((e=>{const{setupTable:t}=e;if(t){const e=t(at);e&&a.isObject(e)&&Object.assign(at,e)}})),I.preventEvent(null,"created",{$table:at}),m((()=>{const{data:t,treeConfig:l,showOverflow:o}=e,{scrollXStore:n,scrollYStore:r}=C,a=Te.value;if(Object.assign(r,{startIndex:0,endIndex:0,visibleSize:0,adaptive:!1!==a.adaptive}),Object.assign(n,{startIndex:0,endIndex:0,visibleSize:0}),Lt(t||[]).then((()=>{t&&t.length&&(C.inited=!0,C.initStatus=!0,Nt(),Ut()),St()})),e.autoResize){const t=M.value,l=I.getParentElem();xl=En((()=>{e.autoResize&&k.recalculate(!0)})),t&&xl.observe(t),l&&xl.observe(l)}el.on(at,"paste",dl),el.on(at,"copy",ul),el.on(at,"cut",pl),el.on(at,"mousedown",nl),el.on(at,"blur",rl),el.on(at,"mousewheel",al),el.on(at,"keydown",cl),el.on(at,"resize",ml),at.handleGlobalContextmenuEvent&&el.on(at,"contextmenu",at.handleGlobalContextmenuEvent)})),R((()=>{k.recalculate().then((()=>k.refreshScroll())),I.preventEvent(null,"activated",{$table:at})})),O((()=>{C.isActivated=!1,I.preventEvent(null,"deactivated",{$table:at})})),y((()=>{I.preventEvent(null,"mounted",{$table:at})})),T((()=>{xl&&xl.disconnect(),k.closeFilter(),at.closeMenu&&at.closeMenu(),I.preventEvent(null,"beforeUnmount",{$table:at})})),y((()=>{el.off(at,"paste"),el.off(at,"copy"),el.off(at,"cut"),el.off(at,"mousedown"),el.off(at,"blur"),el.off(at,"mousewheel"),el.off(at,"keydown"),el.off(at,"resize"),el.off(at,"contextmenu"),I.preventEvent(null,"unmounted",{$table:at})}));return at.renderVN=()=>{const{loading:t,stripe:o,showHeader:a,height:i,treeConfig:u,mouseConfig:p,showFooter:m,highlightCell:f,highlightHoverRow:g,highlightHoverColumn:b,editConfig:x}=e,{isGroup:y,overflowX:C,overflowY:S,scrollXLoad:T,scrollYLoad:R,scrollbarHeight:O,tableData:E,tableColumn:k,tableGroupColumn:I,footerTableData:$,initStore:D,columnStore:F,filterStore:P}=w,{leftList:V,rightList:_}=F,j=Me.value,z=Je.value,B=h.value,G=lt.value,X=Ae.value,Z=Ce.value,K=Le.value,J=Ye.value;return s("div",{ref:M,class:["vxe-table","vxe-table--render-default",`tid_${d}`,`border--${G}`,{[`size--${B}`]:B,"vxe-editable":!!x,"cell--highlight":f,"cell--selected":p&&X.selected,"cell--area":p&&X.area,"row--highlight":g,"column--highlight":b,"is--header":a,"is--footer":m,"is--group":y,"is--tree-line":u&&z.line,"is--fixed-left":V.length,"is--fixed-right":_.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!u&&o,"is--loading":t,"is--empty":!t&&!E.length,"is--scroll-y":S,"is--scroll-x":C,"is--virtual-x":T,"is--virtual-y":R}],onKeydown:sl},[s("div",{class:"vxe-table-slots"},l.default?l.default({}):[]),s("div",{class:"vxe-table--render-wrapper"},[s("div",{class:"vxe-table--main-wrapper"},[a?s(c("vxe-table-header"),{ref:q,tableData:E,tableColumn:k,tableGroupColumn:I}):v(),s(Ln,{ref:Y,tableData:E,tableColumn:k}),m?s(c("vxe-table-footer"),{ref:U,footerTableData:$,tableColumn:k}):v()]),s("div",{class:"vxe-table--fixed-wrapper"},[V&&V.length&&C?gl("left"):v(),_&&_.length&&C?gl("right"):v()])]),s("div",{ref:ve,class:"vxe-table--empty-placeholder"},[s("div",{class:"vxe-table--empty-content"},vl())]),s("div",{class:"vxe-table--border-line"}),s("div",{ref:ge,class:"vxe-table--resizable-bar",style:C?{"padding-bottom":`${O}px`}:null}),s("div",{class:["vxe-table--loading vxe-loading",{"is--visible":t}]},[s("div",{class:"vxe-loading--spinner"})]),D.filter?s(c("vxe-table-filter"),{ref:H,filterStore:P}):v(),D.import&&e.importConfig?s(c("vxe-import-panel"),{defaultOptions:w.importParams,storeData:w.importStore}):v(),D.export&&(e.exportConfig||e.printConfig)?s(c("vxe-export-panel"),{defaultOptions:w.exportParams,storeData:w.exportStore}):v(),J?s(c("vxe-table-context-menu"),{ref:W}):v(),n?s(c("vxe-tooltip"),{ref:N,isArrow:!1,enterable:!1}):v(),n&&e.editRules&&Z.showMessage&&("default"===Z.message?!i:"tooltip"===Z.message)?s(c("vxe-tooltip"),r({ref:A,class:"vxe-table--valid-error"},"tooltip"===Z.message||1===E.length?K:{})):v(),n?s(c("vxe-tooltip"),r({ref:L},j)):v()])},x("xecolgroup",null),x("$xetable",at),at},render(){return this.renderVN()}});const Pn=Object.assign(Fn,{install:function(e){Dt.component(Fn.name,Fn),e.component(Fn.name,Fn)}});var An={vxe:{error:{groupFixed:"如果使用分组表头，固定列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',scrollXNotGroup:'横向虚拟滚动不支持分组表头，需要设置 "scroll-x.enabled=false" 参数，否则可能会导致出现错误',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',coverProp:'"{0}" 的参数 "{1}" 被覆盖，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sortAsc:"升序",sortDesc:"降序",fixedColumn:"锁定列",fixedGroup:"锁定组",cancelFixed:"取消锁定",fixedLeft:"锁定左侧",fixedRight:"锁定右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"#",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"还原"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{emptyText:"暂无数据"},pager:{goto:"前往",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",prevPage:"上一页",nextPage:"下一页",prevJump:"向上跳页",nextJump:"向下跳页"},alert:{title:"消息提示"},button:{confirm:"确认",cancel:"取消"},import:{modes:{covering:"覆盖",insert:"新增"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{zoomIn:"最大化",zoomOut:"还原",close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"还原"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}}}};const Vn=[ro,io,Ot,Lt,ol,al,Zl,Jl,lo,ho,vo,To,Oo,ko,Io,Mo,Do,Lo,Fo,Po,Ho,_o,Yo,Go,on,an,cn,dn,vn,xn,yn,In,Mn,Pn];bt({i18n:(e,t)=>a.toFormatString(a.get(An,e),t)});var Hn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:function(e,t){a.isPlainObject(t)&&bt(t),Vn.forEach((t=>t.install(e)))},interceptor:q,renderer:pt,commands:ft,menus:ht,formats:gt,hooks:vt,setup:bt,use:yt,t:Ct,_t:St,config:Tt,v:"v4",VXETable:Rt,Icon:Ot,Filter:Lt,Edit:al,saveFile:Dl,readFile:El,print:Xl,Export:Zl,Keyboard:Jl,Validator:lo,Header:ro,Footer:io,Column:ho,Colgroup:vo,Grid:To,Menu:ol,Toolbar:Oo,Pager:ko,Checkbox:Io,CheckboxGroup:Mo,Radio:Do,RadioGroup:Lo,RadioButton:Fo,Input:Po,Textarea:Ho,Button:_o,modal:qo,Modal:Yo,Tooltip:Go,Form:on,FormItem:an,FormGather:cn,Select:dn,Optgroup:vn,Option:xn,Switch:yn,List:In,Pulldown:Mn,Table:Pn});export{Hn as V};
